webpackJsonp([0],{1056:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1057),a=n(444),o=n(2617),i=function(e,t){var n=Object(r.a)(Object(a.a)(e),Object(a.a)(t));return{fromPoint:Object(o.a)(Object(a.a)(e),e.radius,n),toPoint:Object(o.a)(Object(a.a)(t),t.radius,n-Math.PI)}}},1057:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.atan2(r,n)}},1058:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(598),a=(n.n(r),n(1059)),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this,c=function(e,t,n){return o(s,void 0,Promise,function(){var o,s,c,u,l,p,d,f,h,g,y,m,b,v,w,O,I,x;return i(this,function(i){switch(i.label){case 0:if(o=e.width,s=e.height,c=r(n),(u=document.createElement("canvas")).width=o,u.height=s,!(l=u.getContext("2d")))return[2];if(l.save(),l.drawImage(e,0,0),p=l.getImageData(0,0,o,s),d=p.data,(f=document.createElement("canvas")).width=o,f.height=s,!(h=f.getContext("2d")))return[2];for(h.save(),h.drawImage(t,0,0),g=h.getImageData(0,0,o,s),y=g.data,m=0;m<d.length/4;m++)v=b=4*m,w=++b,O=++b,I=++b,y[I]>0&&(y[v]=c.get("rgb.r"),y[w]=c.get("rgb.g"),y[O]=c.get("rgb.b"));return h.putImageData(g,0,0),l.globalCompositeOperation="multiply",l.save(),l.drawImage(f,0,0),[4,Object(a.a)(u)];case 1:return x=i.sent(),!1&&(u.title="outputCanvas",f.title="maskCanvas",x.title="outputImageElement",document.body.appendChild(u),document.body.appendChild(f),document.body.appendChild(x)),[2,x]}})})}},1059:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this,i=function(e){return new Promise(function(t,n){return r(o,void 0,void 0,function(){var n;return a(this,function(r){return(n=document.createElement("img")).src=e.toDataURL(),n.addEventListener("load",function(){t(n)}),[2]})})})}},1060:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,a=n(365),o=n.n(a),i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c=function(e){function t(t){var n=s({x:0,y:0,key:""},t),r=n.scene,a=n.x,o=n.y,i=n.key,c=n.frame;return e.call(this,r,a,o,i,c)||this}return i(t,e),t.prototype.setPerfAlpha=function(e){this._alpha!==e&&(this.alpha=e)},t.prototype.setTexture=function(t,n){return this.texture&&this.texture.key===t?this:e.prototype.setTexture.call(this,t,n)},t}(o.a.GameObjects.Image);c.prototype=Object.assign(c.prototype)},1063:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(2668),a=n(2669),o={welcome:r.a,sendFirstShip:a.a}},1064:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(13),a=function(e,t){var n=r.c.ui.planetMap.getUI(e),a=n.getGame,o=n.getCanvasElement;if(!a)return null;var i=a();if(!o)return null;var s=o(),c=i.scene.getAt(0);if(!c)throw new Error("No scene");var u=c.cameras.main,l=s.getBoundingClientRect();return{x:l.width/2+l.x-(u.midPoint.x-t.x)*u.zoom,y:l.height/2+l.y-(u.midPoint.y-t.y)*u.zoom}}},107:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.send="ship.send",e.requestSendShip="ship.requestSendShip",e.requestSendShipError="ship.requestSendShipError",e.arrive="ship.arrive",e.createStream="ship.createStream",e.requestCreateStream="ship.requestCreateStream",e.createStreamError="ship.createStreamError",e.deleteStream="ship.deleteStream",e.requestDeleteStream="ship.requestDeleteStream",e.deleteStreamError="ship.deleteStreamError"}(r||(r={}))},1071:function(e,t,n){"use strict";t.a=function(e){return null!=e}},108:function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"i",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return p});var r="#515763",a=10,o=100,i=128,s="\u2756",c="$",u=[1,3,6,10,15,30,60,180,360,500,750,1e3],l=1,p=!1},110:function(e,t,n){"use strict";var r,a,o,i,s;n.d(t,"d",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"e",function(){return s}),function(e){e.loading="loading",e.loaded="loaded",e.none="none"}(r||(r={})),function(e){e.loading="loading",e.playing="playing",e.ended="ended"}(a||(a={})),function(e){e.connected="connected",e.disconnected="disconnected",e.reconnecting="reconnecting"}(o||(o={})),function(e){e.ship="ship",e.shipStream="shipStream"}(i||(i={})),function(e){e.blue="#8397ff",e.red="#e9474a",e.yellow="#fee467",e.limeGreen="#8bc861",e.green="#088450",e.orange="#f15427",e.brown="#70401a",e.pink="#f493be",e.magenta="#ff00ff",e.coral="#ffd8ae"}(s||(s={}))},1104:function(e,t,n){n(1105),e.exports=n(1305)},1105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1106),a=(n.n(r),n(1245));n.n(a);"undefined"===typeof Promise&&(n(1301).enable(),window.Promise=n(1303)),n(1304),Object.assign=n(435)},121:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.setCurrentPlayerId="player.setCurrentPlayerId",e.addMany="player.addMany",e.addResources="player.addResources",e.requestRoomLogin="player.requestRoomLogin",e.requestRoomLoginError="player.requestRoomLoginError",e.onRoomLogin="player.onRoomLogin",e.exitRoom="player.exitRoom",e.onCurrentPlayerRoomLogin="player.onCurrentPlayerRoomLogin",e.currentPlayerExitRoom="player.currentPlayerExitRoom",e.setName="player.setName",e.planetKilled="player.planetKilled",e.addResourcesToMany="player.addResourcesToMany",e.removeAllPlayers="player.removeAllPlayers",e.loggingInPlayer="player.loggingInPlayer",e.depositsReleased="player.depositsReleased"}(r||(r={}))},122:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(108),a=function(e){return""+r.i+e}},13:function(e,t,n){"use strict";n.d(t,"b",function(){return A}),n.d(t,"c",function(){return M});var r=n(443),a=n(1368),o=n(209),i=n(1485),s=n(1486),c=n(1487),u=n(1488),l=n(1489),p=n(1490),d=n(1491),f=n(1492),h=n(1494),g=n(1495),y=n(697),m=n(1497),b=n(1498),v=n(1499),w=n(1500),O=n(1501),I=n(257),x=n(1502),P=n(1503),j=n(1504),S=n(1505),k=n(1506),C=n(107),E=n(1507),_=n(1508),B=n(1509),T=n(1510),A={ui:{}},D=[C.a.arrive,C.a.send];t.a=function(e,t){return D.includes(t.type)?e:(e=Object(_.a)(e,t),e=Object(B.a)(e,t),e=Object(T.a)(e,t),{players:o.m(e.players,t),users:i.b(e.users,t),planets:r.k(e.planets,t),ships:a.e(e.ships,t),system:s.i(e.system,t),toasts:c.c(e.toasts,t),chat:u.c(e.chat,t),accounts:p.c(e.accounts,t),accountsToUsers:d.a(e.accountsToUsers,t),roomDeposits:g.c(e.roomDeposits,t),upgrades:y.d(e.upgrades,t),ui:{planetMap:k.c(e.ui.planetMap,t),gameSettings:l.b(e.ui.gameSettings,t),global:f.m(e.ui.global,t),tutorial:h.c(e.ui.tutorial,t)}})};var M={chat:{getMessages:function(e){return u.b(e.chat)},getGameState:function(e){return u.a(e.chat)}},roomDeposits:{getGameState:function(e){return g.a(e.roomDeposits)},getRoomDepositByAccountIdAndRoomId:function(e,t,n){return g.b(e.roomDeposits,t,n)}},accounts:{getGameState:function(e){return p.b(e.accounts)},getAccountById:function(e,t){return p.a(e.accounts,t)}},advanced:{getCurrentSelectedPlanet:b.a,canStartGameWith:O.a,canUpgrade:P.a,canDeleteShipStream:w.a,canSendChatMessage:E.a,canCreateShipStream:m.a,canCreateShip:v.a,canCreatePlanet:I.b,getUnitsToAddToPlanetPerCycleForPlayerId:S.a,getScoreBoardData:x.a,getRandomSpawnablePlanet:j.a,getGameState:function(e){return{planets:M.planets.getGameState(e),ships:M.ships.getGameState(e),players:M.players.getGameState(e),system:M.system.getGameState(e),chat:M.chat.getGameState(e),roomDeposits:M.roomDeposits.getGameState(e),accounts:M.accounts.getGameState(e),upgrades:M.upgrades.getGameState(e)}}},users:{getUserById:function(e,t){return i.a(e.users,t)}},players:{getPlayersById:function(e){return o.g(e.players)},getGameState:function(e){return o.b(e.players)},getPlayersAsList:function(e){return o.h(e.players)},getOnlinePlayers:function(e){return o.d(e.players)},getOfflinePlayers:function(e){return o.c(e.players)},getPlayerById:function(e,t){return o.e(e.players,t)},isPlayerIdOnline:function(e,t){return o.l(e.players,t)},getPlayerWithAccountId:function(e,t){return o.f(e.players,t)},isAccountLoggingIn:function(e,t){return o.k(e.players,t)}},planets:{getPlanetById:function(e,t){return r.c(e.planets,t)},getPlanetsById:function(e){return r.e(e.planets)},getGameState:function(e){return r.b(e.planets)},getEstimatedUnitsToSendByShipFromPlanet:function(e,t){return r.a(e.planets,t)},getPlanetsOwnedByPlayerId:function(e,t){return r.h(e.planets,t)},getPlanetIdsToThreatLevel:function(e,t){return r.d(e.planets,t)},getPlanetsInRangeOfPlanetId:function(e,t){return r.g(e.planets,t)},getPlanetsByProtectedGroupId:function(e,t){return r.f(e.planets,t)},isPlanetProtectedByPlayerId:function(e,t,n){return r.j(e.planets,t,n)},getRandomSpawnablePlanet:function(e){return r.i(e.planets)}},ships:{getShipStreams:function(e,t){return a.c(e.ships,t)},getGameState:function(e){return a.a(e.ships)},getShipsById:function(e){return a.d(e.ships)},getShipById:function(e,t){return a.b(e.ships,t)}},system:{getRoomId:function(e){return s.h(e.system)},getActions:function(e){return s.a(e.system)},getGameEndDate:function(e){return s.c(e.system)},getGameStatus:function(e){return s.e(e.system)},getGameState:function(e){return s.d(e.system)},getPublicSetting:function(e,t){return s.g(e.system,t)},getPlayerIdFromClientId:function(e,t){return s.f(e.system,t)},getClientIdFromPlayerId:function(e,t){return s.b(e.system,t)}},toasts:{getLastToast:function(e){return c.b(e.toasts)},getLastError:function(e){return c.a(e.toasts)}},upgrades:{getUpgradeDefinitions:function(e){return y.c(e.upgrades)},getGameState:function(e){return y.a(e.upgrades)},getUpgradeDefinitionById:function(e,t){return y.b(e.upgrades,t)}},ui:{global:{getUpgradesPanelState:function(e){return f.l(e.ui.global)},getCurrentAccountId:function(e){return f.d(e.ui.global)},getCurrentPlayer:function(e){var t=M.ui.global.getCurrentPlayerId(e);if(t)return M.players.getPlayerById(e,t)},getCurrentPlayerId:function(e){return f.f(e.ui.global)},getClientDateOffsetInMs:function(e){return f.b(e.ui.global)},getPlayerRoomLoginLoadingStatus:function(e){return f.j(e.ui.global)},getConnectionStatus:function(e){return f.c(e.ui.global)},getCurrentAccountDeposit:function(e){var t=M.ui.global.getCurrentAccountId(e);if(void 0!==t){var n=M.system.getRoomId(e);if(void 0!==n){var r=M.roomDeposits.getRoomDepositByAccountIdAndRoomId(e,t,n);return r?r.depositAmountInCents:void 0}}},getAverageFps:function(e){return f.a(e.ui.global)},getRequestEmailDialogIsOpen:function(e){return f.k(e.ui.global)},getPlayerRequestStartGameLoadingStatus:function(e){return f.i(e.ui.global)},getCurrentClientId:function(e){return f.e(e.ui.global)},getCurrentUserId:function(e){return f.g(e.ui.global)},getCurrentUserStatus:function(e){return f.h(e.ui.global)},getCurrentUser:function(e){var t=M.ui.global.getCurrentUserId(e);return M.users.getUserById(e,t)},getCurrentAccount:function(e){var t=M.ui.global.getCurrentAccountId(e);if(void 0!==t)return M.accounts.getAccountById(e,t)}},planetMap:{getUI:function(e){return k.b(e.ui.planetMap)},getPlanetsMapUILoadingStatus:function(e){return k.a(e.ui.planetMap)}},gameSettings:{getGameSettings:function(e){return l.a(e.ui.gameSettings)}},tutorial:{getCurrentTutorialName:function(e){return h.a(e.ui.tutorial)},getTutorialList:function(e){return h.b(e.ui.tutorial)}}}}},1305:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1306),a=new(n(2710).a);Object(r.a)(document.getElementById("root1"),a)},1306:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(1),a=(n.n(r),n(77)),o=(n.n(a),n(60)),i=n(1337),s=n(2671),c=(n.n(s),n(2673)),u=n(599),l=n(214),p=n(479),d=(n.n(p),n(2674)),f=n(2676),h=n(2687),g=!(l.a&&"#debug"!==location.hash),y=function(e,t){var n=Object(h.a)({enableReduxDevTools:g,roomSCI:t}),s=Object(p.createMuiTheme)(),l=r.createElement(f.a,null,r.createElement(o.a,{store:n},r.createElement(u.b,{value:n},r.createElement(p.MuiThemeProvider,{theme:s},r.createElement(d.a,{theme:s},r.createElement(i.a,null))))));e.hasChildNodes()?a.hydrate(l,e):a.render(l,e),Object(c.a)()}},133:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.addCurrentUserAndAccounts="ui.global.addCurrentUserAndAccounts",e.setVisibilityForUpgradesPanel="ui.global.setVisibilityForUpgradesPanel"}(r||(r={}))},1337:function(e,t,n){"use strict";var r,a=n(1),o=(n.n(a),n(1338)),i=n(2657),s=n(2665),c=n(2670),u=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(o.a,null),a.createElement(i.a,null),a.createElement(s.a,null),a.createElement(c.a,null))},t}(a.Component);t.a=l},1338:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),a=(n.n(r),n(328)),o=n(1366),i=n(2636),s=n(2656),c=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u=[{id:"home",path:"/",component:i.a},{id:"gameRoot",path:"/game",component:o.a}],l=function(){return r.createElement(a.a,null,r.createElement(r.Fragment,null,u.map(function(e){return r.createElement(a.c,c({key:e.id,exact:!0},e))}),r.createElement(s.a,null)))}},1366:function(e,t,n){"use strict";var r,a,o,i,s,c,u=n(1),l=(n.n(u),n(60)),p=n(30),d=n(13),f=n(110),h=n(698),g=n(41),y=n(1950),m=n(1956),b=n(1969),v=n(1970),w=n(516),O=n.n(w),I=n(2630),x=n(22),P=n(2631),j=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},S=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),k=Object(g.b)("div")(a||(a=j(["\n  position: absolute;\n  @media (max-width: 600px){\n    top: 56px;\n  }\n  @media (min-width: 600px){\n    top: 64px;\n  }\n  bottom: 0;\n  right: 0;\n  left: 0;\n"],["\n  position: absolute;\n  @media (max-width: 600px){\n    top: 56px;\n  }\n  @media (min-width: 600px){\n    top: 64px;\n  }\n  bottom: 0;\n  right: 0;\n  left: 0;\n"]))),C=Object(g.b)("div")(o||(o=j(["\n  position: absolute;\n  bottom: 23px;\n  right: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  pointer-events: none;\n"],["\n  position: absolute;\n  bottom: 23px;\n  right: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  pointer-events: none;\n"]))),E=Object(g.b)("div")(i||(i=j(["\n  position: absolute;\n  top: 0;\n  right: 1px;\n  z-index: 1;\n"],["\n  position: absolute;\n  top: 0;\n  right: 1px;\n  z-index: 1;\n"]))),_=Object(g.b)("div")(s||(s=j(["\n  position: absolute;\n  bottom: 100px;\n  right: 1px;\n  z-index: 1;\n  max-width: 250px;\n  height: 200px;\n"],["\n  position: absolute;\n  bottom: 100px;\n  right: 1px;\n  z-index: 1;\n  max-width: 250px;\n  height: 200px;\n"]))),B=Object(g.b)("section")(c||(c=j(["\n  width: 100%;\n  height: 100%;\n"],["\n  width: 100%;\n  height: 100%;\n"]))),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.render=function(){var e=this.props,t=e.size,n=e.requestEmailDialogIsOpen;this.getLoadingStatus();return u.createElement(B,null,u.createElement(h.a,{inGame:!0}),u.createElement(I.a,{open:n,onClose:this.props.onAddYourEmailDialogClose}),u.createElement(k,null,u.createElement(v.a,null),"wide"===t&&u.createElement(E,null,u.createElement(m.a,null)),"wide"===t&&u.createElement(_,null,u.createElement(b.a,null))),u.createElement(C,null,u.createElement(y.a,null)),u.createElement(P.a,null))},t.prototype.getLoadingStatus=function(){var e=void 0===this.props.currentUser,t=this.props.connectionStatus===f.b.reconnecting,n=this.props.planetMapLoadingStatus===f.d.loading,r=this.props.playerRoomLoginLoadingStatus===f.d.loading,a=this.props.playerRequestStartGameLoadingStatus===f.d.loading;return{isLoading:!(e||t||n||r||a),modulesLoading:{hasCurrentUser:e,isReconnecting:t,isPlanetMapLoading:n,isPlayerRoomLoginLoading:r,isPlayerRequestStartGameLoading:a}}},t}(u.PureComponent),A=Object(l.b)(function(e){return{planetMapLoadingStatus:d.c.ui.planetMap.getPlanetsMapUILoadingStatus(e),playerRoomLoginLoadingStatus:d.c.ui.global.getPlayerRoomLoginLoadingStatus(e),connectionStatus:d.c.ui.global.getConnectionStatus(e),playerRequestStartGameLoadingStatus:d.c.ui.global.getPlayerRequestStartGameLoadingStatus(e),requestEmailDialogIsOpen:d.c.ui.global.getRequestEmailDialogIsOpen(e),ui:d.c.ui.planetMap.getUI(e),currentUser:d.c.ui.global.getCurrentUser(e)}},function(e){return{onAddYourEmailDialogClose:function(){var t=Object(p.a)(x.a.setRequestEmailDialogVisibility,{isVisible:!1});e(t)}}})(T);t.a=O()(function(e){return{size:e.width<500?"narrow":"wide"}})(A)},1367:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t,n){return Math.min(Math.max(e,t),n)}},1368:function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return d});var r=n(107),a=n(22),o=n(1369),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s={shipsById:{},shipStreamsById:{}},c=function(e,t){var n,o,c;if(void 0===e&&(e=s),t.type===a.a.setGameState)e=f(e,t.payload.gameState.ships);else if(t.type===a.a.cleanUpGameData)e=i({},e,{shipsById:{},shipStreamsById:{}});else if(t.type===a.a.newGame)e=i({},e,{shipsById:{},shipStreamsById:{}});else if(t.type===r.a.requestSendShip)e=i({},e,{shipsById:i({},e.shipsById,(n={},n[t.payload.id]=i({},t.payload,{temporary:!0,dateSent:new Date(1/0),arrived:!1,color:"white"}),n))});else if(t.type===r.a.requestSendShipError)delete(e=i({},e,{shipsById:i({},e.shipsById)})).shipsById[t.payload.id];else if(t.type===a.a.batchPerformance&&t.payload.type===r.a.send){var u=t.payload.actions,l=i({},e.shipsById);u.forEach(function(e){var t=e.payload.ship;l[t.id]=i({},t,{temporary:!1})}),e=i({},e,{shipsById:l})}else if(t.type===a.a.batchPerformance&&t.payload.type===r.a.arrive){u=t.payload.actions;var p=i({},e.shipsById);u.forEach(function(e){delete p[e.payload.shipId]}),e=i({},e,{shipsById:p})}else if(t.type===r.a.createStream)e=i({},e,{shipStreamsById:i({},e.shipStreamsById,(o={},o[t.payload.shipStream.id]=i({},t.payload.shipStream,{temporary:!1}),o))});else if(t.type===r.a.requestCreateStream)e=i({},e,{shipStreamsById:i({},e.shipStreamsById,(c={},c[t.payload.shipStream.id]=i({},t.payload.shipStream),c))});else if(t.type===r.a.deleteStream){var d=t.payload.shipStreamId;delete(h=i({},e.shipStreamsById))[d],e=i({},e,{shipStreamsById:h})}else if(t.type===a.a.disconnect)e=i({},e,{shipsById:{},shipStreamsById:{}});else if(t.type===r.a.createStreamError){var h,g=t.payload.shipStream.id;delete(h=i({},e.shipStreamsById))[g],e=i({},e,{shipStreamsById:h})}return e},u=function(e){return e.shipsById},l=function(e,t){return e.shipsById[t]},p=function(e,t){if(t.includeTemporary)return e.shipStreamsById;var n=Object.values(e.shipStreamsById).filter(function(e){return e&&!e.temporary});return Object(o.a)(n)},d=function(e){return{shipsById:e.shipsById,shipStreamsById:e.shipStreamsById}},f=function(e,t){return i({},e,{shipsById:t.shipsById,shipStreamsById:t.shipStreamsById})}},1369:function(e,t,n){"use strict";t.a=function(e){var t={};return e.filter(function(e){return void 0!==e}).forEach(function(e){return t[e.id]=e}),t}},1370:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(445),a=n(108),o=function(e,t){for(var n=e.length;n--;){var o=e[n];if(o)if(o.id!==t.id)if(Object(r.a)(o,t)-o.radius-t.radius<a.e)return!1}return!0}},1483:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(22),a=n(44),o=n(47),i=function(e){return Object(o.f)(Object(a.b)(function(e){return e.type===r.a.authorizedClientAction}),Object(a.b)(function(t){return t.payload.serverAction.type===e}))}},1484:function(e,t,n){"use strict";t.a=function(e){return void 0!==e}},1485:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n(185),a=n(133),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i={usersById:{}},s=function(e,t){var n,s;if(void 0===e&&(e=i),t.type===a.a.addCurrentUserAndAccounts){var c=t.payload.user;e=o({},e,{usersById:o({},e.usersById,(n={},n[c.id]=c,n))})}else if(t.type===r.a.addCurrentUser){c=t.payload.user;e=o({},e,{usersById:o({},e.usersById,(s={},s[c.id]=c,s))})}return e},c=function(e,t){return e.usersById[t]}},1486:function(e,t,n){"use strict";n.d(t,"i",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"f",function(){return p}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return h}),n.d(t,"e",function(){return g}),n.d(t,"d",function(){return y});var r=n(22),a=n(110),o=n(121),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s={gameStatus:a.c.loading,gameEndDate:void 0,clientIdToPlayerIdMap:{},actions:[],publicSettings:{autoSpawnAfterRoomLogin:!0,enableAddPlanetUnits:!0,cleanUpProtectedPlanetsAfterMsOfPlayerOffline:6e4}},c=function(e,t){var n,c;return void 0===e&&(e=s),t.type===r.a.setGameState?e=m(e,t.payload.gameState.system):t.type===r.a.gameEnd?e=i({},e,{gameEndDate:void 0,gameStatus:a.c.ended}):t.type===r.a.newGame?e=i({},e,{gameEndDate:t.payload.gameEndDate,gameStatus:a.c.playing}):t.type===r.a.cleanUpGameData?e=i({},e,{gameStatus:a.c.playing,gameEndDate:void 0}):t.type===o.a.onRoomLogin?e=i({},e,{clientIdToPlayerIdMap:i({},e.clientIdToPlayerIdMap,(n={},n[t.payload.partialPlayer.clientId]=t.payload.partialPlayer.playerId,n))}):t.type===r.a.setPublicSetting?e=i({},e,{publicSettings:i({},e.publicSettings,(c={},c[t.payload.key]=t.payload.value,c))}):t.type===r.a.disconnect?e=i({},e,{gameStatus:a.c.loading,gameEndDate:void 0}):t.type===r.a.serverStart&&(e=i({},e,{roomId:t.payload.roomId})),e},u=function(e,t){return e.publicSettings[t]},l=function(e){return e.roomId},p=function(e,t){return e.clientIdToPlayerIdMap[t]},d=function(e,t){var n=void 0;return Object.keys(e.clientIdToPlayerIdMap).forEach(function(r){e.clientIdToPlayerIdMap[r]===t&&(n=r)}),n},f=function(e){return e.gameEndDate},h=function(e){return e.actions},g=function(e){return e.gameStatus},y=function(e){return{gameEndDate:e.gameEndDate,gameStatus:e.gameStatus,roomId:e.roomId,publicSettings:e.publicSettings}},m=function(e,t){return i({},e,{gameEndDate:t.gameEndDate,gameStatus:t.gameStatus,roomId:t.roomId,publicSettings:i({},e.publicSettings,t.publicSettings)})}},1487:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l});var r=n(207),a=n(215),o=n(22),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s={lastToast:void 0,lastError:null},c=function(e,t){return void 0===e&&(e=s),t.type===a.a.addTextToast?e=i({},e,{lastToast:{id:Object(r.a)(),text:t.payload.text,autoClose:t.payload.autoClose,variant:"info"}}):t.type===a.a.addToast?e=i({},e,{lastToast:i({},t.payload.toast),lastError:"error"===t.payload.toast.variant?t.payload.toast.text:e.lastError}):t.type===a.a.removeLastToast?e=i({},e,{lastToast:void 0}):t.type===o.a.cleanUpGameData?e=i({},e,{lastToast:void 0}):t.type===a.a.removeLastError?e=i({},e,{lastError:null}):t.type===a.a.addError&&(e=i({},e,{lastError:t.payload.error})),e},u=function(e){return e.lastToast},l=function(e){return e.lastError}},1488:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var r=n(696),a=n(22),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i={messages:[]},s=function(e,t){if(void 0===e&&(e=i),t.type===a.a.setGameState)e=l(e,t.payload.gameState.chat);else if(t.type===r.a.sendMessage){var n=e.messages.concat([t.payload.message]);n.length>64&&(n=n.slice(-64)),e=o({},e,{messages:n})}return e},c=function(e){return e.messages},u=function(e){return{messages:e.messages}},l=function(e,t){return o({},e,{messages:t.messages})}},1489:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c});var r=n(22),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o={showComets:!0,resolution:1},i=function(e,t){return void 0===e&&(e=o),t.type===r.a.setAverageFps&&t.payload.averageFps<55&&(e=s(e)),e},s=function(e){return e.showComets&&(e=a({},e,{showComets:!1})),e},c=function(e){return e}},1490:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var r=n(133),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o={accountsById:{}},i=function(e,t){return void 0===e&&(e=o),t.type===r.a.addCurrentUserAndAccounts&&(e=s(e,t.payload.accounts)),e},s=function(e,t){var n=a({},e.accountsById);return t.forEach(function(e){n[e.id]=e}),a({},e,{accountsById:n})},c=function(e,t){return e.accountsById[t]},u=function(e){return{accountsById:e.accountsById}}},1491:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(133),a={accountsToUsers:[]},o=function(e,t){if(void 0===e&&(e=a),t.type===r.a.addCurrentUserAndAccounts){var n=t.payload.accountsToUsers;e={accountsToUsers:e.accountsToUsers.concat(n)}}return e}},1492:function(e,t,n){"use strict";n.d(t,"m",function(){return p}),n.d(t,"d",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,"j",function(){return g}),n.d(t,"c",function(){return y}),n.d(t,"a",function(){return m}),n.d(t,"k",function(){return b}),n.d(t,"i",function(){return v}),n.d(t,"e",function(){return w}),n.d(t,"g",function(){return O}),n.d(t,"h",function(){return I}),n.d(t,"l",function(){return x});var r=n(185),a=n(121),o=n(22),i=n(110),s=n(1493),c=n(133),u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l={clientDateOffsetInMs:0,playerRoomLoginLoadingStatus:i.d.none,connectionStatus:i.b.disconnected,averageFps:60,requestEmailDialogIsOpen:!1,playerRequestStartGameLoadingStatus:i.d.none,currentUserLoadingStatus:i.d.loading,upgradesPanelState:{isOpen:!1,planetId:null}},p=function(e,t){if(void 0===e&&(e=l),t.type===c.a.addCurrentUserAndAccounts){var n=Object(s.a)(t.payload.accounts,"fakeMoney");e=u({},e,{currentUserId:t.payload.user.id,currentAccountId:n,currentUserLoadingStatus:i.d.loaded})}else t.type===o.a.requestStartGameWith?e=u({},e,{playerRequestStartGameLoadingStatus:i.d.loading}):t.type===o.a.currentPlayerStartGameWith?e=u({},e,{playerRequestStartGameLoadingStatus:i.d.loaded}):t.type===a.a.currentPlayerExitRoom?e=u({},e,{currentPlayerId:void 0}):t.type===a.a.onCurrentPlayerRoomLogin?e=u({},e,{currentPlayerId:t.payload.partialPlayer.playerId,playerRoomLoginLoadingStatus:i.d.loaded}):t.type===a.a.setCurrentPlayerId?e=u({},e,{currentPlayerId:t.payload.playerId}):t.type===o.a.cleanUpGameData?e=u({},e,{clientDateOffsetInMs:0}):t.type===o.a.disconnect?e=u({},e,{clientDateOffsetInMs:0,playerRoomLoginLoadingStatus:i.d.none,connectionStatus:i.b.disconnected,averageFps:60,playerRequestStartGameLoadingStatus:i.d.none}):t.type===o.a.setServerDateOffset?e=u({},e,{clientDateOffsetInMs:t.payload.offsetInMs}):t.type===a.a.requestRoomLogin?e=u({},e,{playerRoomLoginLoadingStatus:i.d.loading}):t.type===a.a.requestRoomLoginError?e=u({},e,{playerRoomLoginLoadingStatus:i.d.none}):t.type===o.a.clientSideSocketChange&&"reconnect_attempt"===t.payload.newState?e=u({},e):t.type===o.a.clientSideSocketChange&&"reconnect"===t.payload.newState?e=u({},e,{connectionStatus:i.b.connected}):t.type===o.a.clientSideSocketChange&&"reconnect_attempt"===t.payload.newState?e=u({},e,{connectionStatus:i.b.reconnecting}):t.type===o.a.setGameState?e=u({},e,{connectionStatus:i.b.connected}):t.type===o.a.setAverageFps?e=u({},e,{averageFps:t.payload.averageFps}):t.type===o.a.setRequestEmailDialogVisibility?e=u({},e,{requestEmailDialogIsOpen:t.payload.isVisible}):t.type===r.a.addCurrentUser?e=u({},e,{currentUserId:t.payload.user.id,currentUserLoadingStatus:i.d.loaded}):t.type===r.a.setNoCurrentUser?e=u({},e,{currentUserLoadingStatus:i.d.none}):t.type===o.a.appStart?e=u({},e,{currentClientId:t.payload.clientId}):t.type===c.a.setVisibilityForUpgradesPanel&&(e=u({},e,{upgradesPanelState:{isOpen:t.payload.isVisible,planetId:t.payload.planetId}}));return e},d=function(e){return e.currentAccountId},f=function(e){return e.currentPlayerId},h=function(e){return e.clientDateOffsetInMs},g=function(e){return e.playerRoomLoginLoadingStatus},y=function(e){return e.connectionStatus},m=function(e){return e.averageFps},b=function(e){return e.requestEmailDialogIsOpen},v=function(e){return e.playerRequestStartGameLoadingStatus},w=function(e){return e.currentClientId},O=function(e){return e.currentUserId},I=function(e){return e.currentUserLoadingStatus},x=function(e){return e.upgradesPanelState}},1493:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){return e.filter(function(e){return e.accountType===t}).map(function(e){return e.id})[0]}},1494:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l});var r=n(341),a=n(463),o=n(214),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s={tutorialList:[a.a.welcome,a.a.sendFirstShip],currentTutorialIndex:o.a?0:-1},c=function(e,t){return void 0===e&&(e=s),t.type===r.a.next&&(e=i({},e,{currentTutorialIndex:e.currentTutorialIndex+1})),e},u=function(e){return e.tutorialList},l=function(e){return e.tutorialList[e.currentTutorialIndex]||null}},1495:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l});var r=n(256),a=(n.n(r),n(22)),o=n(1496),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s={roomDepositsById:{}},c=function(e,t){return void 0===e&&(e=s),t.type===a.a.setGameState?e=p(e,t.payload.gameState.roomDeposits):t.type===o.a.updateRoomDeposits?t.payload.roomDeposits.forEach(function(t){var n;e=i({},e,{roomDepositsById:i({},e.roomDepositsById,(n={},n[t.id]=t,n))})}):t.type===a.a.newGame&&(e=i({},e,{roomDepositsById:{}})),e},u=function(e,t,n){return r.find(e.roomDepositsById,{accountId:t,roomId:n})},l=function(e){return{roomDepositsById:e.roomDepositsById}},p=function(e,t){return i({},e,{roomDepositsById:t.roomDepositsById})}},1496:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.releasedAllDepositsFromRoomId="roomDeposit.releasedAllDepositsFromRoomId",e.errorReleasingAllDepositsFromRoomId="roomDeposit.errorReleasingAllDepositsFromRoomId",e.updateRoomDeposits="roomDeposit.updateRoomDeposits"}(r||(r={}))},1497:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(331),a=n(210),o=n(13),i=n(122),s=function(e,t){var n=t.fromPlanetId,s=t.toPlanetId,c=t.authenticatedPlayerId;if(void 0===c)return{err:"Authenticated player id is undefined",ok:!1};var u=o.c.planets.getPlanetsById(e),l=o.c.players.getPlayersById(e),p=o.c.ships.getShipStreams(e,{includeTemporary:!1}),d=u[n],f=u[s],h=c,g=l[h];return c!==h?{err:"Authenticated player does't match the ship stream owner id",ok:!1}:n===s?{err:'"From planet" is the same as "to planet"',ok:!1}:d?f?d.ownerId!==c?{err:"From planet owner is not the same as the logged in player",ok:!1}:null===d.ownerId?{err:"No ownerId on the from planet",ok:!1}:g?g.resources<a.a?{err:"You don't have enough resources. To create a ship stream you need "+Object(i.a)(a.a)+". Try again when you have more resources.",ok:!1}:o.c.planets.isPlanetProtectedByPlayerId(e,f.id,h)?{err:"This planet can't be attacked because is necessary to allow the survival of new players. Try attacking another planet.",ok:!1}:!!Object.values(p).find(function(e){return!!e&&(e.fromPlanetId===n&&e.toPlanetId===s)})?{err:"Another ship stream already existing between these 2 planets. Having another one won't send more units, so don't worry about it.",ok:!1}:r.a.isPlanetInRange(d,f)?{ok:!0}:{err:"The destination planet is out of the planet's range. Click on your planet to see the range. Upgrade your planet's range and try again.",ok:!1}:{err:"No owner player found",ok:!1}:{err:"No to planet",ok:!1}:{err:"No from planet",ok:!1}}},1498:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(13),a=function(e){var t=r.c.ui.planetMap.getUI(e).selectedPlanetId;if(t)return r.c.planets.getPlanetById(e,t)}},1499:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(331),a=n(13),o=n(108),i=function(e,t){var n=t.fromPlanetId,i=t.toPlanetId,s=t.ownerId,c=t.authenticatedPlayerId,u=t.units,l=a.c.planets.getPlanetsById(e),p=a.c.players.getPlayersById(e),d=l[n],f=l[i],h=p[s];return void 0===c?{err:"Authenticated player id is undefined",ok:!1}:c!==s?{err:"Owner id is not the same as the authenticated player id",ok:!1}:n===i?{err:'"From planet" is the same as "to planet"',ok:!1}:d?f?d.ownerId!==s?{err:'Current player is not the owner of the "from planet"',ok:!1}:null===d.ownerId?{err:'No ownerId on the "from planet"',ok:!1}:h?u<o.d?{err:"A ship should have at least "+o.d+" units. You are trying to send "+u+" units. Try again when you have more units on your planet.",ok:!1}:r.a.isPlanetInRange(d,f)?a.c.planets.isPlanetProtectedByPlayerId(e,f.id,s)?{err:"This planet can't be attacked because is necessary to allow the survival of new players. Try attacking another planet.",ok:!1}:{ok:!0}:{err:"The destination planet is out of the planet's range. Click on your planet to see the range. Upgrade your planet's range and try again.",ok:!1}:{err:"No owner player found",ok:!1}:{err:'No "to planet" found',ok:!1}:{err:'No "from planet" found',ok:!1}}},1500:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(13),a=function(e,t){var n=t.shipStreamId,a=t.authenticatedPlayerId,o=r.c.ships.getShipStreams(e,{includeTemporary:!1})[n];if(!o)return{ok:!1,err:"No shipStream found"};var i=r.c.planets.getPlanetById(e,o.fromPlanetId);return i?i.ownerId!==a?{ok:!1,err:"Only the planet owner can delete an outgoing stream. Conquer this planet and then try again."}:{ok:!0}:{ok:!1,err:"No fromPlanet found"}}},1501:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(13),a=function(e,t){var n=t.planetId,a=t.authenticatedPlayerId,o=t.playerId;if(void 0===a)return{ok:!1,err:"Player id is undefined"};if(a!==o)return{err:"Authenticated player id doesn't match the player id",ok:!1};if(!r.c.players.getPlayerById(e,a))return{ok:!1,err:"Can't find player with id \""+a+'"'};var i=r.c.planets.getPlanetsOwnedByPlayerId(e,a),s=r.c.planets.getPlanetById(e,n);return s?null!==s.ownerId?{ok:!1,err:"Planet is owned by somebody else"}:i.length>0?{ok:!1,err:"Player owns more than 0 planets"}:{ok:!0}:{ok:!1,err:"Planet not found"}}},1502:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(13),a=n(256),o=(n.n(a),function(e){var t=r.c.players.getPlayersById(e),n=r.c.planets.getPlanetsById(e),o=Object.values(t),i={},s=Object.values(n);s.forEach(function(e){null!==e.ownerId&&(void 0===i[e.ownerId]&&(i[e.ownerId]=0),i[e.ownerId]++)});var c=o.map(function(e){return{playerId:e.id,name:e.name,color:e.color,resources:e.resources,availableMoneyAmountInCents:e.availableMoneyAmountInCents,depositAmountInCents:e.depositAmountInCents,kills:e.kills,countryCode:e.countryCode,planetsOwned:i[e.id]||0,totalPlanets:s.length,online:e.online,hasEmail:e.hasEmail,percentDominated:i[e.id]?i[e.id]/s.length:0}});return a.sortBy(c,"percentDominated").reverse()})},1503:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(13),a=function(e,t){var n=t.authenticatedPlayerId,a=t.planetId,o=t.upgradeDefinitionId;if(!n)return{ok:!1,err:"No authenticatedPlayerId provided."};if(!a)return{ok:!1,err:"No planetId provided."};if(!o)return{ok:!1,err:"No upgradeDefinitionId provided."};var i=r.c.planets.getPlanetById(e,a);if(!i)return{ok:!1,err:"No planet found."};if(i.ownerId!==n)return{ok:!1,err:"You can't upgrade planets you don't own. Conquer this planet and try again."};var s=r.c.players.getPlayerById(e,n);if(!s)return{ok:!1,err:"No player found."};var c=r.c.upgrades.getUpgradeDefinitionById(e,o);return c?s.resources<c.resourcesCost?{ok:!1,err:"Player has not enough resources to upgrade."}:{ok:!0}:{ok:!1,err:"No upgradeDefinition found."}}},1504:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(13),a=n(331),o=n(446),i=function(e){var t=r.c.planets.getPlanetsById(e),n=Object.values(t).filter(a.a.onlyFreePlanet).filter(function(e){return e&&e.playerCanSpawn});return Object(o.a)(n)}},1505:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=(n(214).a,10),a=function(e,t){return r}},1506:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var r=n(267),a=n(110),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i={attackMode:a.a.ship,createPlanetMode:!1,gameAssetsLoadingStatus:a.d.none,isGamePaused:!1,phaserGameLoadingStatus:a.d.none},s=function(e,t){return void 0===e&&(e=i),t.type===r.a.onBackgroundClick?e=o({},e,{selectedPlanetId:void 0,attackMode:a.a.ship}):t.type===r.a.onPlanetIdSelected?e=o({},e,{selectedPlanetId:t.payload.planetId}):t.type===r.a.focusOnPlanet?e=o({},e,{focusOnPlanetId:t.payload.planetId}):t.type===r.a.removePlanetFocus?e=o({},e,{focusOnPlanetId:void 0}):t.type===r.a.setAttackMode?e=o({},e,{attackMode:t.payload.attackMode}):t.type===r.a.setCreatePlanetMode?e=o({},e,{createPlanetMode:t.payload.createPlanetMode}):t.type===r.a.setIsGamePaused?e=o({},e,{isGamePaused:t.payload.isPaused}):t.type===r.a.onPhaserGameCreated?e=o({},e,{phaserGameLoadingStatus:a.d.loaded,getGame:t.payload.getGame,getCanvasElement:t.payload.getCanvasElement}):t.type===r.a.onMount?e=o({},e,{createGame:t.payload.createGame,destroyGame:t.payload.destroyGame}):t.type===r.a.requestCreatePhaserGame?e=o({},e,{phaserGameLoadingStatus:a.d.loading}):t.type===r.a.destroyPhaserGame&&(e=o({},e,{phaserGameLoadingStatus:a.d.none,createGame:void 0,getGame:void 0,getCanvasElement:void 0})),e},c=function(e){return e},u=function(e){return e.phaserGameLoadingStatus}},1507:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(108),a=function(e,t){var n=t.message;return void 0===t.authenticatedPlayerId?{ok:!1,err:"authenticatedPlayerId is undefined"}:n.length>r.a?{ok:!1,err:"Message text too long "+n.length+". Max is "+r.a+" characters."}:""===n?{ok:!1,err:"You can't send an empty message"}:{ok:!0}}},1508:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(208),a=n(209),o=n(108),i=n(13),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c=function(e,t){return t.type===r.a.disownMany&&t.payload.planetIds.forEach(function(t){var n=i.c.planets.getPlanetById(e,t);n&&n.ownerId&&(e=s({},e,{players:a.i(e.players,n.ownerId,-o.f,o.f)}))}),e}},1509:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(22),a=n(107),o=n(443),i=n(108),s=n(209),c=n(13),u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l=function(e,t){return t.type===r.a.batchPerformance&&t.payload.type===a.a.arrive&&t.payload.actions.forEach(function(t){var n=c.c.ships.getShipById(e,t.payload.shipId);if(!n)throw new Error("No ship found");var r=c.c.players.getPlayerById(e,n.ownerId);if(!r)throw new Error("No to ship player owner found");var a=c.c.planets.getPlanetById(e,n.toPlanetId);if(!a)throw new Error("No to planet found");if(a.ownerId===n.ownerId)e=u({},e,{planets:o.l(e.planets,a.id,{units:a.units+n.units})});else{var l=r.availableMoneyAmountInCents>=i.f;if(a.units-n.units<0&&l){var p=a.ownerId;e=u({},e,{planets:o.l(e.planets,a.id,{units:-(a.units-n.units),color:n.color,ownerId:n.ownerId})}),null!==p?(e=u({},e,{players:s.i(e.players,p,-i.f,0)}),e=u({},e,{players:s.i(e.players,n.ownerId,i.f,0)})):e=u({},e,{players:s.i(e.players,n.ownerId,i.f,-i.f)})}else e=u({},e,{planets:o.l(e.planets,a.id,{units:a.units-n.units})})}}),e}},1510:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(464),a=n(443),o=n(209),i=n(697),s=n(13),c=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u=function(e,t){if(t.type===r.a.upgrade){var n=a.c(e.planets,t.payload.planetId);if(n){var u=i.b(e.upgrades,t.payload.upgradeDefinitionId);s.c.advanced.canUpgrade(e,{authenticatedPlayerId:t.payload.playerId,planetId:t.payload.planetId,upgradeDefinitionId:t.payload.upgradeDefinitionId}).ok&&(e=c({},e,{planets:a.l(e.planets,t.payload.planetId,{appliedUpgradeDefinitionIds:n.appliedUpgradeDefinitionIds.concat([t.payload.upgradeDefinitionId]),range:n.range*u.multiplier}),players:o.j(e.players,t.payload.playerId,-u.resourcesCost)}))}}return e}},1573:function(e,t,n){"use strict";var r,a,o=n(1),i=(n.n(o),n(186)),s=n.n(i),c=n(60),u=n(159),l=n.n(u),p=n(474),d=n.n(p),f=n(221),h=n.n(f),g=n(161),y=n.n(g),m=n(734),b=n.n(m),v=n(735),w=n.n(v),O=n(30),I=n(185),x=n(352),P=n(41),j=n(511),S=n.n(j),k=n(512),C=n(133),E=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},_=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),B=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},T=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},A=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},D=Object(P.b)(S.a)(a||(a=E(["\n  margin-left: 10px;\n"],["\n  margin-left: 10px;\n"]))),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={name:"",email:"",password:"",selectedTabId:"register",loading:!1},t.onTabChange=function(e,n){t.setState({selectedTabId:n})},t.onInputChange=function(e){return function(n){var r;t.setState(B({},t.state,((r={})[e]=n.target.value,r)))}},t.onRegisterSubmit=function(e){return T(t,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.preventDefault(),[4,this.onRegister()];case 1:return t.sent(),[2]}})})},t.onLoginSubmit=function(e){return T(t,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.preventDefault(),[4,this.onLogin()];case 1:return t.sent(),[2]}})})},t.onRegister=function(){return T(t,void 0,void 0,function(){var e,t,n;return A(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.setState({loading:!0}),(e=localStorage.getItem("sessionId"))?[4,Object(x.a)("updateUser",{sessionId:e,updateUser:{email:this.state.email,password:this.state.password}})]:[2];case 1:return t=r.sent(),this.setState({loading:!1}),t.ok?(this.props.updateUser(t.payload.user),this.props.onClose(),[3,3]):[2];case 2:return n=r.sent(),alert("Error registering"),console.error(n),[3,3];case 3:return[2]}})})},t.onLogin=function(){return T(t,void 0,void 0,function(){var e,t;return A(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.setState({loading:!0}),[4,Object(x.a)("login",{email:this.state.email,password:this.state.password})];case 1:return e=n.sent(),this.setState({loading:!1}),e.ok&&(localStorage.setItem("sessionId",e.payload.session.id),this.props.addCurrentUserAndAccounts(e.payload),document.location.reload()),[3,3];case 2:return t=n.sent(),alert("Error login"),console.error(t),[3,3];case 3:return[2]}})})},t}return _(t,e),t.prototype.render=function(){var e=this.state.loading;return o.createElement(s.a,{onClose:this.props.onClose,open:this.props.open,maxWidth:"xs"},o.createElement(b.a,{value:this.state.selectedTabId,onChange:this.onTabChange,indicatorColor:"primary",textColor:"primary",fullWidth:!0,disabled:e},o.createElement(w.a,{label:"Register",value:"register"}),o.createElement(w.a,{label:"Login",value:"login"})),"register"===this.state.selectedTabId&&this.renderRegister(),"login"===this.state.selectedTabId&&this.renderLogin())},t.prototype.renderRegister=function(){var e=this.state.loading;return o.createElement("form",{onSubmit:this.onRegisterSubmit},o.createElement(l.a,null,o.createElement(d.a,{autoFocus:!0,margin:"dense",id:"email",label:"Email Address",type:"email",fullWidth:!0,onChange:this.onInputChange("email"),value:this.state.email,tabIndex:1,disabled:e}),o.createElement(d.a,{autoFocus:!0,margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,onChange:this.onInputChange("password"),value:this.state.password,tabIndex:2,disabled:e})),o.createElement(h.a,null,o.createElement(y.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),o.createElement(y.a,{type:"submit",variant:"contained",onClick:this.onRegister,color:"primary",disabled:e},e?"Registering...":"Register",e&&o.createElement(D,{size:15}))),e&&o.createElement(k.a,{variant:"info"},"Please wait until we create your user. It might take a few seconds."))},t.prototype.renderLogin=function(){var e=this.state.loading;return o.createElement("form",{onSubmit:this.onLoginSubmit},o.createElement(l.a,null,o.createElement(d.a,{autoFocus:!0,margin:"dense",id:"email",label:"Email Address",type:"email",fullWidth:!0,onChange:this.onInputChange("email"),value:this.state.email,tabIndex:0,disabled:e}),o.createElement(d.a,{autoFocus:!0,margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,onChange:this.onInputChange("password"),value:this.state.password,tabIndex:1,disabled:e})),o.createElement(h.a,null,o.createElement(y.a,{onClick:this.props.onClose,color:"primary",disabled:e},"Cancel"),o.createElement(y.a,{type:"submit",variant:"contained",onClick:this.onLogin,color:"primary",disabled:e},e?"Logging in...":"Login",e&&o.createElement(D,{size:15}))),e&&o.createElement(k.a,{variant:"info"},"Please wait until we log you into your user. It might take a few seconds."))},t}(o.Component),G=Object(c.b)(void 0,function(e){return{addCurrentUserAndAccounts:function(t){var n=Object(O.a)(C.a.addCurrentUserAndAccounts,t);e(n)},updateUser:function(t){var n=Object(O.a)(I.a.addCurrentUser,{user:t});e(n)}}})(M);t.a=G},1691:function(e,t){},1693:function(e,t){},1725:function(e,t){},1726:function(e,t){},1792:function(e,t){},185:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.addCurrentUser="user.addCurrentUser",e.setNoCurrentUser="user.setNoCurrentUser"}(r||(r={}))},1886:function(e,t,n){"use strict";var r,a=n(1),o=(n.n(a),n(60)),i=n(186),s=n.n(i),c=n(159),u=n.n(c),l=n(362),p=n.n(l),d=n(809),f=n.n(d),h=n(161),g=n.n(h),y=n(221),m=n.n(y),b=n(30),v=n(121),w=n(13),O=n(22),I=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return I(t,e),t.prototype.render=function(){var e=this;return a.createElement(s.a,{onClose:this.props.onClose,open:this.props.open,maxWidth:"xs"},a.createElement(p.a,{id:"alert-dialog-title"},"Play a game!"),a.createElement(u.a,null,a.createElement(f.a,null,"Click on a room below to join a game.")),a.createElement(m.a,null,a.createElement(g.a,{variant:"contained",onClick:function(){return e.onRoomSelected()},color:"primary"},"Room s01")))},t.prototype.onRoomSelected=function(){var e=this.props,t=e.currentUser,n=e.currentAccountId,r=e.clientId;if(!t)return alert("You need to have an user to continue.");if(!t.name)return alert("You need to have a name to the user to continue.");if(!n)return alert("You need to have a selected account to continue.");if(!r)return alert("You need to have a clientId to continue.");var a=localStorage.getItem("sessionId");if(!a)return alert("You need to have a sessionId to continue.");this.props.loginRoom(r,a,n),this.props.onClose()},t}(a.Component),P=Object(o.b)(function(e){return{currentUser:w.c.ui.global.getCurrentUser(e),currentAccountId:w.c.ui.global.getCurrentAccountId(e),clientId:w.c.ui.global.getCurrentClientId(e)}},function(e){return{loginRoom:function(t,n,r){var a=Object(b.b)(v.a.requestRoomLogin,{clientId:t,sessionId:n,accountId:r}),o=Object(b.a)(O.a.requestConnectToRoom,null);e([o,a])}}})(x);t.a=P},1903:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n(1),a=(n.n(r),n(186)),o=n.n(a),i=n(159),s=n.n(i),c=n(362),u=n.n(c),l=n(809),p=n.n(l),d=n(161),f=n.n(d),h=n(221),g=n.n(h),y=n(1904),m=n.n(y),b=n(209),v=n(257),w=n(210),O=function(e){return r.createElement(o.a,{open:e.open,onClose:e.onClose,maxWidth:"xs"},r.createElement(u.a,{id:"alert-dialog-title"},"How to play?"),r.createElement(s.a,null,r.createElement(m.a,{url:"https://www.youtube.com/watch?v=HeOmYdYUgeQ",playing:!0,loop:!0,controls:!0,volume:0,muted:!0,width:"100%",height:"auto"}),r.createElement(p.a,null,"Start the game by selecting a empty planet (grey planets). You can create new planets by clicking on the black background, they will cost you $",v.a,"."),r.createElement(p.a,null,"While you have your planet selected click on a close planet to start streaming units to that planet. After a while you will own that new planet and earn $",b.a,". Click on the circle near your source planet to destroy the stream. Each stream costs $",w.a,"."),r.createElement(p.a,null,"Every few seconds all planets receive new units (recharging), the more planets you have, the less units you received. Also you receive resources every few seconds. Game restarts every few minutes.")),r.createElement(g.a,null,r.createElement(f.a,{onClick:e.onClose,color:"primary"},"Got it")))}},1916:function(e,t,n){"use strict";n.d(t,"a",function(){return L});var r,a,o=n(1),i=(n.n(o),n(186)),s=n.n(i),c=n(60),u=n(159),l=n.n(u),p=n(474),d=n.n(p),f=n(221),h=n.n(f),g=n(161),y=n.n(g),m=n(362),b=n.n(m),v=n(30),w=n(185),O=n(352),I=n(13),x=n(511),P=n.n(x),j=n(41),S=n(512),k=n(133),C=n(715),E=n.n(C),_=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},B=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),T=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},A=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},D=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},M=Object(j.b)(P.a)(a||(a=_(["\n  margin-left: 10px;\n"],["\n  margin-left: 10px;\n"]))),G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={name:"",loading:!1,error:null},t.onInputChange=function(e){return function(n){var r;t.setState(T({},t.state,((r={})[e]=n.target.value,r)))}},t.onSubmit=function(e){return A(t,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return e.preventDefault(),[4,this.saveName()];case 1:return t.sent(),[2]}})})},t.saveName=function(){return A(t,void 0,void 0,function(){var e,t,n,r,a;return D(this,function(o){switch(o.label){case 0:if(!this.state.name)return[2,alert("Please add a name")];o.label=1;case 1:return o.trys.push([1,6,,7]),this.setState({loading:!0}),e=this.props.currentUser,t=void 0,e?(t=localStorage.getItem("sessionId"),[3,4]):[3,2];case 2:return[4,Object(O.a)("createUser",{userAgent:navigator.userAgent})];case 3:if(!(n=o.sent()).ok)return this.setState({loading:!1}),[2,alert("Error creating user: "+n.err)];this.props.addCurrentUserAndAccounts(n.payload),t=n.payload.session.id,localStorage.setItem("sessionId",t),o.label=4;case 4:return[4,Object(O.a)("updateUser",{sessionId:t,updateUser:{name:this.state.name}})];case 5:return r=o.sent(),this.setState({loading:!1}),r.ok?(this.props.updateUser(r.payload.user),[3,7]):[2,alert("Error updating user: "+r.reason)];case 6:return a=o.sent(),this.setState({loading:!1,error:"Error creating user, please try again. Server might be down. Error: "+a}),console.error(a),[3,7];case 7:return[2]}})})},t}return B(t,e),t.prototype.render=function(){var e=this.state.loading;return o.createElement(s.a,{onClose:this.props.onClose,open:this.props.open,maxWidth:"xs"},o.createElement("form",{onSubmit:this.onSubmit},o.createElement(b.a,null,e?"Adding your name...":"Add your full name"),o.createElement(l.a,null,o.createElement(d.a,{autoFocus:!0,margin:"dense",id:"name",label:"Full name",type:"text",fullWidth:!0,onChange:this.onInputChange("name"),value:this.state.name,tabIndex:0,disabled:e}),o.createElement(E.a,{variant:"body1",color:"error",align:"left"},this.state.error)),o.createElement(h.a,null,o.createElement(y.a,{onClick:this.props.onClose,color:"primary",disabled:e},"Cancel"),o.createElement(y.a,{type:"submit",variant:"contained",onClick:this.saveName,color:"primary",disabled:e},e?"Saving name...":"Play as guest",e&&o.createElement(M,{size:15}))),e&&o.createElement(S.a,{variant:"info"},"Please wait until we save your name. It might take a few seconds.")))},t}(o.Component),L=Object(c.b)(function(e){return{currentUser:I.c.ui.global.getCurrentUser(e)}},function(e){return{addCurrentUserAndAccounts:function(t){var n=Object(v.a)(k.a.addCurrentUserAndAccounts,t);e(n)},updateUser:function(t){var n=Object(v.a)(w.a.addCurrentUser,{user:t});e(n)}}})(G)},1917:function(e,t,n){"use strict";var r,a,o,i,s,c,u=n(1),l=(n.n(u),n(186)),p=n.n(l),d=n(60),f=n(734),h=n.n(f),g=n(735),y=n.n(g),m=n(13),b=n(1918),v=n.n(b),w=n(1920),O=n.n(w),I=n(1922),x=n.n(I),P=n(1924),j=n.n(P),S=n(1926),k=n.n(S),C=n(41),E=n(1928),_=n(818),B=n.n(_),T=n(159),A=n.n(T),D=n(221),M=n.n(D),G=n(161),L=n.n(G),R=n(515),U=n(122),z=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},F=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),q=Object(C.b)("div")(a||(a=z(["\n  overflow-x: auto;\n"],["\n  overflow-x: auto;\n"]))),N=Object(C.b)("div")(o||(o=z(["\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  display: inline-block;\n  margin-right: 10px;\n"],["\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  display: inline-block;\n  margin-right: 10px;\n"]))),W=Object(C.b)(N)(i||(i=z(["\n  background-color: green;\n"],["\n  background-color: green;\n"]))),Y=Object(C.b)(N)(s||(s=z(["\n  background-color: red;\n"],["\n  background-color: red;\n"]))),H=Object(C.b)("div")(c||(c=z(["\n  display: inline-block;\n  word-wrap: break-word;\n"],["\n  display: inline-block;\n  word-wrap: break-word;\n"]))),V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedTabId:"players"},t.onTabChange=function(e,n){t.setState({selectedTabId:n})},t}return F(t,e),t.prototype.render=function(){return u.createElement(u.Fragment,null,u.createElement(h.a,{value:this.state.selectedTabId,onChange:this.onTabChange,indicatorColor:"primary",textColor:"primary",fullWidth:!0},u.createElement(y.a,{label:"Players",value:"players"})),"players"===this.state.selectedTabId&&this.renderPlayersTab())},t.prototype.renderPlayersTab=function(){return u.createElement(q,null,u.createElement(v.a,null,u.createElement(j.a,null,u.createElement(k.a,null,u.createElement(x.a,null,"Name"),u.createElement(x.a,{numeric:!0},"Percent dominated"),u.createElement(x.a,{numeric:!0},"Planets owned"),u.createElement(x.a,{numeric:!0},"Money + Deposit"),u.createElement(x.a,{numeric:!0},"Deposit"),u.createElement(x.a,{numeric:!0},"Resources"))),u.createElement(O.a,null,this.props.scoreBoardData.map(function(e){return u.createElement(k.a,{key:e.playerId},u.createElement(x.a,{component:"th",scope:"row"},e.online?u.createElement(W,null):u.createElement(Y,null),u.createElement(H,null,e.name?e.name.slice(0,20):"Unnamed")),u.createElement(x.a,{numeric:!0},Object(E.a)(e.percentDominated)),u.createElement(x.a,{numeric:!0},e.planetsOwned),u.createElement(x.a,{numeric:!0},Object(R.a)(e.availableMoneyAmountInCents+e.depositAmountInCents,!0)),u.createElement(x.a,{numeric:!0},Object(R.a)(e.depositAmountInCents,!0)),u.createElement(x.a,{numeric:!0},Object(U.a)(e.resources)))}))))},t}(u.Component),X=Object(d.b)(function(e){return{scoreBoardData:m.c.advanced.getScoreBoardData(e)}},function(e){return{}})(V);t.a=B()({breakpoint:"xs"})(function(e){return u.createElement(p.a,{onClose:e.onClose,open:e.open,fullScreen:!!e.fullScreen},u.createElement(A.a,null,u.createElement(X,null)),u.createElement(M.a,null,u.createElement(L.a,{variant:"contained",onClick:e.onClose,color:"primary"},"Close")))})},1928:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return Math.round(1e4*e)/100+"%"}},1931:function(e,t,n){"use strict";var r,a,o,i,s,c,u,l,p,d,f=n(1),h=(n.n(f),n(186)),g=n.n(h),y=n(60),m=n(13),b=n(110),v=n(41),w=n(159),O=n.n(w),I=n(818),x=n.n(I),P=n(1932),j=n.n(P),S=n(808),k=n.n(S),C=n(513),E=n.n(C),_=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},B=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),T=(Object(v.b)("div")(a||(a=_(["\n  overflow-x: auto;\n"],["\n  overflow-x: auto;\n"]))),Object(v.b)("div")(o||(o=_(["\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  display: inline-block;\n  margin-right: 10px;\n"],["\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  display: inline-block;\n  margin-right: 10px;\n"])))),A=(Object(v.b)(T)(i||(i=_(["\n  background-color: green;\n"],["\n  background-color: green;\n"]))),Object(v.b)(T)(s||(s=_(["\n  background-color: red;\n"],["\n  background-color: red;\n"]))),Object(v.b)("div")(c||(c=_(["\n  display: inline-block;\n"],["\n  display: inline-block;\n"]))),Object(v.b)("section")(u||(u=_(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"])))),D=Object(v.b)("span")(l||(l=_(["    \n  font-size: 28px;\n  font-weight: bold;\n  padding: 10px;\n"],["    \n  font-size: 28px;\n  font-weight: bold;\n  padding: 10px;\n"]))),M=Object(v.b)("p")(p||(p=_(["    \n  font-size: 12px;\n  padding: 5px;\n"],["    \n  font-size: 12px;\n  padding: 5px;\n"]))),G=Object(v.b)("img")(d||(d=_(["\n  width: 100%;\n  max-width: 256px;\n  padding-top: 10px;\n"],["\n  width: 100%;\n  max-width: 256px;\n  padding-top: 10px;\n"]))),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return B(t,e),t.prototype.render=function(){var e=this.props,t=e.scoreBoardData,n=e.fullScreen,r=t[0],a=t.slice(1);return f.createElement(g.a,{open:this.props.isOpen,fullScreen:!!n},f.createElement(k.a,null,"Match end score board"),f.createElement(O.a,null,f.createElement(E.a,null,"Below are the winners of the previous match."),f.createElement(E.a,null,"A new match will start soon."),f.createElement(A,null,f.createElement(G,{src:j.a}),f.createElement(D,null,"#1. ",r?r.name:"Nobody",": ",r?r.planetsOwned:0," planets of ",r?r.totalPlanets:0)),a.map(function(e,t){return f.createElement(M,{key:e.playerId},"#",t+2,". ",e.name,": ",e.planetsOwned," planets of ",e.totalPlanets)})))},t}(f.Component),R=[],U=Object(y.b)(function(e){var t=m.c.system.getGameStatus(e)===b.c.ended;return{scoreBoardData:t?m.c.advanced.getScoreBoardData(e):R,isOpen:t}},function(e){return{}})(L);t.a=x()({breakpoint:"xs"})(U)},1932:function(e,t,n){e.exports=n.p+"static/media/cup.37328c78.png"},1933:function(e,t,n){e.exports=n.p+"static/media/Planets_logoFull.8d89233b.png"},1934:function(e,t,n){e.exports=n.p+"static/media/Planets_logoSquareWhite_64.f2c338fd.png"},1950:function(e,t,n){"use strict";var r,a,o=n(1),i=(n.n(o),n(60)),s=n(41),c=n(30),u=n(13),l=n(1951),p=n.n(l),d=n(1952),f=n.n(d),h=n(1953),g=n.n(h),y=n(210),m=n(257),b=n(110),v=n(267),w=n(1954),O=n.n(w),I=n(1955),x=n(133),P=n(122),j=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},S=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),k=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},C=Object(s.b)("section")(A||(A=j(["\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  pointer-events: none;\n"],["\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  pointer-events: none;\n"]))),E=Object(s.b)("div")(D||(D=j(["\n  display: inline-block;\n  border: 1px solid white;\n"],["\n  display: inline-block;\n  border: 1px solid white;\n"]))),_=Object(s.b)("button")(M||(M=j(["\n  background: ",";\n  width: 62px;\n  height: 62px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: 1px solid white;\n  outline: none;\n  cursor: ",";\n  transition: 0.3s background-color;\n  pointer-events: all;\n  position: relative;\n  \n  &:hover {\n    ","\n  }\n"],["\n  background: ",";\n  width: 62px;\n  height: 62px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: 1px solid white;\n  outline: none;\n  cursor: ",";\n  transition: 0.3s background-color;\n  pointer-events: all;\n  position: relative;\n  \n  &:hover {\n    ","\n  }\n"])),function(e){return e.toggled?"#389d58":"#181a27"},function(e){return e.toggled&&e.buttonType===a.radio?"not-allowed":"pointer"},function(e){return e.toggled&&e.buttonType===a.radio?"background: #389d58;":e.toggled&&e.buttonType===a.checkbox?"background: #71b47f;":"background: #484e76;"}),B=Object(s.b)("span")(G||(G=j(["\n  font-size: 12px;\n  color: white;\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  user-select: none;\n"],["\n  font-size: 12px;\n  color: white;\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  user-select: none;\n"]))),T=Object(s.b)("span")(L||(L=j(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 12px;\n  font-weight: bold;\n  background: #ffffff;\n  color: #181a27;\n  border-radius: 0 0 0 3px;\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 12px;\n  font-weight: bold;\n  background: #ffffff;\n  color: #181a27;\n  border-radius: 0 0 0 3px;\n"])));!function(e){e.radio="radio",e.checkbox="checkbox",e.button="button"}(a||(a={}));var A,D,M,G,L,R,U=function(e){var t=e.svg,n=e.svgComponent,r=e.title,a=e.tooltip,i=e.price,s=e.toggled,c=e.onClick,u=e.buttonType;return o.createElement(_,{toggled:s,onClick:c,title:a,buttonType:u},t&&o.createElement(I.a,null,t),n?o.createElement("div",null,n):null,o.createElement(B,null,r),void 0!==i&&o.createElement(T,null,i))},z=Object(s.a)(R||(R=j(["\n  width: 32px;\n  height: 32px;\n  fill: white;\n"],["\n  width: 32px;\n  height: 32px;\n  fill: white;\n"]))),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.render=function(){var e=this.props,t=e.selectedPlanet,n=e.attackMode,r=e.setAttackMode,i=e.setCreatePlanetMode,s=e.createPlanetMode,c=e.requestFocusOnMyPlanets,u=e.openUpgradesPanel,l=[t?{key:"stream",svg:p.a,title:"Stream",tooltip:"Creates a stream of ships that continuously sends units to another planet. To delete, press the big circle near the ship stream.",price:""+Object(P.a)(y.a),toggled:n===b.a.shipStream,buttonType:a.checkbox,onClick:function(){n===b.a.shipStream?r(b.a.ship):r(b.a.shipStream)}}:null,t?{key:"upgrades",svg:g.a,title:"Upgrades",tooltip:"Click here to open the upgrade panel for this planet",toggled:!1,buttonType:a.button,onClick:function(){return u(t.id)}}:null,t?null:{key:"planet",svg:f.a,title:"+ Planet",tooltip:"Click here, then click in the black area to create a planet.",price:""+Object(P.a)(m.a),toggled:s,buttonType:a.checkbox,onClick:function(){return i(!s)}},{key:"centerOnMyPlanets",svgComponent:o.createElement(O.a,{className:z}),title:"Center",tooltip:"Click here, then click in the black area to create a planet.",toggled:!1,buttonType:a.radio,onClick:function(){return c()}}];return o.createElement(C,null,o.createElement(E,null,l.map(function(e){return null===e?null:o.createElement(U,k({},e))})))},t}(o.PureComponent),q=Object(i.b)(function(e){var t=u.c.ui.planetMap.getUI(e).selectedPlanetId;return{selectedPlanet:t?u.c.planets.getPlanetById(e,t):void 0,attackMode:u.c.ui.planetMap.getUI(e).attackMode,createPlanetMode:u.c.ui.planetMap.getUI(e).createPlanetMode}},function(e){return{setAttackMode:function(t){var n=Object(c.a)(v.a.setAttackMode,{attackMode:t});e(n)},setCreatePlanetMode:function(t){var n=Object(c.a)(v.a.setCreatePlanetMode,{createPlanetMode:t});e(n)},requestFocusOnMyPlanets:function(){var t=Object(c.a)(v.a.requestFocusOnMyPlanets,null);e(t)},openUpgradesPanel:function(t){var n=Object(c.a)(x.a.setVisibilityForUpgradesPanel,{planetId:t,isVisible:!0});e(n)}}})(F);t.a=q},1951:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" style="height: 32px; width: 32px;"><style type="text/css"> .st0{fill:#FFFFFF;} </style><g style="touch-action: none;"><circle id="XMLID_3_" class="st0" cx="4.6" cy="4.7" r="4.5"></circle><circle id="XMLID_2_" class="st0" cx="16" cy="16" r="4.5"></circle><circle id="XMLID_4_" class="st0" cx="27.5" cy="27.5" r="4.5"></circle></g></svg>'},1952:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" style="height: 32px; width: 32px;"><style type="text/css"> .st0{fill:#FFFFFF;} </style><g style="touch-action: none;"><path id="XMLID_35_" class="st0" d="M15.9,0.1C7.1,0.1,0,7.3,0,16.1S7.1,32,15.9,32s15.9-7.1,15.9-15.9S24.7,0.1,15.9,0.1z M28.5,21.3c-1.6,3.7-4.8,6.6-8.7,7.8c0.1-0.1,0.1-0.3,0.2-0.4c0.3-0.7,0.7-1.2,1.3-1.6c0.5-0.4,1.3-0.9,1.2-1.7 c-0.1-0.5-0.7-0.7-1.1-0.9c-0.7-0.2-1.5-0.3-2.2-0.3c-0.6,0-1.3,0-1.9-0.2c-0.9-0.2-1.1-1-1.2-1.9c-0.1-0.8,0-1.5-0.4-2.2 c-0.5-0.9-1.6-1.1-2.5-1.2c-0.8-0.1-1.5,0-2.3-0.2c-0.7-0.1-1.4-0.4-2.2-0.4c-1,0-1.4,0.7-1.8,1.5c-0.2,0.4-1.5,3.3-2.3,3.9 c-1.3-1.9-2.1-4.2-2.3-6.7c0.1,0,0.2-0.1,0.3-0.1c0.4-0.2,0.7-0.6,1.2-0.7c0.4-0.1,1,0,1.5,0c0.4,0,0.9,0.1,1.4,0 C7.5,16,8,15.4,8.1,14.6c0.1-0.5,0-1,0-1.6c0-0.8,0.6-1.1,1.3-1.2c1.4-0.1,4.6,0.2,4.7-1.9c0-0.9-1.1-1.4-1.8-1.6 C11,7.9,9.5,8,8.1,7.7C7.4,7.5,6.7,7.1,6.2,6.5c2.5-2.5,5.9-4.1,9.7-4.1c0.8,0,1.6,0.1,2.4,0.2c-0.4,0.1-0.8,0.2-1.2,0.3 c-2,0.8-2.1,3.1-1.2,4.8c0.5,1.1,1.4,2,2.3,2.7c0.9,0.7,1.9,1.1,2.9,1.7c1.3,0.7,1.2,2.6,1.5,3.9c0.3,1.1,1,2,2,2.3 c0.6,0.2,1.4,0,2,0.5c0.5,0.4,0.6,1.2,0.9,1.7C27.8,21.1,28.1,21.3,28.5,21.3z"></path></g></svg>'},1953:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-289 381 32 32" style="height: 32px; width: 32px;"><style type="text/css"> .st0{fill:#FFFFFF;} </style><g style="touch-action: none;"><path class="st0" d="M-263.6,413v-16.8h6.6l-16-15.2l-16,15.2h6.6V413h3v-20.6c0-0.2,0-0.4,0-0.6c0-3.3,3-6,6.6-6 c3.5,0,6.4,2.5,6.6,5.6h0V413L-263.6,413z M-273.1,412.4l2.1-15.9l1.3,8.8c0.3-4.3,1.9-9.2,1.9-13.5c0-2.5-2.3-4.6-5.1-4.6 c-2.8,0-5.1,2.1-5.1,4.6c0,0.1,0,0.3,0,0.4c0.5,3.4,1,6.9,1.5,10.3l1-6.7c0,0,0.1,0,0.1,0.1L-273.1,412.4z M-272.9,395.2 c-2,0-3.7-1.5-3.7-3.3c0-1.8,1.6-3.3,3.7-3.3c2,0,3.7,1.5,3.7,3.3C-269.2,393.7-270.9,395.2-272.9,395.2L-272.9,395.2z"></path></g></svg>'},1955:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),a=(n.n(r),function(e){var t=e.children;return r.createElement("span",{dangerouslySetInnerHTML:{__html:t}})})},1956:function(e,t,n){"use strict";var r,a,o,i,s,c,u,l,p,d=n(1),f=(n.n(d),n(60)),h=n(41),g=n(13),y=n(1957),m=(n.n(y),n(256)),b=(n.n(m),n(1965)),v=n.n(b),w=n(1966),O=n.n(w),I=n(1967),x=n.n(I),P=n(1968),j=n(515),S=n(122),k=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},C=m.throttle(g.c.advanced.getScoreBoardData,1e3),E=m.memoize(function(e){return y(e).darken(0).hex()}),_=Object(h.b)("div")(r||(r=k(["\n  width: 300px;\n  height: 200px;\n  overflow: auto;\n  background: #181a27a8;\n  background: linear-gradient(to top, rgba(9,19,38,0) 0%,rgba(9,19,38,1) 100%);\n  border-left: 0.5px solid #ffffff;\n"],["\n  width: 300px;\n  height: 200px;\n  overflow: auto;\n  background: #181a27a8;\n  background: linear-gradient(to top, rgba(9,19,38,0) 0%,rgba(9,19,38,1) 100%);\n  border-left: 0.5px solid #ffffff;\n"]))),B=Object(h.b)("table")(a||(a=k(["\n  width: 100%;\n  padding: 5px;\n  font-size: 12px;\n"],["\n  width: 100%;\n  padding: 5px;\n  font-size: 12px;\n"]))),T=Object(h.b)("tr")(o||(o=k(["\n  color: ",";\n  height: 16px;\n"],["\n  color: ",";\n  height: 16px;\n"])),function(e){return e.color}),A=Object(h.b)("th")(i||(i=k(["\n  text-align: left;\n  font-weight: normal;\n  white-space: nowrap;\n"],["\n  text-align: left;\n  font-weight: normal;\n  white-space: nowrap;\n"]))),D=Object(h.b)(A)(s||(s=k(["\n  text-align: right;\n"],["\n  text-align: right;\n"]))),M=Object(h.b)("td")(c||(c=k(["\n  text-align: left;\n  word-wrap: break-word;\n  height: 16px;\n  vertical-align: middle;\n"],["\n  text-align: left;\n  word-wrap: break-word;\n  height: 16px;\n  vertical-align: middle;\n"]))),G=Object(h.b)("td")(u||(u=k(["\n  text-align: right;\n  height: 16px;\n  vertical-align: middle;\n"],["\n  text-align: right;\n  height: 16px;\n  vertical-align: middle;\n"]))),L=Object(h.b)("span")(l||(l=k(["\n  font-size: 67%;\n"],["\n  font-size: 67%;\n"]))),R=Object(h.a)(p||(p=k(["\n  height: 14px;\n  width: 14px;\n  vertical-align: middle;\n"],["\n  height: 14px;\n  width: 14px;\n  vertical-align: middle;\n"]))),U=function(e,t){return e+t.depositAmountInCents},z=function(e,t){return e+t.availableMoneyAmountInCents+t.depositAmountInCents},F=function(e,t){return e+t.planetsOwned},q=Object(f.b)(function(e){return{scoreBoardData:C(e)}},function(e){return{}})(function(e){var t=e.scoreBoardData,n=t.length,r=t.filter(function(e){return e.online}).length,a=t.reduce(z,0),o=t.reduce(U,0),i=d.createElement("span",null,d.createElement("span",{title:"Total money including deposits"},Object(j.a)(a,!0)),0!==o?d.createElement(L,{title:"In game deposits"},"-",Object(j.a)(o,!1)):""),s=d.createElement("span",{title:"Online players/total players"},"Online ",r,"/",n),c=t.reduce(F,0);return d.createElement(_,null,d.createElement(B,null,d.createElement("tbody",null,d.createElement(T,{color:"#7d7d7d"},d.createElement(A,null,"Players (",i,", ",s,")"),d.createElement(D,null,"Planets (",d.createElement("span",{title:"Planets owned"},c),")")),t.map(function(e,t){var n=e.color||"white",r=d.createElement(P.a,{countryCode:e.countryCode||"?"}),a=e.online?d.createElement("span",{title:"Online"},d.createElement(v.a,{className:R})):d.createElement("span",{title:"Offline"},d.createElement(x.a,{className:R})),o=e.hasEmail?d.createElement("span",{title:"User with email"},d.createElement(O.a,{className:R})):null,i=d.createElement("span",null,d.createElement("span",{title:"Total money including deposits"},Object(j.a)(e.availableMoneyAmountInCents+e.depositAmountInCents,!0)),0!==e.depositAmountInCents?d.createElement(L,{title:"In game deposits"},"-",Object(j.a)(e.depositAmountInCents,!1)):""),s=d.createElement("span",{title:"Rank in game"},"#",(t+1+"").padStart(2,"0")),c=d.createElement("span",{title:"Name"},e.name),u=d.createElement("span",{title:"Resources"},Object(S.a)(e.resources));return d.createElement(T,{key:e.playerId,color:E(n)},d.createElement(M,null,s," ",a," ",r," ",c," ",o," (",i,", ",u,")"),d.createElement(G,null,e.planetsOwned,"/",e.totalPlanets))}))))});t.a=q},1968:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r,a=n(1),o=(n.n(a),n(41)),i=n(823),s=n.n(i),c=n(824),u=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},l=Object(o.b)("span")(r||(r=u(['\n  display: inline-block;\n  height: 16px;\n  width: 16px;\n  vertical-align: text-top;\n  line-height: 16px;\n  background: url("','") no-repeat;\n  background-position-y: ',"px;\n"],['\n  display: inline-block;\n  height: 16px;\n  width: 16px;\n  vertical-align: text-top;\n  line-height: 16px;\n  background: url("','") no-repeat;\n  background-position-y: ',"px;\n"])),s.a,function(e){return e.y}),p=function(e){var t=e.countryCode,n=c.a[t.toLowerCase()]||0;return a.createElement(l,{title:t,y:-n})}},1969:function(e,t,n){"use strict";var r,a,o,i,s,c=n(1),u=(n.n(c),n(60)),l=n(13),p=n(30),d=n(41),f=n(696),h=n(158),g=n.n(h),y=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},m=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),b=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},v=Object(d.b)("section")(a||(a=y(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: #09132685;\n  background: linear-gradient(to bottom, rgba(9,19,38,0) 0%,rgba(9,19,38,1) 100%);\n  border-left: 0.5px solid #ffffff;\n"],["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: #09132685;\n  background: linear-gradient(to bottom, rgba(9,19,38,0) 0%,rgba(9,19,38,1) 100%);\n  border-left: 0.5px solid #ffffff;\n"]))),w=Object(d.b)(g.a)(o||(o=y(["\n  text-align: left;\n  word-wrap: break-word;\n"],["\n  text-align: left;\n  word-wrap: break-word;\n"]))),O=Object(d.b)("input")(i||(i=y(["\n  background: transparent;\n  border: none;\n  border-bottom: 1px solid white;\n  color: white;\n  outline-width: 0;\n  width: 100%;\n  padding: 5px;\n  box-sizing: border-box;\n  \n  &::placeholder, &:-ms-input-placeholder, &::-ms-input-placeholder {\n    color: #ffffffb0;\n  }\n"],["\n  background: transparent;\n  border: none;\n  border-bottom: 1px solid white;\n  color: white;\n  outline-width: 0;\n  width: 100%;\n  padding: 5px;\n  box-sizing: border-box;\n  \n  &::placeholder, &:-ms-input-placeholder, &::-ms-input-placeholder {\n    color: #ffffffb0;\n  }\n"]))),I=Object(d.b)("div")(s||(s=y(["\n  overflow-x: auto;\n  overflow-y: auto;\n  flex-grow: 1;\n  padding: 5px;\n  margin-bottom: 0;\n"],["\n  overflow-x: auto;\n  overflow-y: auto;\n  flex-grow: 1;\n  padding: 5px;\n  margin-bottom: 0;\n"]))),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentMessageText:""},t.onMessageList=function(e){t.messageListElement=e},t.onKeyPress=function(e){"Enter"===e.key&&(t.props.sendMessage(t.state.currentMessageText),t.setState(b({},t.state,{currentMessageText:""})))},t.onInputChange=function(e){t.setState(b({},t.state,{currentMessageText:e.target.value}))},t}return m(t,e),t.prototype.render=function(){return c.createElement(v,null,c.createElement(I,{innerRef:this.onMessageList},this.props.messages.reduce(function(e,t){return e.push(c.createElement(w,{key:t.id,variant:"body1",style:{color:t.color},title:t.date.toString()},c.createElement("strong",null,t.ownerName),": ",t.text)),e},[])),c.createElement(O,{id:"name",type:"text",onChange:this.onInputChange,value:this.state.currentMessageText,tabIndex:0,autoComplete:"off",onKeyPress:this.onKeyPress,placeholder:"Type your message here"}))},t.prototype.componentDidUpdate=function(e){this.props.messages.length>e.messages.length&&this.messageListElement&&(this.messageListElement.scrollTop=this.messageListElement.scrollHeight)},t}(c.PureComponent),P=Object(u.b)(function(e){return{messages:l.c.chat.getMessages(e)}},function(e){return{sendMessage:function(t){var n=Object(p.b)(f.a.requestSendMessage,{message:t});e(n)}}})(x);t.a=P},1970:function(e,t,n){"use strict";var r,a,o,i=n(1),s=(n.n(i),n(60)),c=n(30),u=n(13),l=n(110),p=n(216),d=n(365),f=n.n(d),h=n(2608),g=n.n(h),y=n(2609),m=n.n(y),b=n(2610),v=n.n(b),w=n(2611),O=n.n(w),I=n(2612),x=n.n(I),P=n(2613),j=n.n(P),S=n(2614),k=n.n(S),C=n(2615),E=n(2616),_=n(267),B=n(2618),T=n(2619),A=(n.n(T),n(444)),D=n(1057),M=n(107),G=n(2620),L=n(2621),R=n(2622),U=n(598),z=(n.n(U),n(210)),F=n(2623),q=(n.n(F),n(1056)),N=n(599),W=n(22),Y=n(41),H=n(2624),V=n(2625),X=n(1060),Z=n(214),$=n(2627),K=n(446),J=n(2628),Q=n(823),ee=n.n(Q),te=n(824),ne=n(2629),re=n(207),ae=n(122),oe=n(215),ie=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},se=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ce=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ue=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},le=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},pe=f.a.Math.DegToRad(90),de=Object(Y.b)("div")(a||(a=ie(["\n  width: 100%;\n  height: 100%;\n"],["\n  width: 100%;\n  height: 100%;\n"]))),fe=Object(p.css)(o||(o=ie(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  transform-origin: top left;\n  background: black;\n"],["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  transform-origin: top left;\n  background: black;\n"]))),he=!1,ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.planetsGO={},t.shipsGO={},t.shipStreamsGO={},t.loaded=!1,t.backgroundZonePointerDown=!1,t.FPSCounter=new H.a,t.previousSelectedPlanet=null,t.pointerDownPlanetId=null,t.sendingShipToPlanetId=null,t.onRoot=function(e){t.rootElement=e},t.onCanvas=function(e){t.canvasElement=e},t.preload=function(){var e=t.getScene();e&&(e.load.image("planetSelection",g.a),e.load.image("ship",m.a),e.load.image("shipMaskColor1",v.a),e.load.image("pipe",O.a),e.load.image("planetType1Color",x.a),e.load.image("planetType1Mask1",j.a),e.load.image("particle1",k.a),e.load.image("flags",ee.a))},t.create=function(){return ue(t,void 0,void 0,function(){var e,t,n,r,a,o,i=this;return le(this,function(s){switch(s.label){case 0:return this.canvasElement&&(e=this.getScene())?(this.containers={backgroundZone:e.add.container(0,0),planetSelection:e.add.container(0,0),shipStreams:e.add.container(0,0),planets:e.add.container(0,0),ships:e.add.container(0,0),planetsHealth:e.add.container(0,0),planetNames:e.add.container(0,0),dynamicBackground:e.add.container(0,0),planetFlags:e.add.container(0,0),ui:e.add.container(0,0)},[this.containers.backgroundZone,this.containers.planetSelection,this.containers.shipStreams,this.containers.dynamicBackground,this.containers.planets,this.containers.planetsHealth,this.containers.planetNames,this.containers.planetFlags,this.containers.ships,this.containers.ui].forEach(function(e,t){e.depth=t}),he?(e.game.config.width=15e3,e.game.config.height=15e3,this.renderTextureBackground=e.add.renderTexture(0,0,15e3,15e3),this.renderTextureBackground.setOrigin(.5,.5),this.renderTextureBackground.draw("ship",0,0),this.renderTextureBackground.draw("ship",100,100),this.renderTextureBackground.draw("ship",0,14e3),this.renderTextureBackground.draw("ship",14e3,0),this.renderTextureBackground.draw("ship",14e3,14e3),this.containers.dynamicBackground.add(this.renderTextureBackground),[4,Object(J.a)(e)]):[3,2]):[2];case 1:s.sent(),s.label=2;case 2:return this.hammer=new T.Manager(this.canvasElement),t=new T.Pinch,n=new T.Pan({threshold:5}),this.hammer.add([t,n]),r=1,this.hammer.on("pinchstart",function(e){r=a.zoom}),this.hammer.on("pinchmove",function(e){i.backgroundZonePointerDown=!1,a.zoom=r*e.scale}),this.hammer.on("pinchend",function(e){r=1}),this.hammer.on("panmove",function(e){if(null===i.pointerDownPlanetId){i.backgroundZonePointerDown=!1;var t=i.getGameSettings().resolution;i.pan={x:e.deltaX*t,y:e.deltaY*t},i.previousPan&&(a.scrollX+=(i.previousPan.x-i.pan.x)/a.zoom,a.scrollY+=(i.previousPan.y-i.pan.y)/a.zoom),i.previousPan=ce({},i.pan)}}),this.hammer.on("panend",function(){var e=u.c.ui.global.getCurrentPlayerId(i.getAppState());if(i.pointerDownPlanetId&&i.sendingShipToPlanetId&&e){var t={units:u.c.planets.getEstimatedUnitsToSendByShipFromPlanet(i.getAppState(),i.pointerDownPlanetId),fromPlanetId:i.pointerDownPlanetId,toPlanetId:i.sendingShipToPlanetId,ownerId:e},n=u.c.ui.planetMap.getUI(i.getAppState()).attackMode;if(n===l.a.ship){var r=u.c.advanced.canCreateShip(i.getAppState(),ce({},t,{authenticatedPlayerId:e}));r.ok?i.props.requestSendShip(t):i.props.addError(r.err)}else if(n===l.a.shipStream){var a=u.c.advanced.canCreateShipStream(i.getAppState(),{fromPlanetId:t.fromPlanetId,toPlanetId:t.toPlanetId,authenticatedPlayerId:e});a.ok?i.props.requestSendShipStream(t):i.props.addError(a.err)}}i.pointerDownPlanetId=null,i.backgroundZonePointerDown=!1,i.pan=void 0,i.previousPan=void 0}),(a=e.cameras.main).centerOn(0,0),a.zoom=.05,this.canvasElement.addEventListener("wheel",function(e){e.deltaY<0?a.zoomTo(1.2*a.zoom,10):a.zoomTo(.8*a.zoom,10),e.preventDefault()}),this.planetSelectionSprite=new X.a({scene:e,key:"planetSelection"}),e.add.existing(this.planetSelectionSprite),this.containers.planetSelection.add(this.planetSelectionSprite),this.planetSelectionSprite.setPerfAlpha(0),this.backgroundZone=e.add.zone(0,0,1e5,1e5),this.containers.backgroundZone.add(this.backgroundZone),this.backgroundZone.setInteractive(),this.backgroundZone.on("pointerdown",function(e){i.backgroundZonePointerDown=!0}),this.backgroundZone.on("pointerup",function(t){i.backgroundZonePointerDown&&(i.backgroundZonePointerDown=!1,i.props.onBackgroundClick({x:e.input.activePointer.worldX,y:e.input.activePointer.worldY}))}),this.countdown=e.add.text(0,-3500,"-"),this.countdown.setFontSize(72),this.countdown.setOrigin(.5,.5),this.cometEmitter=Object(G.a)(e),this.cometEmitter.stop(),this.cometEmitter.active=!1,[4,Object(L.a)(e)];case 3:return s.sent(),[4,Object(R.a)(e)];case 4:if(s.sent(),this.shipPools=new V.a(e),this.loaded=!0,!(o=this.canvasElement)||!this.game)throw new Error("this.canvasElement should not be undefined");return this.props.onPhaserInit(function(){return o},Object(ne.a)(this.game)),[2]}})})},t.updatePlanets=function(e,n){var r=t.getScene();if(r){var a=t.planetsGO,o=t.getAppState(),i=u.c.planets.getPlanetsById(o),s=u.c.players.getPlayersById(o);Object.values(i).forEach(function(e){if(e){var n=null===e.ownerId?null:s[e.ownerId],o=n&&n.color,i=o?"planetType1_"+o:"planetType1Color";if(!Z.a&&"__MISSING"===r.textures.get(i).key)throw new Error("Texture is missing "+i);if(!a[e.id]){var c=new X.a({scene:r,key:i});c.setData("planetId",e.id),r.add.existing(c),c.x=e.x,c.y=e.y,c.setInteractive({cursor:"pointer"});var u=!1;c.on("pointerdown",function(){u=!0,t.pointerDownPlanetId=e.id}),c.on("pointerup",function(){u&&(u=!1,t.props.onPlanetIdClick(e.id),t.pointerDownPlanetId=null)});var l=r.add.text(e.x,e.y+e.radius+20,"");l.setColor("white"),l.setOrigin(.5,.5),l.style.fontFamily="serif;";var p=new B.a(r,e);(d=r.add.image(e.x,e.y-e.radius-3-8,"flags")).frame=d.frame.clone(),t.containers.planets.add(c),t.containers.planetsHealth.add(p),t.containers.planetNames.add(l),a[e.id]={planetImage:c,healthBar:p,name:l,planet:void 0,flag:d}}if(a[e.id].planet!==e){a[e.id].planet=e,a[e.id].planetImage.setTexture(i),a[e.id].planetImage.displayWidth=2*e.radius,a[e.id].planetImage.displayHeight=2*e.radius,a[e.id].healthBar.setPlanet(e),a[e.id].healthBar.update(),a[e.id].name.setText(n&&n.name?n.name:"");var d=a[e.id].flag,h="?";n&&n.countryCode&&(h=n.countryCode.toLowerCase()),d.frame.y=1976,d.frame.height=16,d.frame.width=16,d.frame.cutHeight=16,d.frame.cutWidth=16,d.frame.cutY=te.a[h],d.frame.updateUVs()}if(he&&Math.random()>.99){var g=e.radius+e.range,y=Object($.a)(g),m=Object(K.a)([1,2,3,4,5,10,20,50,100,200,500,1e3,1500])||1,b=r.textures.get("dot_"+m).get(),v=4/m,w=f.a.Display.Color.HexStringToColor(U(e.color).hex()).color,O=e.x+y.x-m/2+7500,I=e.y+y.y-m/2+7500;t.renderTextureBackground.draw(b,O,I,v,w)}}}),Object.keys(a).forEach(function(e){if(!i[e]){var n=a[e];n.planetImage.destroy(),n.healthBar.destroy(),n.name.destroy(),n.flag.destroy(),t.containers.planets.remove(n.planetImage),t.containers.planetsHealth.remove(n.healthBar),t.containers.planetNames.remove(n.name),t.containers.planetFlags.remove(n.flag),delete a[e]}});var c=u.c.ui.planetMap.getUI(t.getAppState()),l=void 0!==c.selectedPlanetId?u.c.planets.getPlanetById(o,c.selectedPlanetId):null;t.planetSelectionSprite&&l!==t.previousSelectedPlanet&&(t.previousSelectedPlanet=void 0!==c.selectedPlanetId&&u.c.planets.getPlanetById(o,c.selectedPlanetId)||null,l?(t.planetSelectionSprite.displayWidth=2*l.radius+2*l.range,t.planetSelectionSprite.displayHeight=2*l.radius+2*l.range,t.planetSelectionSprite.x=l.x,t.planetSelectionSprite.y=l.y,t.planetSelectionSprite.setPerfAlpha(.4),t.planetSelectionSprite.tint=f.a.Display.Color.HexStringToColor(U(l.color).hex()).color):t.planetSelectionSprite.setPerfAlpha(0))}},t.getShipPosition=function(e){var n=t.getAppState(),r=u.c.planets.getPlanetsById(n),a=u.c.ui.global.getClientDateOffsetInMs(n),o=Object(C.a)(a),i=r[e.fromPlanetId],s=r[e.toPlanetId];return!(!i||!s)&&Object(E.a)(e,i,s,o)},t.updateShips=function(e,n){var r=t.getScene();if(r){var a=t.shipsGO,o=t.getAppState(),i=u.c.ships.getShipsById(o),s=u.c.planets.getPlanetsById(o);Object.values(i).forEach(function(e){if(e){var n=e.units;if(!a[e.id]||a[e.id].ship!==e){a[e.id]&&Object(V.c)(r,a[e.id].image);var o=s[e.fromPlanetId],i=s[e.toPlanetId];if(!o||!i)return;var c=t.shipPools.getShipByColor(e.color),u=Object(D.a)(Object(A.a)(o),Object(A.a)(i));c.setRotation(u+pe),c.displayWidth=n,c.displayHeight=n,e.temporary?c.setPerfAlpha(.5):c.setPerfAlpha(1),a[e.id]={image:c,ship:e},t.containers.ships.add(c),Object(V.b)(r,c)}var l=t.getShipPosition(e);if(l&&(a[e.id].image.x=l.x,a[e.id].image.y=l.y,he&&Math.random()>.8)){var p=Object($.a)(Math.pow(e.units/10,1.5)),d=Object(K.a)([1,2,3,4,5,10])||1,h=r.textures.get("dot_"+d).get(),g=3/d,y=f.a.Display.Color.HexStringToColor(U(e.color).hex()).color,m=l.x+p.x-d/2+7500,b=l.y+p.y-d/2+7500;t.renderTextureBackground.draw(h,m,b,g,y)}}}),Object.keys(a).forEach(function(e){if(!i[e]){var n=a[e];Object(V.c)(r,n.image),t.containers.ships.remove(n.image),delete a[e]}})}},t.updateShipStreams=function(e,n){var r=t.getScene();if(r){var a=t.shipStreamsGO,o=t.getAppState(),i=u.c.ships.getShipStreams(o,{includeTemporary:!0}),s=u.c.planets.getPlanetsById(o);u.c.players.getPlayersById(o);Object.values(i).forEach(function(e){if(e){var o=s[e.fromPlanetId],i=s[e.toPlanetId];if(o&&i){if(!a[e.id]){var c=Object(q.a)(o,i),l=c.fromPoint,p=c.toPoint,d=Object(D.a)(l,p),f=r.add.tileSprite(l.x,l.y,o.radius+128,32,"pipe");f.setInteractive({cursor:"pointer"}),f.rotation=d;f.setDepth(t.containers.shipStreams.depth),f.on("pointerdown",function(){var n=u.c.planets.getPlanetById(t.getAppState(),e.fromPlanetId),r=u.c.ui.global.getCurrentPlayerId(t.getAppState());if(!n)throw new Error("No fromPlanet found");n.ownerId===r?confirm("Are you sure you want to delete this ship stream? (It costs "+Object(ae.a)(z.a)+")")&&t.props.deleteShipStream(e.id):alert("You don't won this ship stream.")}),a[e.id]={image:f}}a[e.id].image.tilePositionX-=.05*n}}}),Object.keys(a).forEach(function(e){i[e]||(t.containers.shipStreams.remove(a[e].image),a[e].image.destroy(),delete a[e])})}},t.updateCountDown=function(e,n){var r=t.getAppState(),a=u.c.ui.global.getClientDateOffsetInMs(r),o=u.c.system.getGameEndDate(r);if(void 0!==o){var i=Object(C.a)(a),s=o.getTime()-i.getTime(),c=F.duration(s,"milliseconds"),l="Game ends in: "+c.get("minutes")+"m:"+c.get("seconds")+"s";t.countdown.setText(l)}},t.updateUI=function(e,n){if(t.game&&(t.uiSendingShipLine&&t.uiSendingShipLine.clear(),null!==t.pointerDownPlanetId)){var r=t.getAppState(),a=u.c.planets.getPlanetById(r,t.pointerDownPlanetId);if(!a)throw new Error("No fromPlanet planet");var o=t.getScene();if(o){var i=t.game.input.activePointer;t.uiSendingShipLine||(t.uiSendingShipLine=o.add.graphics({x:0,y:0}),t.containers.ui.add(t.uiSendingShipLine));var s=16777215,c={x:i.worldX,y:i.worldY},l=t.containers.planets.list.filter(function(e){return e.getBounds().contains(c.x,c.y)}),p=l[0]?l[0].getData("planetId"):null,d=u.c.ui.global.getCurrentPlayerId(r);if(d===a.ownerId){t.sendingShipToPlanetId=p,s=u.c.advanced.canCreateShip(r,{units:10,ownerId:d||"",fromPlanetId:t.pointerDownPlanetId||"",toPlanetId:p||"",authenticatedPlayerId:d}).ok?65280:16711680;var f=u.c.planets.getPlanetById(t.getAppState(),p),h=f?Object(A.a)(f):{x:i.worldX,y:i.worldY};t.uiSendingShipLine.lineStyle(10,s,1),t.uiSendingShipLine.moveTo(a.x,a.y),t.uiSendingShipLine.lineTo(h.x,h.y),t.uiSendingShipLine.closePath(),t.uiSendingShipLine.strokePath()}}}},t.update=function(e,n){if(t.loaded){if(t.FPSCounter.tick(),Math.random()>.999){var r=t.FPSCounter.getAverageFps();t.props.setAverageFps(r)}var a=u.c.ui.planetMap.getUI(t.getAppState());if(a.isGamePaused)t.game&&t.game.scene.pause("default");else{var o=t.getScene();if(o){t.getGameSettings().showComets?t.cometEmitter.active||(t.cometEmitter.start(),t.cometEmitter.active=!0):t.cometEmitter.active&&(t.cometEmitter.active=!1,t.cometEmitter.stop(),t.cometEmitter.killAll()),t.updateUI(e,n),t.updatePlanets(e,n),t.updateShips(e,n),t.updateShipStreams(e,n),t.updateCountDown(e,n);var i=o.cameras.main;if(a.focusOnPlanetId){var s=u.c.planets.getPlanetById(t.getAppState(),a.focusOnPlanetId);s&&(t.props.removePlanetFocus(),i.pan(s.x,s.y,1500),i.zoomTo(.5,1500))}}}}},t.resizeGame=function(){if(t.canvasElement&&t.game){var e=t.getScene();if(e){var n=t.getCanvasSize();t.game.resize(n.width,n.height),e.cameras.main.setSize(n.width,n.height),t.canvasElement.style.width=n.width+"px",t.canvasElement.style.height=n.height+"px",t.canvasElement.width=n.width,t.canvasElement.height=n.height}}},t.getCanvasSize=function(){if(!t.rootElement)return{width:640,height:480};var e=t.rootElement.getBoundingClientRect(),n=t.getGameSettings().resolution;return{width:e.width*n,height:e.height*n}},t}return se(t,e),t.prototype.render=function(){return i.createElement(de,{innerRef:this.onRoot},i.createElement("canvas",{className:fe,ref:this.onCanvas}))},t.prototype.componentDidMount=function(){var e=this;window.pm=this,this.props.onMount({createGame:function(){return e.createGame()},destroyGame:function(){return e.destroyGame()}})},t.prototype.componentWillUnmount=function(){this.props.onUnmount()},t.prototype.getScene=function(){return this.game&&this.game.scene.getAt(0)},t.prototype.getAppState=function(){return this.props.store.getState()},t.prototype.getGameSettings=function(){return u.c.ui.gameSettings.getGameSettings(this.getAppState())},t.prototype.focusOnSelectedPlanet=function(){var e=this.getScene();if(e){var t=e.cameras.main,n=u.c.ui.planetMap.getUI(this.getAppState());if(n.selectedPlanetId){var r=u.c.planets.getPlanetById(this.getAppState(),n.selectedPlanetId);r&&(t.pan(r.x,r.y,1500),t.zoomTo(.5,1500))}}},t.prototype.createGame=function(){if(this.game)throw new Error("Game should be undefined");if(this.canvasElement){window.addEventListener("resize",this.resizeGame);var e=this.getCanvasSize(),t=this.getGameSettings().resolution;this.canvasElement.style.transform="scale("+1/t+")";var n={width:e.width,height:e.height,type:f.a.AUTO,canvas:this.canvasElement,backgroundColor:"#091326",resolution:1,render:{antialias:!0,autoResize:!0},scene:{preload:this.preload,create:this.create,update:this.update}};this.game=new f.a.Game(n)}},t.prototype.destroyGame=function(){if(!this.game)throw new Error("Game should not be undefined");this.game&&this.game.destroy(!1),this.game=void 0,this.props.disconnect(),window.removeEventListener("resize",this.resizeGame)},t}(i.PureComponent),ye=Object(s.b)(null,function(e){return{onMount:function(t){e({type:_.a.onMount,payload:t})},onUnmount:function(){e({type:_.a.onUnmount,payload:null})},onPlanetIdClick:function(t){e({type:_.a.onPlanetIdClick,payload:{planetId:t}})},onBackgroundClick:function(t){e({type:_.a.onBackgroundClick,payload:{point:t}})},removePlanetFocus:function(){e(Object(c.a)(_.a.removePlanetFocus,null))},deleteShipStream:function(t){e(Object(c.b)(M.a.requestDeleteStream,{shipStreamId:t}))},disconnect:function(){e(Object(c.a)(W.a.disconnect,null))},setAverageFps:function(t){e(Object(c.a)(W.a.setAverageFps,{averageFps:t}))},onPhaserInit:function(t,n){e(Object(c.a)(_.a.onPhaserGameCreated,{getCanvasElement:t,getGame:n}))},requestSendShip:function(t){e(Object(c.b)(M.a.requestSendShip,{units:t.units,fromPlanetId:t.fromPlanetId,toPlanetId:t.toPlanetId,id:Object(re.a)(),ownerId:t.ownerId}))},requestSendShipStream:function(t){e(Object(c.b)(M.a.requestCreateStream,{shipStream:{fromPlanetId:t.fromPlanetId,toPlanetId:t.toPlanetId,id:Object(re.a)(),temporary:!0}}))},addError:function(t){e(Object(c.a)(oe.a.addError,{error:t}))}}})(ge);t.a=function(){return i.createElement(N.a,null,function(e){return i.createElement(ye,{store:e})})}},200:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(44),a=function(e){return Object(r.b)(function(t){return t.type===e})}},207:function(e,t,n){"use strict";t.a=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},208:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.addMany="planet.addMany",e.createOne="planet.createOne",e.createOneError="planet.createOneError",e.requestCreateOne="planet.requestCreateOne",e.addUnits="planet.addUnits",e.addUnitsToMany="planet.addUnitsToMany",e.addPlanetsUpdatesById="planet.addPlanetsUpdatesById",e.debugSetThreatLevelsForBot="planet.debugSetThreatLevelsForBot",e.disownMany="planet.disownMany"}(r||(r={}))},209:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"m",function(){return y}),n.d(t,"i",function(){return O}),n.d(t,"j",function(){return I}),n.d(t,"g",function(){return x}),n.d(t,"h",function(){return P}),n.d(t,"d",function(){return j}),n.d(t,"c",function(){return S}),n.d(t,"l",function(){return k}),n.d(t,"k",function(){return C}),n.d(t,"b",function(){return E}),n.d(t,"e",function(){return B}),n.d(t,"f",function(){return T});var r=n(256),a=(n.n(r),n(121)),o=n(22),i=n(208),s=n(257),c=n(107),u=n(210),l=n(1484),p=n(108),d=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},f=1,h={playersById:{},inProgressLoginsByAccountId:{}},g=function(e){return e.online},y=function(e,t){var n,r,y,O,I;if(void 0===e&&(e=h),t.type===o.a.cleanUpGameData){var x={};Object.values(e.playersById).filter(l.a).filter(g).map(function(e){e=d({},e,{availableMoneyAmountInCents:0,depositAmountInCents:0,resources:3,kills:0}),x[e.id]=e}),e=d({},e,{playersById:x})}else if(t.type===o.a.disconnect)e=d({},e,{playersById:{}});else if(t.type===a.a.removeAllPlayers)e=d({},e,{playersById:{}});else if(t.type===o.a.setGameState)e=_(e,t.payload.gameState.players);else if(t.type===a.a.addMany)t.payload.players.forEach(function(t){var n;e=d({},e,{playersById:d({},e.playersById,(n={},n[t.id]=t,n))})});else if(t.type===a.a.exitRoom){var P=t.payload.playerId;(S=e.playersById[P])&&(e=d({},e,{playersById:d({},e.playersById,(n={},n[P]=d({},S,{online:!1,lastOfflineDate:t.date}),n))}))}else if(t.type===a.a.onRoomLogin){var j=t.payload.partialPlayer;e=m(e,j.accountId);P=j.playerId;var S=d({availableMoneyAmountInCents:0,depositAmountInCents:0,kills:0,resources:3},e.playersById[P],{id:P,name:j.name,hasEmail:j.hasEmail,countryCode:j.countryCode,accountId:j.accountId,userId:j.userId,online:!0});e=d({},e,{playersById:d({},e.playersById,(r={},r[P]=S,r))})}else if(t.type===o.a.startGameWith){P=t.payload.playerId;(S=e.playersById[P])?e=d({},e,{playersById:d({},e.playersById,(y={},y[P]=d({},S,{color:t.payload.color,availableMoneyAmountInCents:S.availableMoneyAmountInCents+t.payload.totalMoneyAmountInCents-p.f,depositAmountInCents:S.depositAmountInCents+p.f}),y))}):console.error('ERROR: Player id "'+P+'" doesn\'t exist. Action id: "'+t.id+'"')}else if(t.type===a.a.setName){P=t.payload.playerId;(S=e.playersById[P])?e=d({},e,{playersById:d({},e.playersById,(O={},O[P]=d({},S,{name:t.payload.name}),O))}):console.error('ERROR: Player id "'+P+'" doesn\'t exist. Action id: "'+t.id+'"')}else if(t.type===a.a.addResources)e=b(e,t.payload.playerId,t.payload.quantity);else if(t.type===i.a.createOne)e=b(e,t.payload.playerId,-s.a);else if(t.type===a.a.addResourcesToMany){var k=t.payload.playerToResourceMap;Object.keys(k).forEach(function(t){var n=k[t];e=b(e,t,n)})}else t.type===a.a.planetKilled?(e=b(e,t.payload.playerId,f),e=v(e,t.payload.playerId,1)):t.type===c.a.createStream?e=b(e,t.payload.createdByPlayerId,-u.a):t.type===a.a.requestRoomLoginError?e=m(e,t.payload.accountId):t.type===a.a.depositsReleased?e=w(e,t.payload.playerId,{depositAmountInCents:0}):t.type===a.a.loggingInPlayer&&(e=d({},e,{inProgressLoginsByAccountId:d({},e.inProgressLoginsByAccountId,(I={},I[t.payload.accountId]=!0,I))}));return e},m=function(e,t){var n=d({},e.inProgressLoginsByAccountId);return delete n[t],e=d({},e,{inProgressLoginsByAccountId:n})},b=function(e,t,n){var r;if(void 0===t)return e;var a=e.playersById[t];return a?d({},e,{playersById:d({},e.playersById,(r={},r[t]=d({},a,{resources:a.resources+n}),r))}):(console.error('ERROR: Player with id "'+t+'" not found.'),e)},v=function(e,t,n){if(void 0===t)return e;var r=e.playersById[t];return r?w(e,t,{kills:r.kills+n}):(console.error('ERROR: Player with id "'+t+'" not found.'),e)},w=function(e,t,n){var r;return d({},e,{playersById:d({},e.playersById,(r={},r[t]=d({},e.playersById[t],n,{id:t}),r))})},O=function(e,t,n,r){var a=B(e,t);return a?w(e,t,{depositAmountInCents:a.depositAmountInCents+n,availableMoneyAmountInCents:a.availableMoneyAmountInCents+r}):(console.error("No playerToChange found"),e)},I=function(e,t,n){var r=B(e,t);return r?w(e,t,{resources:r.resources+n}):(console.error("No playerToChange found"),e)},x=function(e){return e.playersById},P=function(e){return Object.values(e.playersById).filter(function(e){return void 0!==e})},j=function(e){return P(e).filter(function(e){return e.online})},S=function(e){return P(e).filter(function(e){return!e.online})},k=function(e,t){var n=B(e,t);return!!n&&n.online},C=function(e,t){return!!e.inProgressLoginsByAccountId[t]},E=function(e){return{playersById:e.playersById}},_=function(e,t){return d({},e,{playersById:t.playersById})},B=function(e,t){return e.playersById[t]},T=function(e,t){return r.find(e.playersById,{accountId:t})}},210:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(44),n(47),n(30),n(107),n(13),n(1483);var r=n(214),a=(this&&this.__assign||Object.assign,r.a,2)},214:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=!0},215:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.addTextToast="toasts.addTextToast",e.removeLastToast="toasts.removeLastToast",e.addToast="toasts.addToast",e.removeLastError="toasts.removeLastError",e.addError="toasts.addError"}(r||(r={}))},22:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.serverStart="system.serverStart",e.batchPerformance="system.batchPerformance",e.appStart="system.appStart",e.requestConnectToRoom="system.requestConnectToRoom",e.connectedToRoom="system.connectedToRoom",e.disconnect="system.disconnect",e.setAverageFps="system.setAverageFps",e.newGame="system.newGame",e.requestNewGame="system.requestNewGame",e.cleanUpGameData="system.cleanUpGameData",e.gameEnd="system.gameEnd",e.sendClientToServerAction="system.sendClientToServerAction",e.rawClientAction="system.rawClientAction",e.setServerDateOffset="system.setServerDateOffset",e.setServerDate="system.setServerDate",e.requestStartGameWith="system.requestStartGameWith",e.startGameWithError="system.startGameWithError",e.startGameWith="system.startGameWith",e.serverBroadcastAction="system.serverBroadcastAction",e.serverToSingleClientAction="system.serverToSingleClientAction",e.setGameState="system.setGameState",e.clientSideSocketChange="system.clientSideSocketChange",e.onNewSocketClientConnected="system.onNewSocketClientConnected",e.authorizedClientAction="system.authorizedClientAction",e.clientDisconnected="system.clientDisconnected",e.startDemoGame="system.startDemoGame",e.currentPlayerStartGameWith="system.currentPlayerStartGameWith",e.setRequestEmailDialogVisibility="system.setRequestEmailDialogVisibility",e.stopGameLifeCycle="system.stopGameLifeCycle",e.setPublicSetting="system.setPublicSetting"}(r||(r={}))},257:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var r=n(13),a=n(1370),o=n(122),i=2,s=function(e,t){var n=t.authenticatedPlayerId,s=t.planet,c=t.playerId,u=Object.values(r.c.planets.getPlanetsById(e)),l=r.c.players.getPlayersById(e);if(void 0===n)return{err:"No authenticatedPlayerId",ok:!1};if(n!==c)return{err:"Authenticated player id doesn't match the player id",ok:!1};var p=l[n];return p?p.resources<i?{err:"You don't have enough resources. To create a planet you need "+Object(o.a)(i)+". Try again when you have more resources.",ok:!1}:Object(a.a)(u,s)?{ok:!0}:{ok:!1,err:"Not enough distance between planets"}:{err:"No owner",ok:!1}}},2608:function(e,t,n){e.exports=n.p+"static/media/Planets_planetSelection.5cba8d78.png"},2609:function(e,t,n){e.exports=n.p+"static/media/Planets_ship.de61aab6.png"},2610:function(e,t,n){e.exports=n.p+"static/media/Planets_shipMaskColor1.bffa8282.png"},2611:function(e,t,n){e.exports=n.p+"static/media/Planets_pipe.f0179d68.png"},2612:function(e,t,n){e.exports=n.p+"static/media/Planets_type1Color.d000e3f9.png"},2613:function(e,t,n){e.exports=n.p+"static/media/Planets_type1Mask1.dbed50df.png"},2614:function(e,t,n){e.exports=n.p+"static/media/Planets_particle1.b28e91a8.png"},2615:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=new Date;return new Date(+t-e)}},2616:function(e,t,n){"use strict";var r=n(445),a=n(1056);t.a=function(e,t,n,o){var i=e.temporary?0:Math.max(+o-+e.dateSent,0)/1e3,s=Object(a.a)(t,n),c=s.fromPoint,u=s.toPoint,l=Object(r.a)(c,u),p=Math.min(200*i,l)/l,d=u.x-c.x,f=u.y-c.y;return{x:c.x+p*d,y:c.y+p*f,percentDistanceTraveled:p}}},2617:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t,n){return{x:e.x+t*Math.cos(n),y:e.y+t*Math.sin(n)}}},2618:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r,a=n(365),o=n.n(a),i=n(598),s=(n.n(i),this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})),c=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u=o.a.GameObjects.Graphics,l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.isDirty=!0,r.setPlanet(n),r.graphics=new u(t),r.add(r.graphics),r}return s(t,e),t.prototype.destroy=function(){this.graphics.destroy(),e.prototype.destroy.call(this)},t.prototype.setPlanet=function(e){this.isDirty||(this.isDirty=this.planet!==e),this.planet=e},t.prototype.update=function(){if(this.isDirty&&this.planet){this.isDirty=!1,this.graphics.clear();var e=this.planet,t=e.radius,n=e.x,r=e.y,a=e.color,s=e.units,u=e.capacity,l=o.a.Display.Color.HexStringToColor(i(a).darken(1.6).hex()).color,p=o.a.Display.Color.HexStringToColor(i(a).hex()).color;this.graphics.fillStyle(l);var d=2*t*.6,f={x:-d/2,y:t+5,width:d,height:5},h=new o.a.Geom.Rectangle(f.x,f.y,f.width,f.height);this.graphics.fillRectShape(h),this.graphics.fillStyle(p);var g=c({},f,{width:s/u*f.width}),y=new o.a.Geom.Rectangle(g.x,g.y,g.width,g.height);this.graphics.fillRectShape(y),this.graphics.x=n,this.graphics.y=r}},t}(o.a.GameObjects.Container)},2620:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(365),a=n.n(r),o=a.a.GameObjects.Particles.Zones.RandomZone,i=a.a.Geom.Point,s=a.a.GameObjects.Particles.Zones.DeathZone,c=function(e){var t=new a.a.Geom.Rectangle(-5e3,-5e3,1e4,1e4),n=e.add.particles("particle1").createEmitter({name:"particle1",x:0,y:0,lifespan:3e4,gravityX:0,gravityY:0,angle:150,frequency:500,maxParticles:500,collideBottom:!1,collideLeft:!1,collideRight:!1,collideTop:!1,speed:{min:50,max:550},scaleY:{min:.2,max:1},scaleX:{min:.8,max:1},alpha:{min:.2,max:1,start:1,end:0},blendMode:a.a.BlendModes.NORMAL,rotate:150,emitZone:new o(t)}),r=new a.a.Geom.Polygon([new i(t.right+1e3,t.bottom+1e3),new i(t.left-1e3,t.bottom+1e3),new i(t.left-1e3,t.top-1e3),new i(t.left,t.top-1e3),new i(t.left,t.bottom),new i(t.left+t.width,t.bottom),new i(t.left+t.width,t.top-1e3),new i(t.right+1e3,t.top-1e3)]);n.deathZone=new s(r,!0);return n}},2621:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1058),a=n(401),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this,c=function(e){return o(s,void 0,void 0,function(){var t=this;return i(this,function(n){switch(n.label){case 0:return[4,Promise.all(a.b.map(function(n){return o(t,void 0,void 0,function(){var t,a,o;return i(this,function(i){switch(i.label){case 0:return t=e.textures.get("ship").getSourceImage(),a=e.textures.get("shipMaskColor1").getSourceImage(),[4,Object(r.a)(t,a,n)];case 1:return(o=i.sent())&&e.textures.addImage("ship_"+n,o),[2]}})})}))];case 1:return n.sent(),[2]}})})}},2622:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1058),a=n(401),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this,c=function(e){return o(s,void 0,void 0,function(){var t,n=this;return i(this,function(s){switch(s.label){case 0:return t=a.a,[4,Promise.all(t.map(function(t){return o(n,void 0,void 0,function(){var n,a,o;return i(this,function(i){switch(i.label){case 0:return n=e.textures.get("planetType1Color").getSourceImage(),a=e.textures.get("planetType1Mask1").getSourceImage(),[4,Object(r.a)(n,a,t)];case 1:return(o=i.sent())&&e.textures.addImage("planetType1_"+t,o),[2]}})})}))];case 1:return s.sent(),[2]}})})}},2624:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){this.frameTimes=[]}return e.prototype.tick=function(){var e=new Date;if(void 0!==this.lastTickDate&&Math.random()>.99){var t=+e-+this.lastTickDate;this.frameTimes.push(t),this.frameTimes=this.frameTimes.slice(-5)}this.lastTickDate=e},e.prototype.getAverageFps=function(){var e=0;return this.frameTimes.forEach(function(t){return e+=t}),1e3/(e/this.frameTimes.length)},e}()},2625:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});var r=n(401),a=n(2626),o=function(e,t){e.sys.displayList.remove(t),e.sys.updateList.remove(t),t.active=!1,t.visible=!1},i=function(e,t){e.sys.displayList.add(t),t.active=!0,t.visible=!0},s=function(){function e(e){var t=this;this.pools={},this.scene=e,r.b.forEach(function(e){t.pools[e]=new a.a(t.scene,e)})}return e.prototype.getShipByColor=function(e){return this.pools[e].getShip()},e}()},2626:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1060),a=function(){function e(e,t){this.pool=[],this.scene=e,this.color=t,this.createNewBatch(100)}return e.prototype.getShip=function(){var e=this.getShipImageFromPoolWithoutScene();return e||(this.createNewBatch(50),e=this.createShipImage()),e.visible=!0,e},e.prototype.createNewBatch=function(e){for(;e--;)this.createShipImage()},e.prototype.createShipImage=function(){var e=new r.a({scene:this.scene,key:"ship_"+this.color});return e.active=!1,this.pool.push(e),e},e.prototype.getShipImageFromPoolWithoutScene=function(){return this.pool.filter(function(e){return!e.active})[0]},e}()},2627:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=e*Math.sqrt(Math.random()),n=2*Math.random()*Math.PI;return{x:t*Math.cos(n),y:t*Math.sin(n)}}},2628:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(401),a=n(1059),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this,c=function(e){return o(s,void 0,Promise,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return(t=document.createElement("canvas")).width=e,t.height=e,(n=t.getContext("2d"))?(n.fillStyle="#ffffff",n.beginPath(),n.arc(e/2,e/2,e/2,0,2*Math.PI,!1),n.fill(),[4,Object(a.a)(t)]):[2];case 1:return[2,r.sent()]}})})},u=function(e){return o(s,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,function(e,t){return o(s,void 0,void 0,function(){var t=this;return i(this,function(n){switch(n.label){case 0:return r.a,[4,Promise.all([1,2,3,4,5,10,20,50,100,200,500,1e3,1500].map(function(n){return o(t,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:return[4,c(n)];case 1:return void 0===(t=r.sent())?[2]:(e.textures.addImage("dot_"+n,t),[2])}})})}))];case 1:return n.sent(),[2]}})})}(e)];case 1:return t.sent(),[2]}})})}},2629:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return function(){return e}}},2630:function(e,t,n){"use strict";n.d(t,"a",function(){return D});var r,a,o=n(1),i=(n.n(o),n(186)),s=n.n(i),c=n(60),u=n(159),l=n.n(u),p=n(474),d=n.n(p),f=n(221),h=n.n(f),g=n(161),y=n.n(g),m=n(362),b=n.n(m),v=n(30),w=n(185),O=n(352),I=n(13),x=n(511),P=n.n(x),j=n(41),S=n(512),k=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},C=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),E=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},_=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},B=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},T=Object(j.b)(P.a)(a||(a=k(["\n  margin-left: 10px;\n"],["\n  margin-left: 10px;\n"]))),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={email:"",loading:!1},t.onInputChange=function(e){return function(n){var r;t.setState(E({},t.state,((r={})[e]=n.target.value,r)))}},t.onSubmit=function(e){return _(t,void 0,void 0,function(){return B(this,function(t){switch(t.label){case 0:return e.preventDefault(),[4,this.saveEmail()];case 1:return t.sent(),[2]}})})},t.saveEmail=function(){return _(t,void 0,void 0,function(){var e,t,n,r,a;return B(this,function(o){switch(o.label){case 0:if(!this.state.email)return[2,alert("Please add a email")];o.label=1;case 1:return o.trys.push([1,6,,7]),this.setState({loading:!0}),e=this.props.currentUser,t=void 0,e?(t=localStorage.getItem("sessionId"),[3,4]):[3,2];case 2:return[4,Object(O.a)("createUser",{userAgent:navigator.userAgent})];case 3:if(!(n=o.sent()).ok)return this.setState({loading:!1}),[2,alert("Error creating user")];t=n.payload.session.id,localStorage.setItem("sessionId",t),o.label=4;case 4:return[4,Object(O.a)("updateUser",{sessionId:t,updateUser:{email:this.state.email}})];case 5:return r=o.sent(),this.setState({loading:!1}),r.ok?(this.props.addCurrentUser(r.payload.user),this.props.onClose(),[3,7]):[2,alert(r.reason)];case 6:return a=o.sent(),alert("Error creating user"),console.error(a),[3,7];case 7:return[2]}})})},t}return C(t,e),t.prototype.render=function(){var e=this.state.loading;return o.createElement(s.a,{onClose:this.props.onClose,open:this.props.open,maxWidth:"xs"},o.createElement("form",{onSubmit:this.onSubmit},o.createElement(b.a,null,e?"Adding your email...":"Add your full email"),o.createElement(l.a,null,o.createElement(d.a,{autoFocus:!0,margin:"dense",id:"email",label:"Email",type:"text",fullWidth:!0,onChange:this.onInputChange("email"),value:this.state.email,tabIndex:0,disabled:e})),o.createElement(h.a,null,o.createElement(y.a,{onClick:this.props.onClose,color:"primary",disabled:e},"Cancel"),o.createElement(y.a,{type:"submit",variant:"contained",onClick:this.saveEmail,color:"primary",disabled:e},e?"Saving email...":"Save my email",e&&o.createElement(T,{size:15}))),e&&o.createElement(S.a,{variant:"info"},"Please wait until we save your email. It might take a few seconds.")))},t}(o.Component),D=Object(c.b)(function(e){return{currentUser:I.c.ui.global.getCurrentUser(e)}},function(e){return{addCurrentUser:function(t){var n=Object(v.a)(w.a.addCurrentUser,{user:t});e(n)}}})(A)},2631:function(e,t,n){"use strict";var r,a,o=n(1),i=(n.n(o),n(60)),s=n(13),c=n(30),u=n(41),l=n(819),p=n.n(l),d=n(716),f=n.n(d),h=n(724),g=n.n(h),y=n(733),m=n.n(y),b=n(482),v=n.n(b),w=n(133),O=n(2632),I=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},x=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),P=(Object(u.b)("section")(a||(a=I(["\n"],["\n"]))),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e=this,t=this.props,n=function(){return e.props.onClose(t.upgradesPanelState.planetId||"")};return o.createElement(f.a,{open:t.upgradesPanelState.isOpen,onClose:n,fullScreen:!!t.fullScreen,maxWidth:"sm",fullWidth:!0},o.createElement(g.a,null,o.createElement(O.a,{planetId:t.upgradesPanelState.planetId})),o.createElement(m.a,null,o.createElement(v.a,{onClick:n,color:"primary"},"Done")))},t}(o.PureComponent)),j=Object(i.b)(function(e){return{upgradesPanelState:s.c.ui.global.getUpgradesPanelState(e)}},function(e){return{onClose:function(t){var n=Object(c.a)(w.a.setVisibilityForUpgradesPanel,{planetId:t,isVisible:!1});e(n)}}})(P);t.a=p()({breakpoint:"xs"})(j)},2632:function(e,t,n){"use strict";var r,a,o,i,s=n(1),c=(n.n(s),n(60)),u=n(13),l=n(30),p=n(41),d=n(2633),f=n(464),h=n(158),g=n.n(h),y=n(122),m=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},b=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},w=Object(p.b)("div")(a||(a=m(["\n"],["\n"]))),O=Object(p.b)("div")(o||(o=m(["\n  height: 10px;\n  width: 100%;\n"],["\n  height: 10px;\n  width: 100%;\n"]))),I=Object(p.b)("div")(i||(i=m(["\n"],["\n"]))),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.planet,r=t.currentPlayer;return n&&r?s.createElement(w,null,s.createElement(g.a,{variant:"headline",color:"inherit",align:"left"},"Planet upgrades"),s.createElement(g.a,{variant:"subheading",color:"inherit",align:"left"},"Current resources: ",Object(y.a)(r.resources)),s.createElement(O,null),s.createElement(I,null,this.props.upgradeDefinitions.map(function(t,r){var a={upgradeDefinition:t,planet:n,onUpgrade:function(){return e.props.onUpgrade(e.props.planetId,t.id)}},o=r===e.props.upgradeDefinitions.length-1;return s.createElement(s.Fragment,{key:t.id},s.createElement(d.a,v({},a)),o?null:s.createElement(O,null))}))):null},t}(s.PureComponent),P=Object(c.b)(function(e,t){return{upgradeDefinitions:u.c.upgrades.getUpgradeDefinitions(e),planet:u.c.planets.getPlanetById(e,t.planetId),currentPlayer:u.c.ui.global.getCurrentPlayer(e)}},function(e){return{onUpgrade:function(t,n){var r=Object(l.b)(f.a.requestUpgrade,{planetId:t,upgradeDefinitionId:n});e(r)}}})(x);t.a=P},2633:function(e,t,n){"use strict";var r,a,o,i,s,c,u=n(1),l=(n.n(u),n(41)),p=n(2634),d=n(122),f=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},h=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=Object(l.b)("div")(a||(a=f(["\n  display: flex;\n  box-shadow: 0 0 17px 0px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n  overflow: hidden;\n"],["\n  display: flex;\n  box-shadow: 0 0 17px 0px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n  overflow: hidden;\n"]))),y=Object(l.b)("div")(o||(o=f(["\n font-weight: bold;\n"],["\n font-weight: bold;\n"]))),m=Object(l.b)("div")(i||(i=f(["\n  opacity: 0.8;\n"],["\n  opacity: 0.8;\n"]))),b=Object(l.b)("div")(s||(s=f(["\n  width: 50%;\n  height: 100%;\n  padding: 5px;\n"],["\n  width: 50%;\n  height: 100%;\n  padding: 5px;\n"]))),v=Object(l.b)("div")(c||(c=f(["\n  width: 50%;\n  height: 100%;\n  background: #3f51b5;\n  padding: 5px;\n  color: white;\n  cursor: pointer;\n  user-select: none;\n  & * {\n    user-select: none;\n  }\n  &:hover{\n    background: #303f9f;\n  }\n"],["\n  width: 50%;\n  height: 100%;\n  background: #3f51b5;\n  padding: 5px;\n  color: white;\n  cursor: pointer;\n  user-select: none;\n  & * {\n    user-select: none;\n  }\n  &:hover{\n    background: #303f9f;\n  }\n"]))),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){return u.createElement(g,null,u.createElement(b,null,u.createElement(y,null,this.props.upgradeDefinition.title),u.createElement(m,null,"Current: ",Object(p.a)(this.props.planet.range))),u.createElement(v,{onClick:this.props.onUpgrade},u.createElement(y,null,"Upgrade"),u.createElement(m,null,"Range: +",Object(p.a)(this.props.planet.range*this.props.upgradeDefinition.multiplier-this.props.planet.range)),u.createElement(m,null,"Cost: ",Object(d.a)(this.props.upgradeDefinition.resourcesCost))))},t}(u.PureComponent);t.a=w},2634:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2635),a=function(e){return Object(r.a)(e,0)}},2635:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){return e.toFixed(t)}},2636:function(e,t,n){"use strict";var r,a,o=n(1),i=(n.n(o),n(60)),s=n(698),c=n(41),u=n(2637),l=n(2641),p=n(2655),d=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},f=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=Object(c.b)("section")(a||(a=d(["\n  background-color: #091326;\n"],["\n  background-color: #091326;\n"]))),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){return o.createElement(h,null,o.createElement(s.a,{inGame:!1}),o.createElement(u.a,null),o.createElement(l.a,null),o.createElement(p.a,null))},t}(o.PureComponent),y=Object(i.b)(function(e){return{}},function(e){return{}})(g);t.a=y},2637:function(e,t,n){"use strict";n.d(t,"a",function(){return M});var r,a,o,i,s,c,u,l=n(516),p=n.n(l),d=n(2638),f=n.n(d),h=n(2639),g=n.n(h),y=n(1061),m=n.n(y),b=n(41),v=n(1),w=(n.n(v),n(158)),O=n.n(w),I=n(482),x=n.n(I),P=n(328),j=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},S=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},k=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},C=Object(b.b)("section")(r||(r=j(["\n  position: relative;\n  overflow: hidden;\n"],["\n  position: relative;\n  overflow: hidden;\n"]))),E=Object(b.a)(a||(a=j(["\n  height: ","px;\n  position: absolute;\n  width: 100%;\n"],["\n  height: ","px;\n  position: absolute;\n  width: 100%;\n"])),400),_=Object(b.b)("div")(o||(o=j(["\n  background: linear-gradient(to bottom, rgba(9, 19, 38, 0) 0%,rgba(9, 19, 38, 1) 99%,rgba(9, 19, 38, 1) 100%);  height: 100px;\n  width: 100%;\n  position: absolute;\n  top: ","px;\n"],["\n  background: linear-gradient(to bottom, rgba(9, 19, 38, 0) 0%,rgba(9, 19, 38, 1) 99%,rgba(9, 19, 38, 1) 100%);  height: 100px;\n  width: 100%;\n  position: absolute;\n  top: ","px;\n"])),300),B=Object(b.b)("div")(i||(i=j(["\n  margin-top: ","px;\n  background: rgba(9, 19, 38, 1);\n  position: relative;\n  color: white;\n  padding: 0 20px 20px 20px;\n"],["\n  margin-top: ","px;\n  background: rgba(9, 19, 38, 1);\n  position: relative;\n  color: white;\n  padding: 0 20px 20px 20px;\n"])),400),T=Object(b.b)("div")(s||(s=j(["\n  position: relative;\n  top: -","px;\n"],["\n  position: relative;\n  top: -","px;\n"])),50),A=Object(b.b)(x.a)(c||(c=j(["\n  color: rgba(255, 255, 255, 1);\n  background: linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%);\n  font-size: 27px;\n  width: 100%;\n  max-width: 239px;\n  margin: 0 auto;\n  text-align: center;\n  display: block;\n  \n  &:hover {\n    background: linear-gradient(45deg,#ff2957 30%,#f45c0d 90%);\n  }\n"],["\n  color: rgba(255, 255, 255, 1);\n  background: linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%);\n  font-size: 27px;\n  width: 100%;\n  max-width: 239px;\n  margin: 0 auto;\n  text-align: center;\n  display: block;\n  \n  &:hover {\n    background: linear-gradient(45deg,#ff2957 30%,#f45c0d 90%);\n  }\n"]))),D=Object(b.a)(u||(u=j(["\n  opacity: 0.8;\n  font-size: 12px;\n"],["\n  opacity: 0.8;\n  font-size: 12px;\n"]))),M=p()(function(e){return{size:e.width<500?"narrow":"wide"}})(function(e){var t="narrow"===e.size?f.a:g.a;return v.createElement(C,null,v.createElement(m.a,{className:E,image:t}),v.createElement(_,null),v.createElement(B,null,v.createElement(T,null,v.createElement(O.a,{variant:"display1",color:"inherit",align:"center"},"Conquer the universe."),v.createElement(O.a,{variant:"subheading",color:"inherit",align:"center"},"Build and attack planets. Play with your friends online.")),v.createElement(A,{component:function(e){e.innerRef;var t=k(e,["innerRef"]);return v.createElement(P.b,S({to:"/game"},t))}},"Play now!"),v.createElement(O.a,{variant:"body1",color:"inherit",align:"center",className:D},"No need to install, download or register."),v.createElement(O.a,{variant:"body1",color:"inherit",align:"center",className:D},"Free and works from any device.")))})},2638:function(e,t,n){e.exports=n.p+"static/media/backgroundNarrow.008c4692.jpg"},2639:function(e,t,n){e.exports=n.p+"static/media/backgroundWide.58587a6e.jpg"},2641:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var r,a,o,i=n(1),s=(n.n(i),n(2642)),c=n.n(s),u=n(41),l=n(2645),p=n(2650),d=n.n(p),f=n(2651),h=n.n(f),g=n(2652),y=n.n(g),m=n(2653),b=n.n(m),v=n(2654),w=n.n(v),O=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},I=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},x=Object(u.b)("section")(r||(r=O(["\n  position: relative;\n  background-color: #c3c3c3;\n"],["\n  position: relative;\n  background-color: #c3c3c3;\n"]))),P=Object(u.b)("div")(a||(a=O(["\n  width: auto;\n  padding: ","px 0;\n  margin-left: ","px;\n  margin-right: ","px;\n  \n  "," {\n    width: 1100px;\n    margin-left: auto;\n    marginRight: auto;\n  }\n"],["\n  width: auto;\n  padding: ","px 0;\n  margin-left: ","px;\n  margin-right: ","px;\n  \n  "," {\n    width: 1100px;\n    margin-left: auto;\n    marginRight: auto;\n  }\n"])),function(e){return 8*e.theme.spacing.unit},function(e){return 3*e.theme.spacing.unit},function(e){return 3*e.theme.spacing.unit},function(e){return e.theme.breakpoints.up(1100+3*e.theme.spacing.unit*2)}),j=Object(u.a)(o||(o=O(["\n  padding: 5px;\n"],["\n  padding: 5px;\n"]))),S=[{id:"gameObjective",title:"Objective of the game",overview:"Conquer as many planets as you can before the time runs out.",howTo:"Send ships to other planets to own them",imageUrl:d.a},{id:"sendShips",title:"Sending ships",overview:"Time to own more planets? To conquer new planets you need to send ships and kill the units in the destination planet. Once you do that you will own the new planet.",howTo:"To send a ship, select your planet and then click on the destination planet. A ship will be prepared and send as soon as possible.",imageUrl:h.a},{id:"shipStreams",title:"Ship streams",overview:"Tired of manually sending ships one by one? Now you can create a ship stream and it will send ships automatically. It will only send a new ship if the destination planet is not full and the origin planet has at least ~50% units.",howTo:'To create a ship stream, click on the icon labelled "Stream", select the origin planet and then click on the destination planet. To delete the ship stream, just press on the platform with arrows.',imageUrl:y.a},{id:"createPlanets",title:"Create planets",overview:"Time to expand your colony ... or just stuck? No problem, save some resources and create a new planet.",howTo:'To create a new planet, click on the icon labelled "Planet" and click on an empty space. Make sure there is enough space around, if it doesn\'t work, try again in another place, you will only be charged when a planet is created. Look for notification in the bottom right area for more info.',imageUrl:b.a},{id:"overlayRanking",title:"Overlay ranking",overview:"Want to be the best? Better keep an eye on the ranking. ",howTo:"Is located in the top right area. The number is the rank of that player, the cloud icon indicates whenever the player is online or not. Last is the number of planets owned out of total planets in the game (1/160 = 1 planet owned out of 160 total planets).",imageUrl:w.a}],k=function(){return i.createElement(x,null,i.createElement(P,null,i.createElement(c.a,{container:!0,spacing:40},S.map(function(e){return i.createElement(c.a,{item:!0,key:e.id,xs:12,sm:6,md:4,lg:3,className:j},i.createElement(l.a,I({},e)))}))))}},2645:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r,a=n(1),o=(n.n(a),n(41)),i=n(2646),s=n.n(i),c=n(2648),u=n.n(c),l=n(1061),p=n.n(l),d=n(158),f=n.n(d),h=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},g=Object(o.a)(r||(r=h(["\n  height: 140px;\n"],["\n  height: 140px;\n"]))),y=function(e){return a.createElement(s.a,null,a.createElement(p.a,{className:g,image:e.imageUrl,title:""}),a.createElement(u.a,null,a.createElement(f.a,{gutterBottom:!0,variant:"headline",component:"h2"},e.title),a.createElement(f.a,{component:"p"},e.overview),a.createElement(f.a,{component:"p"},a.createElement(f.a,{component:"span",variant:"body2"},"How to:"),e.howTo)))}},2650:function(e,t,n){e.exports=n.p+"static/media/win.b5ddc4fa.png"},2651:function(e,t,n){e.exports=n.p+"static/media/sendShip.ec3ee91a.png"},2652:function(e,t,n){e.exports=n.p+"static/media/shipStream.46afdc18.png"},2653:function(e,t,n){e.exports=n.p+"static/media/createPlanet.56859f63.png"},2654:function(e,t,n){e.exports=n.p+"static/media/overlayRanking.bde7c129.png"},2655:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r,a,o,i,s=n(1),c=(n.n(s),n(41)),u=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},l=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=Object(c.b)("div")(a||(a=u(["\n  @media (max-width: 720px) {\n    display: none;\n  }\n"],["\n  @media (max-width: 720px) {\n    display: none;\n  }\n"]))),d=Object(c.b)("a")(o||(o=u(["\n  color: white;\n  padding: 5px;\n  position: fixed;\n  right: 0;\n  bottom: 119px;\n  background: black;\n  border-radius: 5px 0 0 0;\n  font-size: 16px;\n  z-index: 999;\n"],["\n  color: white;\n  padding: 5px;\n  position: fixed;\n  right: 0;\n  bottom: 119px;\n  background: black;\n  border-radius: 5px 0 0 0;\n  font-size: 16px;\n  z-index: 999;\n"]))),f=Object(c.b)("iframe")(i||(i=u(["\n  position: fixed;\n  right: -5px;\n  bottom: -2px;\n  transform: scale(0.95);\n"],["\n  position: fixed;\n  right: -5px;\n  bottom: -2px;\n  transform: scale(0.95);\n"]))),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.render=function(){return s.createElement(p,null,s.createElement(d,{href:"https://iogames.space",target:"_blank"},"More .io Games"),s.createElement(f,{id:"IOG_CP",scrolling:"no",frameBorder:"0",width:"220",height:"125",src:"http://viral.iogames.space"}))},t}(s.PureComponent)},2656:function(e,t,n){"use strict";var r,a=n(1),o=(n.n(a),n(328)),i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.componentDidMount=function(){this.trackPageView(this.props)},t.prototype.componentWillUpdate=function(e){e.location.pathname!==this.props.location.pathname&&this.trackPageView(e)},t.prototype.trackPageView=function(e){var t=e.location;window.gtag&&window.GA_TRACKING_ID&&window.gtag("config",window.GA_TRACKING_ID,{page_title:document.title,page_location:window.location.href.replace("/#",""),page_path:t.pathname})},t.prototype.render=function(){return null},t}(a.Component);t.a=Object(o.d)(s)},2657:function(e,t,n){"use strict";var r,a,o,i,s,c,u=n(1),l=(n.n(u),n(60)),p=n(30),d=n(13),f=n(2658),h=n.n(f),g=n(215),y=n(1062),m=n.n(y),b=n(216),v=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},w=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),O={info:Object(b.css)(a||(a=v(["\n    background: #404040;\n  "],["\n    background: #404040;\n  "]))),error:Object(b.css)(o||(o=v(["\n    background: #983535;\n  "],["\n    background: #983535;\n  "])))},I={root:Object(b.css)(i||(i=v(["\n   padding: 1px 5px;\n   cursor: pointer;\n  "],["\n   padding: 1px 5px;\n   cursor: pointer;\n  "]))),message:Object(b.css)(s||(s=v(["\n    padding: 0;\n   pointer-events: none;\n  "],["\n    padding: 0;\n   pointer-events: none;\n  "])))},x=Object(b.css)(c||(c=v(["\n  font-size: 12px;\n"],["\n  font-size: 12px;\n"]))),P=function(e){var t=e.toast,n=e.handleClose;return u.createElement(m.a,{onClick:n,className:O[t.variant],classes:I,"aria-describedby":"message-id",message:u.createElement("span",{id:"message-id",className:x},t?t.text:"")})},j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.handleClose=function(){t.props.removeLastToast()},t}return w(t,e),t.prototype.render=function(){var e=this.props.toast;return u.createElement(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:!!e,autoHideDuration:this.getAutoHideDuration(),onClose:this.handleClose},e&&u.createElement(P,{toast:e,handleClose:this.handleClose}))},t.prototype.getAutoHideDuration=function(){var e=this.props.toast;if(e)return e.autoClose?3e3:void 0},t}(u.Component),S=Object(l.b)(function(e){return{toast:d.c.toasts.getLastToast(e)}},function(e){return{removeLastToast:function(){e(Object(p.a)(g.a.removeLastToast,null))}}})(j);t.a=S},2665:function(e,t,n){"use strict";var r,a=n(1),o=(n.n(a),n(60)),i=n(13),s=n(2666),c=n(599),u=n(1063),l=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tick=function(){t.forceUpdate()},t}return l(t,e),t.prototype.render=function(){var e=this.getAppState(),t=i.c.ui.tutorial.getCurrentTutorialName(e);if(null===t)return null;var n=u.a[t];if(!n)return null;var r=n.getInfo(e);return null===r?null:a.createElement(s.a,p({},r))},t.prototype.getAppState=function(){return this.props.store.getState()},t.prototype.componentDidMount=function(){setInterval(this.tick,1e3/60)},t}(a.PureComponent),f=Object(o.b)(null,function(e){return{}})(d);t.a=function(){return a.createElement(c.a,null,function(e){return a.createElement(f,{store:e})})}},2666:function(e,t,n){"use strict";var r,a,o=n(1),i=(n.n(o),n(41)),s=n(2667),c=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},u=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},p=Object(i.b)("div")(a||(a=c(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n  z-index: 1200;\n  overflow: hidden;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n  z-index: 1200;\n  overflow: hidden;\n"]))),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={width:0,height:0},t.tick=function(){t.updateRootElementSize()},t.onRoot=function(e){t.rootElement=e},t}return u(t,e),t.prototype.render=function(){var e,t=this.props,n=t.targetX,r=t.targetY,a=t.text,i=this.state,c=i.width,u=i.height,d={width:c,height:u,textX:(e=r>u/2?this.getTopLocation():this.getBottomLocation()).x,textY:e.y,targetX:n,targetY:r,text:a};return o.createElement(p,{innerRef:this.onRoot},o.createElement(s.a,l({},d)))},t.prototype.componentDidMount=function(){this.interval=setInterval(this.tick,1e3/60)},t.prototype.componentWillUnmount=function(){void 0!==this.interval&&clearInterval(this.interval)},t.prototype.updateRootElementSize=function(){if(this.rootElement){var e=this.rootElement.getBoundingClientRect();this.setState({width:e.width,height:e.height})}},t.prototype.getTopLocation=function(){var e=this.state;return{x:e.width/2,y:e.height/6}},t.prototype.getBottomLocation=function(){var e=this.state,t=e.width,n=e.height;return{x:t/2,y:n/2+n/6}},t}(o.PureComponent);t.a=d},2667:function(e,t,n){"use strict";var r,a,o,i,s,c,u,l,p,d=n(1),f=(n.n(d),n(41)),h=n(216),g=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},y=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=Object(h.keyframes)(a||(a=g(["\n  0% { background-position: 0% 100%; }\n  50% { background-position: 100% 200%; }\n  100% {background-position: 0% 100%; }\n"],["\n  0% { background-position: 0% 100%; }\n  50% { background-position: 100% 200%; }\n  100% {background-position: 0% 100%; }\n"]))),b=Object(h.keyframes)(o||(o=g(["\n  0% {\n    box-shadow: 0 0 0 0 rgba(255,255,255, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 30px rgba(255,255,255, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(255,255,255, 0);\n  }\n"],["\n  0% {\n    box-shadow: 0 0 0 0 rgba(255,255,255, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 30px rgba(255,255,255, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(255,255,255, 0);\n  }\n"]))),v=Object(f.b)("div")(i||(i=g(["\n  color: white;\n  text-align: center;\n  padding: 5px;\n  background: #000000c2;\n  box-shadow: 0 0 0 rgba(255,255,255, 0.4);\n  animation: "," 2s infinite;\n  line-height: 1.5;\n  font-size: 12px;\n"],["\n  color: white;\n  text-align: center;\n  padding: 5px;\n  background: #000000c2;\n  box-shadow: 0 0 0 rgba(255,255,255, 0.4);\n  animation: "," 2s infinite;\n  line-height: 1.5;\n  font-size: 12px;\n"])),b),w=Object(f.b)("div")(s||(s=g(["\n  max-width: 240px;\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  background: linear-gradient(124deg, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8, #dd00f3, #dd00f3);\n  background-size: 900% 900%;\n  animation: "," 9s ease infinite;\n  padding: 3px;\n"],["\n  max-width: 240px;\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  background: linear-gradient(124deg, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8, #dd00f3, #dd00f3);\n  background-size: 900% 900%;\n  animation: "," 9s ease infinite;\n  padding: 3px;\n"])),function(e){return e.y},function(e){return e.x},m),O=Object(f.b)("div")(c||(c=g(["\n  pointer-events: all;\n"],["\n  pointer-events: all;\n"]))),I=Object(f.b)("line")(u||(u=g(["\n  stroke-width: 5px;\n  stroke: black;\n"],["\n  stroke-width: 5px;\n  stroke: black;\n"]))),x=Object(f.b)("line")(l||(l=g(["\n  stroke-width: 3px;\n  stroke: white;\n"],["\n  stroke-width: 3px;\n  stroke: white;\n"]))),P=Object(f.b)("circle")(p||(p=g(["\n  box-shadow: 0 0 0 rgba(255,255,255, 0.4);\n  fill: white;\n  stroke: black;\n  stroke-width: 1px;\n  r: 10;\n"],["\n  box-shadow: 0 0 0 rgba(255,255,255, 0.4);\n  fill: white;\n  stroke: black;\n  stroke-width: 1px;\n  r: 10;\n"]))),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={textWidth:0,textHeight:0},t.onText=function(e){t.textElement=e},t}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.text,n=e.textX,r=e.textY,a=e.targetX,o=e.targetY,i=e.width,s=e.height,c=this.state,u=c.textWidth,l=c.textHeight;return d.createElement(d.Fragment,null,d.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:i,height:s},d.createElement(I,{x1:n,y1:r,x2:a,y2:o}),d.createElement(x,{x1:n,y1:r,x2:a,y2:o}),d.createElement(P,{cx:a,cy:o})),d.createElement(O,null,d.createElement(w,{innerRef:this.onText,x:n-u/2,y:r-l/2},d.createElement(v,null,t))))},t.prototype.componentDidMount=function(){var e=this;this.interval=setInterval(function(){return e.updateTextSize()},1e3/60)},t.prototype.componentWillUnmount=function(){void 0!==this.interval&&clearInterval(this.interval)},t.prototype.updateTextSize=function(){if(this.textElement){var e=this.textElement.getBoundingClientRect();this.setState({textWidth:e.width,textHeight:e.height})}},t}(d.PureComponent);t.a=j},2668:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(13),a=n(1064),o=n(47),i=n(30),s=n(341),c=n(44),u=n(463),l=n(600),p={name:u.a.welcome,getInfo:function(e){var t=r.c.ui.global.getCurrentPlayerId(e);if(!t)return null;var n=r.c.planets.getPlanetsOwnedByPlayerId(e,t)[0];if(!n)return null;var o={x:n.x,y:n.y},i=Object(a.a)(e,o);return i?{text:"Welcome to BitPlanets! You start with this planet, is yours! Click or tap on it to select it.",targetX:i.x,targetY:i.y}:null},checkCompletionEpic:function(e,t){var n=t.pipe(Object(c.b)(function(e){return p.name!==r.c.ui.tutorial.getCurrentTutorialName(e)}));return e.pipe(Object(l.a)(s.a.start,s.a.next),Object(c.b)(function(){return e=t.value,p.name===r.c.ui.tutorial.getCurrentTutorialName(e);var e}),Object(c.d)(function(){return new o.a(function(e){var n=setInterval(function(){if(r.c.ui.planetMap.getUI(t.value).selectedPlanetId){var n=Object(i.a)(s.a.completed,{tutorialName:p.name});e.next(n)}},200);return function(){clearInterval(n)}}).pipe(Object(c.h)(n))}))}}},2669:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(13),a=n(1064),o=n(47),i=n(30),s=n(341),c=n(44),u=n(463),l=n(600),p=function(e){var t=r.c.ui.global.getCurrentPlayerId(e);if(!t)return null;var n=r.c.planets.getPlanetsOwnedByPlayerId(e,t)[0];return n?r.c.planets.getPlanetsInRangeOfPlanetId(e,n.id)[0]:null},d={name:u.a.sendFirstShip,getInfo:function(e){var t=p(e);if(!t)return null;var n={x:t.x,y:t.y},r=Object(a.a)(e,n);return r?{text:"The bigger circle is the planet's range. Drag from your selected planet to this planet to send a ship. Send ships until you own this planet.",targetX:r.x,targetY:r.y}:null},checkCompletionEpic:function(e,t){var n=t.pipe(Object(c.b)(function(e){return d.name!==r.c.ui.tutorial.getCurrentTutorialName(e)}));return e.pipe(Object(l.a)(s.a.start,s.a.next),Object(c.b)(function(){return e=t.value,d.name===r.c.ui.tutorial.getCurrentTutorialName(e);var e}),Object(c.d)(function(){return new o.a(function(e){var n=setInterval(function(){var n=p(t.value);if(n){var a=r.c.ui.global.getCurrentPlayerId(t.value);if(n.ownerId===a){var o=Object(i.a)(s.a.completed,{tutorialName:d.name});e.next(o)}}},200);return function(){clearInterval(n)}}).pipe(Object(c.h)(n))}))}}},267:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.focusOnPlanet="ui.planetMap.focusOnPlanet",e.requestFocusOnMyPlanets="ui.planetMap.requestFocusOnMyPlanets",e.removePlanetFocus="ui.planetMap.removePlanetFocus",e.setAttackMode="ui.planetMap.setAttackMode",e.setCreatePlanetMode="ui.planetMap.setCreatePlanetMode",e.onPlanetIdClick="ui.planetMap.onPlanetIdClick",e.onPlanetIdSelected="ui.planetMap.onPlanetIdSelected",e.onBackgroundClick="ui.planetMap.onBackgroundClick",e.requestCreatePhaserGame="ui.planetMap.requestCreatePhaserGame",e.destroyPhaserGame="ui.planetMap.destroyPhaserGame",e.onMount="ui.planetMap.onMount",e.onUnmount="ui.planetMap.onUnmount",e.setIsGamePaused="ui.planetMap.setIsGamePaused",e.onPhaserGameCreated="ui.planetMap.onPhaserGameCreated"}(r||(r={}))},2670:function(e,t,n){"use strict";var r,a,o,i=n(1),s=(n.n(i),n(60)),c=n(13),u=n(30),l=n(41),p=n(215),d=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},f=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=Object(l.b)("div")(a||(a=d(["\n  background: #983535;\n  color: white;\n  position: fixed;\n  top: 10px;\n  @media (max-width: 600px){\n    left: 10px;\n    right: 10px;\n  }\n  @media (min-width: 600px){\n    left: 20%;\n    right: 20%;\n  }\n  padding: 10px;\n  z-index: 10000;\n  border-radius: 4px;\n  cursor: pointer;\n"],["\n  background: #983535;\n  color: white;\n  position: fixed;\n  top: 10px;\n  @media (max-width: 600px){\n    left: 10px;\n    right: 10px;\n  }\n  @media (min-width: 600px){\n    left: 20%;\n    right: 20%;\n  }\n  padding: 10px;\n  z-index: 10000;\n  border-radius: 4px;\n  cursor: pointer;\n"]))),g=Object(l.b)("span")(o||(o=d(["\n  font-size: 12px;\n  opacity: 0.75;\n"],["\n  font-size: 12px;\n  opacity: 0.75;\n"]))),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){return this.props.lastError?i.createElement(h,{onClick:this.props.removeLastError},this.props.lastError,i.createElement(g,null," Click or tap to close.")):null},t}(i.PureComponent),m=Object(s.b)(function(e){return{lastError:c.c.toasts.getLastError(e)}},function(e){return{removeLastError:function(){var t=Object(u.a)(p.a.removeLastError,null);e(t)}}})(y);t.a=m},2671:function(e,t){},2673:function(e,t,n){"use strict";t.a=function(){if("serviceWorker"in navigator){var e=new URL("",window.location.toString());if(e.origin!==window.location.origin)return;window.addEventListener("load",function(){var e="/service-worker.js";r?(!function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):a(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):a(e)})}};var r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function a(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}},2676:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),a=(n.n(r),n(2677)),o=n.n(a),i=n(345),s=(n.n(i),n(479)),c=(n.n(s),function(e){var t=e.children,n=Object(s.createGenerateClassName)(),a=Object(i.create)(Object(s.jssPreset)());return a.options.insertionPoint="jss-insertion-point",a.setup({insertionPoint:document.getElementById("jss-css-insertion-point")||void 0}),r.createElement(o.a,{jss:a,generateClassName:n},t)})},2687:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(1067),a=n(30),o=n(13),i=n(652),s=n(2690),c=(n.n(s),n(2693)),u=n(2694),l=n(22),p=n(207),d=function(e){var t=e.enableReduxDevTools,n=e.roomSCI,d=Object(r.b)(),f=Object(i.d)(o.a,o.b,Object(i.c)(s.reduxBatch,Object(i.a)(d),s.reduxBatch,t?Object(c.a)():function(e){return e})),h=Object(u.a)(n,f);return d.run(h),f.dispatch(Object(a.a)(l.a.appStart,{clientId:Object(p.a)()})),f}},2693:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){var e="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({maxAge:200,actionsBlacklist:[]});return e||function(e){return e}}},2694:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(1067),a=n(2695),o=n(2696),i=n(2697),s=n(2698),c=n(2699),u=n(2700),l=n(2701),p=n(2702),d=n(2703),f=n(2704),h=n(2706),g=n(2707),y=n(2708),m=n(2709),b=function(e,t){return Object(r.a)(Object(i.a)(e,t),Object(s.a)(e,t),Object(u.a)(e,t),Object(l.a)(e,t),Object(c.a)(e,t),Object(p.a)(e,t),Object(a.a)(),Object(d.a)(e,t),Object(f.a)(e,t),Object(m.a)(e,t),Object(g.a)(e,t),Object(h.a)(e,t),Object(y.a)(e,t),Object(o.a)(e,t))}},2695:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(44),a=n(47),o=n(30),i=n(22),s=n(200),c=n(107),u=function(){return function(e,t){var n=e.pipe(Object(s.a)(c.a.send),Object(r.a)(50,void 0,1e3),Object(r.b)(function(e){return 0!==e.length}),Object(r.c)(function(e){return Object(o.c)(i.a.batchPerformance,{type:c.a.send,actions:e})}));return Object(a.d)(n)}}},2696:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(44),a=n(47),o=n(30),i=n(110),s=n(267),c=n(13),u=(n(107),n(207)),l=(n(215),n(208)),p=n(200),d=n(22),f=n(1071),h=function(e,t){return function(e,t){var n=e.pipe(Object(p.a)(d.a.connectedToRoom),Object(r.c)(function(){return c.c.ui.planetMap.getUI(t.value).phaserGameLoadingStatus===i.d.none?Object(o.a)(s.a.requestCreatePhaserGame,null):null}),Object(r.b)(f.a)),h=e.pipe(Object(p.a)(s.a.requestCreatePhaserGame),Object(r.i)(function(){var e=c.c.ui.planetMap.getUI(t.value);e.createGame&&e.createGame()}),Object(r.b)(function(){return!1})),g=e.pipe(Object(p.a)(s.a.onUnmount),Object(r.c)(function(){return Object(o.a)(s.a.destroyPhaserGame,null)})),y=e.pipe(Object(p.a)(s.a.destroyPhaserGame),Object(r.i)(function(){var e=c.c.ui.planetMap.getUI(t.value);e.destroyGame&&e.destroyGame()}),Object(r.b)(function(){return!1})),m=e.pipe(Object(r.b)(function(e){return e.type===s.a.onBackgroundClick}),Object(r.c)(function(e){var n=t.value;if(c.c.ui.planetMap.getUI(n).createPlanetMode){var r=e.payload.point,a=r.x,i=r.y,s=c.c.ui.global.getCurrentPlayerId(n);return void 0===s?null:Object(o.b)(l.a.requestCreateOne,{id:Object(u.a)(),x:a,y:i,playerId:s})}return null}),Object(r.b)(function(e){return null!==e})),b=e.pipe(Object(r.b)(function(e){return e.type===s.a.onPlanetIdClick}),Object(r.c)(function(e){var n=t.value,r=c.c.ui.planetMap.getUI(n),a=r.selectedPlanetId,i=(r.attackMode,c.c.planets.getPlanetsById(n)),u=(a&&i[a],i[e.payload.planetId]);if(!u)return[null];Object(o.a)(s.a.onPlanetIdSelected,{planetId:u.id}),c.c.ui.global.getCurrentPlayer(n);return[Object(o.a)(s.a.onPlanetIdSelected,{planetId:u.id})]}),Object(r.d)(function(e){var t=e.filter(function(e){return null!==e});return Object(a.c)(t)}));return Object(a.d)(n,h,y,g,m,b)}}},2697:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(22),a=n(44),o=n(47),i=n(30),s=function(e,t){return function(e,t){var n=e.pipe(Object(a.b)(function(e){return e.type===r.a.setServerDate}),Object(a.c)(function(e){return+new Date-+e.payload.date}),Object(a.c)(function(e){return Object(i.a)(r.a.setServerDateOffset,{offsetInMs:e})}));return Object(o.d)(n)}}},2698:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(22),a=n(44),o=n(47),i=n(30),s=n(352),c=n(185),u=n(1071),l=n(133),p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},f=this,h=function(e,t){return function(e,t){var n=e.pipe(Object(a.b)(function(e){return e.type===r.a.appStart}),Object(a.d)(function(){return p(f,void 0,void 0,function(){var e,t,n;return d(this,function(r){switch(r.label){case 0:return"undefined"===typeof localStorage?[2,[]]:(e=localStorage.getItem("sessionId"),Object(u.a)(e)?[4,Object(s.a)("getUserFromSessionId",{sessionId:e})]:[3,2]);case 1:return(t=r.sent()).ok?(n=t.payload.user,[2,[Object(i.a)(l.a.addCurrentUserAndAccounts,t.payload),Object(i.a)(c.a.addCurrentUser,{user:n})]]):[2,Object(i.a)(c.a.setNoCurrentUser,{})];case 2:return[2,Object(i.a)(c.a.setNoCurrentUser,{})]}})})}));return Object(o.d)(n)}}},2699:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(44),a=n(47),o=n(22),i=n(107),s=n(121),c=n(208),u=function(e,t){return function(e,t){var n=e.pipe(Object(r.b)(function(e){return e.type===o.a.sendClientToServerAction}),Object(r.c)(function(e){return e.payload.serverAction}),Object(r.b)(function(e){return[i.a.requestCreateStream,i.a.requestSendShip,o.a.requestStartGameWith,c.a.requestCreateOne,s.a.requestRoomLogin].indexOf(e.type)>-1}));return Object(a.d)(n)}}},2700:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(22),a=n(44),o=n(47),i=n(30),s=n(13),c=n(200),u=function(e,t){return function(n,u){var l=n.pipe(Object(c.a)(r.a.disconnect)),p=n.pipe(Object(c.a)(r.a.requestConnectToRoom),Object(a.d)(function(){return new o.a(function(n){var a=s.c.ui.global.getCurrentClientId(u.value);if(!a)throw new Error("No client id found");e.getServerAction$().subscribe(function(e){t.dispatch(e)}),e.connect(a);var o=Object(i.a)(r.a.connectedToRoom,null);return n.next(o),function(){e.disconnect()}}).pipe(Object(a.h)(l))}));return Object(o.d)(p)}}},2701:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(22),a=n(44),o=n(47),i=function(e,t){return function(t,n){var i=t.pipe(Object(a.b)(function(e){return e.type===r.a.sendClientToServerAction}),Object(a.i)(function(t){e.sendActionToServer(t)}),Object(a.b)(function(){return!1}));return Object(o.d)(i)}}},2702:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(22),a=n(44),o=n(47),i=n(30),s=n(257),c=n(107),u=n(208),l=n(215),p=n(210),d=n(13),f=n(121),h=n(209),g=n(207),y=n(122),m=n(464),b=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},v=function(e,t){return function(e,t){var n=e.pipe(Object(a.c)(function(e){var n=t.value,a=d.c.ui.global.getCurrentPlayerId(n);if(e.type===u.a.requestCreateOne)return{text:"Creating planet...",autoClose:!1,variant:"info"};if(e.type===r.a.newGame)return{text:"A new game started",autoClose:!0,variant:"info"};if(e.type===r.a.gameEnd)return{text:"Game ended",autoClose:!0,variant:"info"};if(e.type===u.a.createOne&&e.payload.playerId===a)return{text:"Created one planet -"+Object(y.a)(s.a),autoClose:!0,variant:"info"};if(e.type===c.a.requestCreateStream)return{text:"Creating ship stream...",autoClose:!1,variant:"info"};if(e.type===c.a.createStream&&e.payload.createdByPlayerId===a)return{text:"Created one ship stream -"+Object(y.a)(p.a),autoClose:!0,variant:"info"};if(e.type===r.a.sendClientToServerAction){if((e=e.payload.serverAction).type===f.a.onRoomLogin)return{text:"Joining room...",autoClose:!1,variant:"info"}}else{if(e.type===f.a.onCurrentPlayerRoomLogin)return{text:"Successfully logged in the room",autoClose:!0,variant:"info"};if(e.type===f.a.onRoomLogin&&e.payload.partialPlayer.playerId!==a){if(o=d.c.players.getPlayerById(n,e.payload.partialPlayer.playerId))return{text:o.name+" joined the room",autoClose:!0,variant:"info"}}else if(e.type===f.a.exitRoom&&e.payload.playerId!==a){var o;if(o=d.c.players.getPlayerById(n,e.payload.playerId))return{text:o.name+" exit the room",autoClose:!0,variant:"info"}}else{if(e.type===r.a.requestStartGameWith&&e.payload.playerId===a)return{text:"Starting game...",autoClose:!1,variant:"info"};if(e.type===r.a.startGameWith&&e.payload.playerId===a)return{text:"Game started",autoClose:!0,variant:"info"};if(e.type===f.a.addResourcesToMany&&void 0!==a)return{text:"Giveaway resources +"+Object(y.a)(e.payload.playerToResourceMap[a]),autoClose:!0,variant:"info"};if(e.type===f.a.planetKilled&&e.payload.playerId===a)return{text:"Killed one planet +"+Object(y.a)(h.a),autoClose:!0,variant:"info"};if(e.type===u.a.createOneError&&e.payload.playerId===a)return{text:"Error creating planet "+e.payload.error,autoClose:!0,variant:"error"};if(e.type===c.a.createStreamError&&e.payload.createdByPlayerId===a)return{text:"Error creating ship stream "+e.payload.error,autoClose:!0,variant:"error"};if(e.type===f.a.requestRoomLogin)return{text:"Logging in room...",autoClose:!0,variant:"info"};if(e.type===m.a.upgradeError)return{text:"Error upgrading: "+e.payload.error,autoClose:!0,variant:"error"}}}return null}),Object(a.b)(function(e){return null!==e}),Object(a.c)(function(e){return b({},e,{id:Object(g.a)()})}),Object(a.c)(function(e){return Object(i.a)(l.a.addToast,{toast:e})}));return Object(o.d)(n)}}},2703:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(22),a=n(44),o=n(47),i=n(30),s=n(121),c=n(13),u=n(600),l=function(e,t){return function(e,t){var n=e.pipe(Object(u.a)(r.a.newGame,s.a.onCurrentPlayerRoomLogin),Object(a.b)(function(){return!!c.c.system.getPublicSetting(t.value,"autoSpawnAfterRoomLogin")}),Object(a.c)(function(){var e=c.c.ui.global.getCurrentPlayerId(t.value);if(void 0===e)return null;if(c.c.planets.getPlanetsOwnedByPlayerId(t.value,e).length>0)return null;var n=c.c.advanced.getRandomSpawnablePlanet(t.value);return void 0===n?null:Object(i.b)(r.a.requestStartGameWith,{planetId:n.id,playerId:e})}),Object(a.b)(function(e){return null!==e}));return Object(o.d)(n)}}},2704:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(22),a=n(44),o=n(47),i=n(30),s=n(13),c=n(267),u=n(2705),l=n(200),p=function(e,t){return function(e,t){var n=function(){var e=s.c.ui.global.getCurrentPlayerId(t.value);if(void 0===e)return null;var n=s.c.planets.getPlanetsOwnedByPlayerId(t.value,e)[0];return void 0===n?null:Object(i.a)(c.a.focusOnPlanet,{planetId:n.id})},p=Object(u.a)(e,t).pipe(Object(a.c)(n),Object(a.b)(function(e){return null!==e})),d=e.pipe(Object(l.a)(c.a.requestFocusOnMyPlanets),Object(a.c)(n),Object(a.b)(function(e){return null!==e})),f=e.pipe(Object(a.b)(function(e){return e.type===r.a.startGameWith}),Object(a.b)(function(e){var n=s.c.ui.global.getCurrentPlayerId(t.value);return e.payload.playerId===n}),Object(a.c)(function(e){return e.payload.playerId}),Object(a.c)(n),Object(a.b)(function(e){return null!==e}));return Object(o.d)(p,d,f)}}},2705:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(13),a=n(44),o=n(121),i=n(22),s=n(110),c=function(e,t){return e.pipe(Object(a.b)(function(e){return e.type===o.a.onCurrentPlayerRoomLogin||e.type===i.a.setGameState}),Object(a.d)(function(){return t.pipe(Object(a.b)(function(e){return r.c.ui.global.getPlayerRoomLoginLoadingStatus(e)===s.d.loaded}),Object(a.g)(1))}))}},2706:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(44),a=n(47),o=n(30),i=n(1063),s=n(341),c=n(200),u=n(22),l=function(e,t){return function(e,t){var n=Object.keys(i.a).map(function(n){return i.a[n].checkCompletionEpic(e,t)}),l=e.pipe(Object(c.a)(s.a.completed),Object(r.c)(function(){return Object(o.a)(s.a.next,null)})),p=e.pipe(Object(c.a)(u.a.appStart),Object(r.c)(function(){return Object(o.a)(s.a.start,null)}));return a.d.apply(void 0,[p,l].concat(n))}}},2707:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(22),a=n(44),o=n(47),i=n(30),s=n(13),c=n(121),u=function(e,t){return function(e,t){var n=e.pipe(Object(a.b)(function(e){return e.type===r.a.clientSideSocketChange&&"reconnect"===e.payload.newState}),Object(a.b)(function(){return"undefined"!==typeof localStorage}),Object(a.c)(function(){return Object(i.b)(c.a.requestRoomLogin,{clientId:s.c.ui.global.getCurrentClientId(t.value)||"",sessionId:localStorage.getItem("sessionId")||"",accountId:s.c.ui.global.getCurrentAccountId(t.value)||""})}));return Object(o.d)(n)}}},2708:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(44),a=n(47),o=n(30),i=n(121),s=n(13),c=n(22),u=n(200),l=function(e,t){return function(e,t){var n=e.pipe(Object(u.a)(i.a.onRoomLogin),Object(r.b)(function(e){return e.payload.partialPlayer.userId===s.c.ui.global.getCurrentUserId(t.value)}),Object(r.c)(function(e){return Object(o.a)(i.a.onCurrentPlayerRoomLogin,e.payload)})),l=e.pipe(Object(r.b)(function(e){return e.type===i.a.exitRoom}),Object(r.b)(function(e){return e.payload.playerId===s.c.ui.global.getCurrentPlayerId(t.value)}),Object(r.c)(function(e){return Object(o.a)(i.a.currentPlayerExitRoom,e.payload)})),p=e.pipe(Object(u.a)(c.a.startGameWith),Object(r.b)(function(e){return e.payload.playerId===s.c.ui.global.getCurrentPlayerId(t.value)}),Object(r.c)(function(e){return Object(o.a)(c.a.currentPlayerStartGameWith,e.payload)}));return Object(a.d)(n,l,p)}}},2709:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(22),a=n(44),o=n(47),i=n(30),s=n(13),c=n(108),u=n(200),l=n(185),p=function(e,t){return function(e,t){var n=e.pipe(Object(u.a)(l.a.addCurrentUser),Object(a.d)(function(){var e=c.h.map(function(e){return Object(o.h)(Math.round(60*e*1e3))});return o.d.apply(void 0,e).pipe(Object(a.b)(function(){var e=t.value,n=s.c.ui.global.getCurrentUser(e);return!(!n||n.email)}),Object(a.c)(function(){return Object(i.a)(r.a.setRequestEmailDialogVisibility,{isVisible:!0})}))}),Object(a.h)(e.pipe(Object(u.a)(l.a.setNoCurrentUser))));return Object(o.d)(n)}}},2710:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(2711),a=(n.n(r),n(30)),o=n(2762),i=(n.n(o),n(805)),s=(n.n(i),n(806)),c=n(807),u=n(22),l=function(){function e(){var e=this;this.sendActionToServer=function(t){e.socket?e.socket.emit("clientToServerAction",i.stringify(t)):e.clientToServerAction$.next(t)},this.getServerAction$=function(){return e.serverToClientAction$.asObservable()},this.reset()}return e.prototype.connect=function(e){this.clientId=e;var t=Object(s.a)()+":"+c.b+"/room";this.socket=o(t),this.start()},e.prototype.disconnect=function(){this.socket&&this.socket.disconnect()},e.prototype.reset=function(){this.serverToClientAction$&&this.serverToClientAction$.complete(),this.clientToServerAction$&&this.clientToServerAction$.complete(),this.serverToClientAction$=new r.Subject,this.clientToServerAction$=new r.ReplaySubject,this.clientId=void 0,this.socket&&(this.socket.disconnect(),this.socket=void 0)},e.prototype.start=function(){var e=this,t=this.socket;if(!t)throw new Error("No socket setup yet.");this.clientToServerAction$.subscribe(function(e){t.emit("clientToServerAction",i.stringify(e))}),new r.Observable(function(n){var r=-1;t.on("serverToClientAction",function(e){var t=i.parse(e),a=t.index,o=t.actions;a!==r+1&&(alert(r+1+"-"+a),window.location.reload()),r=a,o.length>0&&n.next(o)});var o=function(e){n.next([Object(a.a)(u.a.clientSideSocketChange,{newState:e})])};return t.on("connect",function(){o("connect")}),t.on("connect_error",function(){o("connect_error")}),t.on("connect_timeout",function(){o("connect_timeout")}),t.on("reconnect",function(){r=-1,t.emit("setClientId",e.clientId),o("reconnect")}),t.on("reconnect_attempt",function(){o("reconnect_attempt")}),t.on("reconnecting",function(){o("reconnecting")}),t.on("reconnect_error",function(){o("reconnect_error")}),t.on("reconnect_failed",function(){o("reconnect")}),function(){t.disconnect()}}).subscribe(this.serverToClientAction$),t.emit("setClientId",this.clientId)},e}()},2782:function(e,t){},30:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return u});var r=n(207),a=n(22),o=function(e,t,n){return{type:e,payload:t,roomApiSecretKey:n}},i=function(e,t,n){return{id:Object(r.a)(),type:e,isGameAction:!0,date:new Date,payload:t,roomApiSecretKey:n}},s=function(e,t,n){var o=i(e,t,n);return{id:Object(r.a)(),type:a.a.sendClientToServerAction,payload:{serverAction:o},date:new Date,isGameAction:!0,roomApiSecretKey:n}},c=function(e,t,n){var r=i(e,t,n);return{type:a.a.serverBroadcastAction,payload:{serverAction:r},roomApiSecretKey:n}},u=function(e,t,n){var r=i(t,n);return{type:a.a.serverToSingleClientAction,payload:{serverAction:r},clientId:e}}},331:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(444),a=n(445),o=function(e,t){if(e.id===t.id)return!1;var n=Object(a.a)(Object(r.a)(e),Object(r.a)(t))-e.radius-t.radius;return e.range>n},i={onlyFreePlanet:function(e){return null===e.ownerId},isSpawnable:function(e){return e.playerCanSpawn},isPlanetInRange:o,getPlanetsInRange:function(e,t){return t.filter(function(t){return o(e,t)})},isOwnedBy:function(e){return function(t){return t.ownerId===e}},isNotOwnedBy:function(e){return function(t){return t.ownerId!==e}},sortByUnitsMissing:function(e){return e.sort(function(e,t){var n=e.capacity-e.units;return t.capacity-t.units-n})},getPercentageFilled:function(e){return e.units/e.capacity}}},341:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.completed="tutorial.completed",e.next="tutorial.next",e.start="tutorial.start"}(r||(r={}))},352:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(1667),a=(n.n(r),n(805)),o=(n.n(a),n(806)),i=n(807),s=n(108),c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},l=this,p=function(e,t){return c(l,void 0,void 0,function(){var n;return u(this,function(c){switch(c.label){case 0:return s.c&&console.time("GSCI: "+e),[4,r.post(Object(o.a)()+":"+i.a+"/api/"+e).json({data:a.stringify({name:e,input:t})})];case 1:return n=c.sent(),s.c&&console.timeEnd("GSCI: "+e),[2,n]}})})}},401:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var r=n(110),a=[r.e.blue,r.e.red,r.e.yellow,r.e.limeGreen,r.e.green,r.e.orange,r.e.brown,r.e.pink,r.e.magenta,r.e.coral],o=a.concat(["white"])},443:function(e,t,n){"use strict";n.d(t,"k",function(){return d}),n.d(t,"l",function(){return f}),n.d(t,"e",function(){return g}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return b}),n.d(t,"h",function(){return v}),n.d(t,"d",function(){return w}),n.d(t,"g",function(){return O}),n.d(t,"f",function(){return I}),n.d(t,"i",function(){return x}),n.d(t,"j",function(){return P}),n.d(t,"b",function(){return j});var r=n(208),a=n(107),o=n(22),i=n(1367),s=n(108),c=n(331),u=n(446),l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},p={planetsById:{},planetIdsToThreatLevelByBotId:{}},d=function(e,t){var n,c,u,d,g;if(void 0===e&&(e=p),t.type===o.a.setGameState)e=S(e,t.payload.gameState.planets);else if(t.type===o.a.cleanUpGameData)e=l({},e,{planetsById:{},planetIdsToThreatLevelByBotId:{}});else if(t.type===o.a.newGame)e=h(e,t.payload.planets);else if(t.type===r.a.addMany)e=h(e,t.payload.planets);else if(t.type===r.a.requestCreateOne){var y=t.payload,m=y.x,b=y.y,v=y.id;e=l({},e,{planetsById:l({},e.planetsById,(n={},n[v]={id:v,x:m,y:b,color:s.g,range:10,playerCanSpawn:!1,radius:10,units:10,capacity:10,temporary:!0,ownerId:null,appliedUpgradeDefinitionIds:[]},n))})}else if(t.type===r.a.createOne){var w=t.payload.planet;e=l({},e,{planetsById:l({},e.planetsById,(c={},c[w.id]=l({},w,{temporary:!1}),c))})}else if(t.type===r.a.addPlanetsUpdatesById){var O={},I=t.payload.planetsUpdatesById;Object.keys(I).forEach(function(t){var n=e.planetsById[t],r=I[t];n&&r?O[t]=l({},n,r):console.error("Planet not found")}),e=l({},e,{planetsById:l({},e.planetsById,O)})}else if(t.type===o.a.disconnect)e=l({},e,{planetsById:{},planetIdsToThreatLevelByBotId:{}});else if(t.type===o.a.batchPerformance&&t.payload.type===a.a.send){var x=t.payload.actions,P=l({},e.planetsById);x.forEach(function(e){var t=e.payload.ship,n=P[t.fromPlanetId];n&&(P[t.fromPlanetId]=l({},n,{units:Object(i.a)(n.units-t.units,0,n.capacity)}))}),e=l({},e,{planetsById:P})}else if(t.type===r.a.addUnits){(w=e.planetsById[t.payload.planetId])&&(e=l({},e,{planetsById:l({},e.planetsById,(u={},u[t.payload.planetId]=l({},w,{units:Object(i.a)(w.units+t.payload.unitsToAdd,0,w.capacity)}),u))}))}else if(t.type===r.a.addUnitsToMany){var j={},k=t.payload.unitsToPlanetMap;Object.keys(k).forEach(function(t){var n=e.planetsById[t];if(n){var r=k[t];j[n.id]=l({},n,{units:Object(i.a)(n.units+r,0,n.capacity)})}}),e=l({},e,{planetsById:l({},e.planetsById,j)})}else if(t.type===o.a.startGameWith){(w=e.planetsById[t.payload.planetId])&&(e=l({},e,{planetsById:l({},e.planetsById,(d={},d[t.payload.planetId]=l({},w,{ownerId:t.payload.playerId,color:t.payload.color}),d))}))}else if(t.type===r.a.disownMany)t.payload.planetIds.forEach(function(t){e=f(e,t,{ownerId:null,color:s.g})});else if(t.type===r.a.createOneError){var C=l({},e.planetsById);delete C[t.payload.id],e=l({},e,{planetsById:C})}else t.type===r.a.debugSetThreatLevelsForBot&&(e=l({},e,{planetIdsToThreatLevelByBotId:l({},e.planetIdsToThreatLevelByBotId,(g={},g[t.payload.botId]=t.payload.planetIdsToThreatLevel,g))}));return e},f=function(e,t,n){var r,a=e.planetsById[t];return a?(n.units&&(n=l({},n,{units:Object(i.a)(n.units,0,a.capacity)})),l({},e,{planetsById:l({},e.planetsById,(r={},r[t]=l({},a,n,{id:t}),r))})):(console.error("Original planet not found"),e)},h=function(e,t){var n={};return t.forEach(function(e){n[e.id]=l({},e,{temporary:!1})}),e=l({},e,{planetsById:l({},e.planetsById,n)})},g=function(e){return e.planetsById},y=function(e){return e.planetsById},m=function(e,t){return e.planetsById[t]},b=function(e,t){var n=e.planetsById[t];if(!n)return 0;var r=n.units/2;return r<s.d?n.units:Math.floor(r)},v=function(e,t){return Object.values(e.planetsById).filter(function(e){return e&&e.ownerId===t})},w=function(e,t){return e.planetIdsToThreatLevelByBotId[t]},O=function(e,t){var n=y(e),r=n[t];if(!r)return[];var a=Object.values(n).filter(function(e){return void 0!==e});return c.a.getPlanetsInRange(r,a)},I=function(e,t){var n=y(e);return Object.values(n).filter(function(e){return e&&e.protectedGroupId===t})},x=function(e){var t=y(e),n=Object.values(t).filter(c.a.onlyFreePlanet).filter(c.a.isSpawnable);return Object(u.a)(n)},P=function(e,t,n){var r=m(e,t);if(r){if(void 0===r.protectedGroupId)return!1;var a=!0;return I(e,r.protectedGroupId).forEach(function(e){e.ownerId===n&&(a=!1)}),a}},j=function(e){return{planetsById:e.planetsById}},S=function(e,t){return l({},e,{planetsById:t.planetsById,planetIdsToThreatLevelByBotId:{}})}},444:function(e,t,n){"use strict";t.a=function(e){return{x:e.x,y:e.y}}},445:function(e,t,n){"use strict";t.a=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},446:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(256),a=(n.n(r),function(e){return e[r.random(0,e.length-1,!1)]})},463:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.welcome="welcome",e.sendFirstShip="sendFirstShip"}(r||(r={}))},464:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.requestUpgrade="upgrade.requestUpgrade",e.upgrade="upgrade.upgrade",e.upgradeError="upgrade.upgradeError"}(r||(r={}))},512:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r,a,o=n(513),i=n.n(o),s=n(159),c=n.n(s),u=n(1),l=(n.n(u),n(41)),p=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},d={info:Object(l.a)(r||(r=p(["\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.54);\n  "],["\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.54);\n  "]))),error:Object(l.a)(a||(a=p(["\n    font-size: 12px;\n    color: #983535;\n    font-weight: bold;\n  "],["\n    font-size: 12px;\n    color: #983535;\n    font-weight: bold;\n  "])))},f=function(e){var t=e.children,n=e.variant;return u.createElement(c.a,null,u.createElement(i.a,{className:d[n]},t))}},515:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(108),a=function(e,t){var n=""+(e/100).toFixed(2);return t?""+r.b+n:n}},599:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n(1),a=(n.n(r),r.createContext(void 0)),o=a.Provider,i=a.Consumer},600:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(44),a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(r.b)(function(t){return e.includes(t.type)})}},696:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.requestSendMessage="chat.requestSendMessage",e.sendMessage="chat.sendMessage",e.sendMessageError="chat.sendMessageError"}(r||(r={}))},697:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});this&&this.__assign||Object.assign;var r={upgradeDefinitions:{R001:{id:"R001",title:"Range",property:"range",multiplier:1.1,resourcesCost:1}}},a=function(e,t){return void 0===e&&(e=r),e},o=function(e){return Object.values(e.upgradeDefinitions)},i=function(e,t){return e.upgradeDefinitions[t]},s=function(e){return{upgradeDefinitions:e.upgradeDefinitions}}},698:function(e,t,n){"use strict";n.d(t,"a",function(){return re});var r,a,o,i,s,c,u,l=n(1),p=(n.n(l),n(41)),d=n(216),f=n(110),h=n(13),g=n(60),y=n(1518),m=n.n(y),b=n(1571),v=n.n(b),w=n(158),O=n.n(w),I=n(1573),x=n(1886),P=n(161),j=n.n(P),S=n(1887),k=n.n(S),C=n(1889),E=n.n(C),_=n(1890),B=n.n(_),T=n(1895),A=n.n(T),D=n(1903),M=n(1916),G=n(1917),L=n(1931),R=n(1933),U=n.n(R),z=n(1934),F=n.n(z),q=n(328),N=n(516),W=n.n(N),Y=n(515),H=n(122),V=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},X=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Z=Object(d.css)(a||(a=V(["\n  flex: 1;\n"],["\n  flex: 1;\n"]))),$=Object(p.b)(k.a)(o||(o=V(["\n  color: white;\n  margin-left: 10px;\n"],["\n  color: white;\n  margin-left: 10px;\n"]))),K=Object(p.b)("div")(i||(i=V(["\n  @media (max-width: 600px){\n    height: 56px;\n  }\n  @media (min-width: 600px){\n    height: 64px;\n  }\n  width: 100%;\n"],["\n  @media (max-width: 600px){\n    height: 56px;\n  }\n  @media (min-width: 600px){\n    height: 64px;\n  }\n  width: 100%;\n"]))),J=Object(p.b)("img")(s||(s=V(["\n  height: 16px;\n  margin-top: 3px;\n"],["\n  height: 16px;\n  margin-top: 3px;\n"]))),Q=Object(p.b)("div")(c||(c=V(["\n  flex: 1;\n"],["\n  flex: 1;\n"]))),ee=Object(p.b)("span")(u||(u=V(["\n  font-size: 67%;\n"],["\n  font-size: 67%;\n"]))),te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isLoginDialogOpen:!1,roomSelectionDialogOpen:void 0,anchorEl:void 0,howToPlayDialogOpen:!1,roomInfoDialogOpen:!1},t.onLoginClick=function(){t.setState({isLoginDialogOpen:!0})},t.onPlayClick=function(){t.setState({roomSelectionDialogOpen:!0})},t.renderToolbar=function(){var e=t.props,n=e.currentPlayer,r=(e.currentAccount,e.currentUser),a=e.inGame,o=e.size,i=t.state.anchorEl,s=Boolean(i),c="narrow"===o?F.a:U.a,u=l.createElement("span",null,l.createElement("span",{title:"Money in this match"},n?Object(Y.a)(n.availableMoneyAmountInCents+n.depositAmountInCents,!0):0),n&&0!==n.depositAmountInCents?l.createElement(ee,{title:"Deposit in this match"},"-",Object(Y.a)(n.depositAmountInCents,!1)):"");return l.createElement(v.a,null,l.createElement(Q,null,l.createElement(q.b,{to:"/"},l.createElement(J,{src:c}))),a&&!(n&&n.online)&&l.createElement(j.a,{variant:"contained",onClick:t.onPlayClick},"Play"),a&&r&&l.createElement(O.a,{variant:"subheading",color:"inherit",align:"right",className:Z},l.createElement("span",{title:"Name"},r.name)," ","(",u,", ",l.createElement("span",{title:"Resources"},Object(H.a)(n?n.resources:0)),")"),l.createElement($,{"aria-label":"More","aria-owns":i?"long-menu":void 0,"aria-haspopup":"true",onClick:t.handleClick},l.createElement(A.a,null)),l.createElement(E.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:t.handleClose},(!r||!r.email)&&l.createElement(B.a,{onClick:t.onLoginClick},"Register or Login"),a&&l.createElement(B.a,{onClick:function(){return t.onMenuClick("roomInfo")}},"Room players"),l.createElement(B.a,{onClick:function(){return t.onMenuClick("howToPlay")}},"How to play?"),r&&l.createElement(B.a,{onClick:function(){return t.onMenuClick("logout")}},"Logout")))},t.handleClick=function(e){t.setState({anchorEl:e.currentTarget})},t.handleClose=function(){t.setState({anchorEl:null})},t.onMenuClick=function(e){t.handleClose(),"howToPlay"===e?t.setState({howToPlayDialogOpen:!0}):"logout"===e?(localStorage.removeItem("sessionId"),window.location.reload()):"roomInfo"===e&&t.setState({roomInfoDialogOpen:!0})},t.onRoomInfoDialogClose=function(){t.setState({roomInfoDialogOpen:!1})},t.onHowToPlayDialogClose=function(){t.setState({howToPlayDialogOpen:!1})},t.handleLoginDialogClose=function(){t.setState({isLoginDialogOpen:!1})},t.handleRoomSelectionDialogClose=function(){t.setState({roomSelectionDialogOpen:!1})},t}return X(t,e),t.prototype.isLoaded=function(){return!0},t.prototype.render=function(){var e=this.props,t=e.currentUser,n=e.currentUserStatus,r=e.currentPlayer,a=e.connectionStatus,o=e.inGame,i=a===f.b.reconnecting,s=!this.isLoaded()||i,c=o&&!s&&!(r&&r.online)&&(void 0===this.state.roomSelectionDialogOpen||this.state.roomSelectionDialogOpen),u=o&&!s&&"none"===n&&(!t||void 0===t.name);return l.createElement(l.Fragment,null,l.createElement(m.a,null,this.renderToolbar(),l.createElement(I.a,{open:this.state.isLoginDialogOpen,onClose:this.handleLoginDialogClose}),l.createElement(x.a,{open:c,onClose:this.handleRoomSelectionDialogClose}),l.createElement(D.a,{open:this.state.howToPlayDialogOpen,onClose:this.onHowToPlayDialogClose}),l.createElement(M.a,{open:u,onLogin:this.onLoginClick}),l.createElement(G.a,{open:this.state.roomInfoDialogOpen,onClose:this.onRoomInfoDialogClose}),l.createElement(L.a,null)),l.createElement(K,null))},t}(l.Component),ne=Object(g.b)(function(e){return{playersById:h.c.players.getPlayersById(e),currentPlayer:h.c.ui.global.getCurrentPlayer(e),currentUserStatus:h.c.ui.global.getCurrentUserStatus(e),planetsById:h.c.planets.getPlanetsById(e),currentUser:h.c.ui.global.getCurrentUser(e),currentAccount:h.c.ui.global.getCurrentAccount(e),connectionStatus:h.c.ui.global.getConnectionStatus(e),depositAmountInCents:h.c.ui.global.getCurrentAccountDeposit(e)}})(te),re=W()(function(e){return{size:e.width<500?"narrow":"wide"}})(ne)},806:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(214),a=function(){return r.a?"http://server.bitplanets.com":"undefined"===typeof window?"http://localhost":"http://"+window.location.hostname}},807:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var r=80,a=81},823:function(e,t,n){e.exports=n.p+"static/media/flags16.109d8321.png"},824:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={"?":0,ad:352,ae:368,af:384,ag:400,ai:416,al:432,am:448,ao:464,aq:480,ar:496,as:512,at:528,au:544,aw:560,ax:576,az:592,ba:608,bb:624,bd:640,be:656,bf:672,bg:688,bh:704,bi:720,bj:736,bm:752,bn:768,bo:784,br:800,bs:816,bt:832,bw:848,by:864,bz:880,ca:896,cg:912,cf:928,cd:944,ch:960,ci:976,ck:992,cl:1008,cm:1024,cn:1040,co:1056,cr:1072,cu:1088,cv:1104,cy:1120,cz:1136,de:1152,dj:1168,dk:1184,dm:1200,do:1216,dz:1232,ec:1248,ee:1264,eg:1280,eh:1296,er:1312,es:1328,et:1344,fi:1360,fj:1376,fm:1392,fo:1408,fr:1424,ga:1440,gb:1456,gd:1472,ge:1488,gg:1504,gh:1520,gi:1536,gl:1552,gm:1568,gn:1584,gp:1600,gq:1616,gr:1632,gt:1648,gu:1664,gw:1680,gy:1696,hk:1712,hn:1728,hr:1744,ht:1760,hu:1776,id:1792,mc:1792,ie:1808,il:1824,im:1840,in:1856,iq:1872,ir:1888,is:1904,it:1920,je:1936,jm:1952,jo:1968,jp:1984,ke:2e3,kg:2016,kh:2032,ki:2048,km:2064,kn:2080,kp:2096,kr:2112,kw:2128,ky:2144,kz:2160,la:2176,lb:2192,lc:2208,li:2224,lk:2240,lr:2256,ls:2272,lt:2288,lu:2304,lv:2320,ly:2336,ma:2352,md:2368,me:2384,mg:2400,mh:2416,mk:2432,ml:2448,mm:2464,mn:2480,mo:2496,mq:2512,mr:2528,ms:2544,mt:2560,mu:2576,mv:2592,mw:2608,mx:2624,my:2640,mz:2656,na:2672,nc:2688,ne:2704,ng:2720,ni:2736,nl:2752,no:2768,np:2784,nr:2800,nz:2816,om:2832,pa:2848,pe:2864,pf:2880,pg:2896,ph:2912,pk:2928,pl:2944,pr:2960,ps:2976,pt:2992,pw:3008,py:3024,qa:3040,re:3056,ro:3072,rs:3088,ru:3104,rw:3120,sa:3136,sb:3152,sc:3168,sd:3184,se:3200,sg:3216,si:3232,sk:3248,sl:3264,sm:3280,sn:3296,so:3312,sr:3328,st:3344,sv:3360,sy:3376,sz:3392,tc:3408,td:3424,tg:3440,th:3456,tj:3472,tl:3488,tm:3504,tn:3520,to:3536,tr:3552,tt:3568,tv:3584,tw:3600,tz:3616,ua:3632,ug:3648,us:3664,uy:3680,uz:3696,va:3712,vc:3728,ve:3744,vg:3760,vi:3776,vn:3792,vu:3808,ws:3824,ye:3840,za:3856,zm:3872,zw:3888,sx:3904,cw:3920,ss:3936,nu:3952}}},[1104]);