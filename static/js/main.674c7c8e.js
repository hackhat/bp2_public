webpackJsonp([0],{10:function(e,t,n){"use strict";n.d(t,"b",function(){return G}),n.d(t,"c",function(){return U});var r=n(333),a=n(1369),o=n(210),i=n(1485),s=n(1486),c=n(1487),u=n(1488),l=n(1489),p=n(1490),d=n(1491),f=n(1492),h=n(1494),y=n(1495),g=n(703),m=n(1497),b=n(1498),v=n(1499),w=n(1500),O=n(1501),I=n(256),P=n(1502),x=n(1504),j=n(1505),S=n(1506),C=n(1507),k=n(1508),E=n(1509),_=n(100),T=n(1510),B=n(1511),A=n(1512),M=n(1513),D=n(1514),R=n(1515),G={ui:{}},L=[_.a.arrive,_.a.send];t.a=function(e,t){return L.includes(t.type)?e:(e=Object(B.a)(e,t),e=Object(A.a)(e,t),e=Object(M.a)(e,t),e=Object(D.a)(e,t),{players:o.m(e.players,t),users:i.b(e.users,t),planets:r.l(e.planets,t),ships:a.e(e.ships,t),system:s.j(e.system,t),toasts:c.c(e.toasts,t),chat:u.c(e.chat,t),accounts:p.c(e.accounts,t),accountsToUsers:d.a(e.accountsToUsers,t),roomDeposits:y.c(e.roomDeposits,t),upgrades:g.d(e.upgrades,t),ui:{planetMap:E.c(e.ui.planetMap,t),gameSettings:l.b(e.ui.gameSettings,t),global:f.n(e.ui.global,t),tutorial:h.c(e.ui.tutorial,t)}})};var U={chat:{getMessages:function(e){return u.b(e.chat)},getGameState:function(e){return u.a(e.chat)}},roomDeposits:{getGameState:function(e){return y.a(e.roomDeposits)},getRoomDepositByAccountIdAndRoomId:function(e,t,n){return y.b(e.roomDeposits,t,n)}},accounts:{getGameState:function(e){return p.b(e.accounts)},getAccountById:function(e,t){return p.a(e.accounts,t)}},advanced:{currentPlayerCanRespawn:x.a,getCurrentSelectedPlanet:b.a,canStartGameWith:O.a,canUpgrade:S.a,canDeleteShipStream:w.a,canSendChatMessage:T.a,canCreateShipStream:m.a,canCreateShip:v.a,canCreatePlanet:P.a,canPlayerCreatePlanet:I.b,getUnitsToAddToPlanetPerCycleForPlayerId:k.a,getScoreBoardData:j.a,getRandomSpawnablePlanet:C.a,getAverageResourcesGainedByCurrentlyOnlinePlayers:R.a,getGameState:function(e){return{planets:U.planets.getGameState(e),ships:U.ships.getGameState(e),players:U.players.getGameState(e),system:U.system.getGameState(e),chat:U.chat.getGameState(e),roomDeposits:U.roomDeposits.getGameState(e),accounts:U.accounts.getGameState(e),upgrades:U.upgrades.getGameState(e)}}},users:{getUserById:function(e,t){return i.a(e.users,t)}},players:{getPlayersById:function(e){return o.h(e.players)},getGameState:function(e){return o.c(e.players)},getPlayersAsList:function(e){return o.i(e.players)},getOnlinePlayers:function(e){return o.e(e.players)},getOfflinePlayers:function(e){return o.d(e.players)},getPlayerById:function(e,t){return o.f(e.players,t)},isPlayerIdOnline:function(e,t){return o.l(e.players,t)},getPlayerWithAccountId:function(e,t){return o.g(e.players,t)},isAccountLoggingIn:function(e,t){return o.k(e.players,t)}},planets:{getPlanetById:function(e,t){return r.d(e.planets,t)},getPlanetsById:function(e){return r.f(e.planets)},getGameState:function(e){return r.c(e.planets)},getEstimatedUnitsToSendByShipFromPlanet:function(e,t){return r.b(e.planets,t)},getPlanetsOwnedByPlayerId:function(e,t){return r.i(e.planets,t)},getPlanetIdsToThreatLevel:function(e,t){return r.e(e.planets,t)},getPlanetsInRangeOfPlanetId:function(e,t){return r.h(e.planets,t)},getPlanetsByProtectedGroupId:function(e,t){return r.g(e.planets,t)},isPlanetProtectedByPlayerId:function(e,t,n){return r.k(e.planets,t,n)},getRandomSpawnablePlanet:function(e){return r.j(e.planets)}},ships:{getShipStreams:function(e,t){return a.c(e.ships,t)},getGameState:function(e){return a.a(e.ships)},getShipsById:function(e){return a.d(e.ships)},getShipById:function(e,t){return a.b(e.ships,t)}},system:{getRoomId:function(e){return s.i(e.system)},getActions:function(e){return s.a(e.system)},getGameEndDate:function(e){return s.c(e.system)},getGameStatus:function(e){return s.e(e.system)},getGameState:function(e){return s.d(e.system)},getPublicSetting:function(e,t){return s.g(e.system,t)},getPublicSettings:function(e){return s.h(e.system)},getPlayerIdFromClientId:function(e,t){return s.f(e.system,t)},getClientIdFromPlayerId:function(e,t){return s.b(e.system,t)}},toasts:{getLastToast:function(e){return c.b(e.toasts)},getLastError:function(e){return c.a(e.toasts)}},upgrades:{getUpgradeDefinitions:function(e){return g.c(e.upgrades)},getGameState:function(e){return g.a(e.upgrades)},getUpgradeDefinitionById:function(e,t){return g.b(e.upgrades,t)}},ui:{global:{getAddMoreMoneyPanelState:function(e){return f.a(e.ui.global)},getUpgradesPanelState:function(e){return f.m(e.ui.global)},getCurrentAccountId:function(e){return f.e(e.ui.global)},getCurrentPlayer:function(e){var t=U.ui.global.getCurrentPlayerId(e);if(t)return U.players.getPlayerById(e,t)},getCurrentPlayerId:function(e){return f.g(e.ui.global)},getClientDateOffsetInMs:function(e){return f.c(e.ui.global)},getPlayerRoomLoginLoadingStatus:function(e){return f.k(e.ui.global)},getConnectionStatus:function(e){return f.d(e.ui.global)},getCurrentAccountDeposit:function(e){var t=U.ui.global.getCurrentAccountId(e);if(void 0!==t){var n=U.system.getRoomId(e);if(void 0!==n){var r=U.roomDeposits.getRoomDepositByAccountIdAndRoomId(e,t,n);return r?r.depositAmountInCents:void 0}}},getAverageFps:function(e){return f.b(e.ui.global)},getRequestEmailDialogIsOpen:function(e){return f.l(e.ui.global)},getPlayerRequestStartGameLoadingStatus:function(e){return f.j(e.ui.global)},getCurrentClientId:function(e){return f.f(e.ui.global)},getCurrentUserId:function(e){return f.h(e.ui.global)},getCurrentUserStatus:function(e){return f.i(e.ui.global)},getCurrentUser:function(e){var t=U.ui.global.getCurrentUserId(e);return U.users.getUserById(e,t)},getCurrentAccount:function(e){var t=U.ui.global.getCurrentAccountId(e);if(void 0!==t)return U.accounts.getAccountById(e,t)}},planetMap:{getUI:function(e){return E.b(e.ui.planetMap)},getPlanetsMapUILoadingStatus:function(e){return E.a(e.ui.planetMap)}},gameSettings:{getGameSettings:function(e){return l.a(e.ui.gameSettings)}},tutorial:{getCurrentTutorialName:function(e){return h.a(e.ui.tutorial)},getTutorialList:function(e){return h.b(e.ui.tutorial)}}}}},100:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.send="ship.send",e.requestSendShip="ship.requestSendShip",e.requestSendShipError="ship.requestSendShipError",e.arrive="ship.arrive",e.createStream="ship.createStream",e.requestCreateStream="ship.requestCreateStream",e.createStreamError="ship.createStreamError",e.deleteStream="ship.deleteStream",e.requestDeleteStream="ship.requestDeleteStream",e.deleteStreamError="ship.deleteStreamError"}(r||(r={}))},1055:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1056),a=n(335),o=n(2627),i=function(e,t){var n=Object(r.a)(Object(a.a)(e),Object(a.a)(t));return{fromPoint:Object(o.a)(Object(a.a)(e),e.radius,n),toPoint:Object(o.a)(Object(a.a)(t),t.radius,n-Math.PI)}}},1056:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.atan2(r,n)}},1057:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(604),a=(n.n(r),n(1058)),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this,c=function(e,t,n){return o(s,void 0,Promise,function(){var o,s,c,u,l,p,d,f,h,y,g,m,b,v,w,O,I,P,x,j,S;return i(this,function(i){switch(i.label){case 0:if(o=e.width,s=e.height,c=r(n),(u=document.createElement("canvas")).width=o,u.height=s,!(l=u.getContext("2d")))return[2];if(l.save(),l.drawImage(e,0,0),p=l.getImageData(0,0,o,s),d=p.data,(f=document.createElement("canvas")).width=o,f.height=s,!(h=f.getContext("2d")))return[2];for(h.save(),h.drawImage(t,0,0),y=h.getImageData(0,0,o,s),g=y.data,m=0;m<d.length/4;m++)v=b=4*m,w=++b,O=++b,I=++b,P=(g[v]+g[w]+g[w])/3/255,x=g[I]/255,j=(1-P)*x,g[v]=c.get("rgb.r"),g[w]=c.get("rgb.g"),g[O]=c.get("rgb.b"),g[I]=255*j;return h.putImageData(y,0,0),l.globalCompositeOperation="multiply",l.save(),l.drawImage(f,0,0),[4,Object(a.a)(u)];case 1:return S=i.sent(),!1&&(u.title="outputCanvas",f.title="maskCanvas",S.title="outputImageElement",document.body.appendChild(u),document.body.appendChild(f),document.body.appendChild(S)),[2,S]}})})}},1058:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this,i=function(e){return new Promise(function(t,n){return r(o,void 0,void 0,function(){var n;return a(this,function(r){return(n=document.createElement("img")).src=e.toDataURL(),n.addEventListener("load",function(){t(n)}),[2]})})})}},1059:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,a=n(368),o=n.n(a),i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c=function(e){function t(t){var n=s({x:0,y:0,key:""},t),r=n.scene,a=n.x,o=n.y,i=n.key,c=n.frame;return e.call(this,r,a,o,i,c)||this}return i(t,e),t.prototype.setPerfAlpha=function(e){this._alpha!==e&&(this.alpha=e)},t.prototype.setTexture=function(t,n){return this.texture&&this.texture.key===t?this:e.prototype.setTexture.call(this,t,n)},t}(o.a.GameObjects.Image);c.prototype=Object.assign(c.prototype)},1060:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){return e.toFixed(t)}},1063:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(2678),a=n(2679),o={welcome:r.a,sendFirstShip:a.a}},1064:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(10),a=function(e,t){var n=r.c.ui.planetMap.getUI(e),a=n.getGame,o=n.getCanvasElement;if(!a)return null;var i=a();if(!o)return null;var s=o(),c=i.scene.getAt(0);if(!c)throw new Error("No scene");var u=c.cameras.main,l=s.getBoundingClientRect();return{x:l.width/2+l.x-(u.midPoint.x-t.x)*u.zoom,y:l.height/2+l.y-(u.midPoint.y-t.y)*u.zoom}}},1071:function(e,t,n){"use strict";t.a=function(e){return null!=e}},1104:function(e,t,n){n(1105),e.exports=n(1305)},1105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1106),a=(n.n(r),n(1245));n.n(a);"undefined"===typeof Promise&&(n(1301).enable(),window.Promise=n(1303)),n(1304),Object.assign=n(438)},111:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.addCurrentUserAndAccounts="ui.global.addCurrentUserAndAccounts",e.setVisibilityForUpgradesPanel="ui.global.setVisibilityForUpgradesPanel",e.setVisibilityForAddMoreMoneyPanel="ui.global.setVisibilityForAddMoreMoneyPanel"}(r||(r={}))},122:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.setCurrentPlayerId="player.setCurrentPlayerId",e.addMany="player.addMany",e.addResources="player.addResources",e.requestRoomLogin="player.requestRoomLogin",e.requestRoomLoginError="player.requestRoomLoginError",e.onRoomLogin="player.onRoomLogin",e.exitRoom="player.exitRoom",e.onCurrentPlayerRoomLogin="player.onCurrentPlayerRoomLogin",e.currentPlayerExitRoom="player.currentPlayerExitRoom",e.setName="player.setName",e.planetKilled="player.planetKilled",e.addResourcesToMany="player.addResourcesToMany",e.removeAllPlayers="player.removeAllPlayers",e.loggingInPlayer="player.loggingInPlayer",e.depositsReleased="player.depositsReleased"}(r||(r={}))},123:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(88),a=function(e){return""+r.j+e}},1305:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1306),a=new(n(2721).a);Object(r.a)(document.getElementById("root1"),a)},1306:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(1),a=(n.n(r),n(78)),o=(n.n(a),n(53)),i=n(1337),s=n(2681),c=(n.n(s),n(2683)),u=n(605),l=n(266),p=n(484),d=(n.n(p),n(2684)),f=n(2686),h=n(2697),y=!(l.a&&"#debug"!==location.hash),g=function(e,t){var n=Object(h.a)({enableReduxDevTools:y,roomSCI:t}),s=Object(p.createMuiTheme)(),l=r.createElement(f.a,null,r.createElement(o.a,{store:n},r.createElement(u.b,{value:n},r.createElement(p.MuiThemeProvider,{theme:s},r.createElement(d.a,{theme:s},r.createElement(i.a,null))))));e.hasChildNodes()?a.hydrate(l,e):a.render(l,e),Object(c.a)()}},1337:function(e,t,n){"use strict";var r,a=n(1),o=(n.n(a),n(1338)),i=n(2667),s=n(2675),c=n(2680),u=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(o.a,null),a.createElement(i.a,null),a.createElement(s.a,null),a.createElement(c.a,null))},t}(a.Component);t.a=l},1338:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),a=(n.n(r),n(330)),o=n(1366),i=n(2646),s=n(2666),c=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u=[{id:"home",path:"/",component:i.a},{id:"gameRoot",path:"/game",component:o.a}],l=function(){return r.createElement(a.a,null,r.createElement(r.Fragment,null,u.map(function(e){return r.createElement(a.c,c({key:e.id,exact:!0},e))}),r.createElement(s.a,null)))}},1366:function(e,t,n){"use strict";var r,a,o,i,s,c,u=n(1),l=(n.n(u),n(53)),p=n(23),d=n(10),f=n(71),h=n(704),y=n(40),g=n(1955),m=n(1961),b=n(1976),v=n(1978),w=n(522),O=n.n(w),I=n(2640),P=n(22),x=n(2641),j=n(2645),S=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},C=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),k=Object(y.b)("div")(a||(a=S(["\n  position: absolute;\n  @media (max-width: 600px){\n    top: 56px;\n  }\n  @media (min-width: 600px){\n    top: 64px;\n  }\n  bottom: 0;\n  right: 0;\n  left: 0;\n"],["\n  position: absolute;\n  @media (max-width: 600px){\n    top: 56px;\n  }\n  @media (min-width: 600px){\n    top: 64px;\n  }\n  bottom: 0;\n  right: 0;\n  left: 0;\n"]))),E=Object(y.b)("div")(o||(o=S(["\n  position: absolute;\n  bottom: 23px;\n  right: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  pointer-events: none;\n"],["\n  position: absolute;\n  bottom: 23px;\n  right: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  pointer-events: none;\n"]))),_=Object(y.b)("div")(i||(i=S(["\n  position: absolute;\n  top: 0;\n  right: 1px;\n  z-index: 1;\n"],["\n  position: absolute;\n  top: 0;\n  right: 1px;\n  z-index: 1;\n"]))),T=Object(y.b)("div")(s||(s=S(["\n  position: absolute;\n  bottom: 100px;\n  right: 1px;\n  z-index: 1;\n  max-width: 250px;\n  height: 200px;\n"],["\n  position: absolute;\n  bottom: 100px;\n  right: 1px;\n  z-index: 1;\n  max-width: 250px;\n  height: 200px;\n"]))),B=Object(y.b)("section")(c||(c=S(["\n  width: 100%;\n  height: 100%;\n"],["\n  width: 100%;\n  height: 100%;\n"]))),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return C(t,e),t.prototype.render=function(){var e=this.props,t=e.size,n=e.requestEmailDialogIsOpen;this.getLoadingStatus();return u.createElement(B,null,u.createElement(h.a,{inGame:!0}),u.createElement(I.a,{open:n,onClose:this.props.onAddYourEmailDialogClose}),u.createElement(k,null,u.createElement(v.a,null),"wide"===t&&u.createElement(_,null,u.createElement(m.a,null)),"wide"===t&&u.createElement(T,null,u.createElement(b.a,null))),u.createElement(E,null,u.createElement(g.a,null)),u.createElement(x.a,null),u.createElement(j.a,null))},t.prototype.getLoadingStatus=function(){var e=void 0===this.props.currentUser,t=this.props.connectionStatus===f.b.reconnecting,n=this.props.planetMapLoadingStatus===f.d.loading,r=this.props.playerRoomLoginLoadingStatus===f.d.loading,a=this.props.playerRequestStartGameLoadingStatus===f.d.loading;return{isLoading:!(e||t||n||r||a),modulesLoading:{hasCurrentUser:e,isReconnecting:t,isPlanetMapLoading:n,isPlayerRoomLoginLoading:r,isPlayerRequestStartGameLoading:a}}},t}(u.PureComponent),M=Object(l.b)(function(e){return{planetMapLoadingStatus:d.c.ui.planetMap.getPlanetsMapUILoadingStatus(e),playerRoomLoginLoadingStatus:d.c.ui.global.getPlayerRoomLoginLoadingStatus(e),connectionStatus:d.c.ui.global.getConnectionStatus(e),playerRequestStartGameLoadingStatus:d.c.ui.global.getPlayerRequestStartGameLoadingStatus(e),requestEmailDialogIsOpen:d.c.ui.global.getRequestEmailDialogIsOpen(e),ui:d.c.ui.planetMap.getUI(e),currentUser:d.c.ui.global.getCurrentUser(e)}},function(e){return{onAddYourEmailDialogClose:function(){var t=Object(p.a)(P.a.setRequestEmailDialogVisibility,{isVisible:!1});e(t)}}})(A);t.a=O()(function(e){return{size:e.width<500?"narrow":"wide"}})(M)},1367:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t,n){return Math.min(Math.max(e,t),n)}},1368:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(71),a=n(88),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i=function(e){var t=0;return e.type===r.f.resource&&(t=1),o({unitsPerCycle:5,resourcesPerCycle:t,defense:1,attack:1,ownerId:null,playerCanSpawn:!0,color:a.h},e,{units:2*e.radius,capacity:2*e.radius,temporary:!0,appliedUpgradeDefinitionIds:[]})}},1369:function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return d});var r=n(100),a=n(22),o=n(1370),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s={shipsById:{},shipStreamsById:{}},c=function(e,t){var n,o,c;if(void 0===e&&(e=s),t.type===a.a.setGameState)e=f(e,t.payload.gameState.ships);else if(t.type===a.a.cleanUpGameData)e=i({},e,{shipsById:{},shipStreamsById:{}});else if(t.type===a.a.newGame)e=i({},e,{shipsById:{},shipStreamsById:{}});else if(t.type===r.a.requestSendShip)e=i({},e,{shipsById:i({},e.shipsById,(n={},n[t.payload.id]=i({},t.payload,{temporary:!0,dateSent:new Date(1/0),arrived:!1,color:"white",attack:1}),n))});else if(t.type===r.a.requestSendShipError)delete(e=i({},e,{shipsById:i({},e.shipsById)})).shipsById[t.payload.id];else if(t.type===a.a.batchPerformance&&t.payload.type===r.a.send){var u=t.payload.actions,l=i({},e.shipsById);u.forEach(function(e){var t=e.payload.ship;l[t.id]=i({},t,{temporary:!1})}),e=i({},e,{shipsById:l})}else if(t.type===a.a.batchPerformance&&t.payload.type===r.a.arrive){u=t.payload.actions;var p=i({},e.shipsById);u.forEach(function(e){delete p[e.payload.shipId]}),e=i({},e,{shipsById:p})}else if(t.type===r.a.createStream)e=i({},e,{shipStreamsById:i({},e.shipStreamsById,(o={},o[t.payload.shipStream.id]=i({},t.payload.shipStream,{temporary:!1}),o))});else if(t.type===r.a.requestCreateStream)e=i({},e,{shipStreamsById:i({},e.shipStreamsById,(c={},c[t.payload.shipStream.id]=i({},t.payload.shipStream),c))});else if(t.type===r.a.deleteStream){var d=t.payload.shipStreamId;delete(h=i({},e.shipStreamsById))[d],e=i({},e,{shipStreamsById:h})}else if(t.type===a.a.disconnect)e=i({},e,{shipsById:{},shipStreamsById:{}});else if(t.type===r.a.createStreamError){var h,y=t.payload.shipStream.id;delete(h=i({},e.shipStreamsById))[y],e=i({},e,{shipStreamsById:h})}return e},u=function(e){return e.shipsById},l=function(e,t){return e.shipsById[t]},p=function(e,t){if(t.includeTemporary)return e.shipStreamsById;var n=Object.values(e.shipStreamsById).filter(function(e){return e&&!e.temporary});return Object(o.a)(n)},d=function(e){return{shipsById:e.shipsById,shipStreamsById:e.shipStreamsById}},f=function(e,t){return i({},e,{shipsById:t.shipsById,shipStreamsById:t.shipStreamsById})}},1370:function(e,t,n){"use strict";t.a=function(e){var t={};return e.filter(function(e){return void 0!==e}).forEach(function(e){return t[e.id]=e}),t}},1483:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(22),a=n(42),o=n(45),i=function(e){return Object(o.g)(Object(a.b)(function(e){return e.type===r.a.authorizedClientAction}),Object(a.b)(function(t){return t.payload.serverAction.type===e}))}},1484:function(e,t,n){"use strict";t.a=function(e){return void 0!==e}},1485:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n(186),a=n(111),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i={usersById:{}},s=function(e,t){var n,s;if(void 0===e&&(e=i),t.type===a.a.addCurrentUserAndAccounts){var c=t.payload.user;e=o({},e,{usersById:o({},e.usersById,(n={},n[c.id]=c,n))})}else if(t.type===r.a.addCurrentUser){c=t.payload.user;e=o({},e,{usersById:o({},e.usersById,(s={},s[c.id]=c,s))})}return e},c=function(e,t){return e.usersById[t]}},1486:function(e,t,n){"use strict";n.d(t,"j",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"i",function(){return p}),n.d(t,"f",function(){return d}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"a",function(){return y}),n.d(t,"e",function(){return g}),n.d(t,"d",function(){return m});var r=n(22),a=n(71),o=n(122),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s={gameStatus:a.c.loading,gameEndDate:void 0,clientIdToPlayerIdMap:{},actions:[],publicSettings:{autoSpawnAfterRoomLogin:!0,enableAddPlanetUnits:!0,cleanUpProtectedPlanetsAfterMsOfPlayerOffline:6e4,createNewEmptyPlanets:!0,maxOutboundStreamsFromPlanet:5}},c=function(e,t){var n,c;return void 0===e&&(e=s),t.type===r.a.setGameState?e=b(e,t.payload.gameState.system):t.type===r.a.gameEnd?e=i({},e,{gameEndDate:void 0,gameStatus:a.c.ended}):t.type===r.a.newGame?e=i({},e,{gameEndDate:t.payload.gameEndDate,gameStatus:a.c.playing}):t.type===r.a.cleanUpGameData?e=i({},e,{gameStatus:a.c.playing,gameEndDate:void 0}):t.type===o.a.onRoomLogin?e=i({},e,{clientIdToPlayerIdMap:i({},e.clientIdToPlayerIdMap,(n={},n[t.payload.partialPlayer.clientId]=t.payload.partialPlayer.playerId,n))}):t.type===r.a.setPublicSetting?e=i({},e,{publicSettings:i({},e.publicSettings,(c={},c[t.payload.key]=t.payload.value,c))}):t.type===r.a.disconnect?e=i({},e,{gameStatus:a.c.loading,gameEndDate:void 0}):t.type===r.a.serverStart&&(e=i({},e,{roomId:t.payload.roomId})),e},u=function(e,t){return e.publicSettings[t]},l=function(e){return e.publicSettings},p=function(e){return e.roomId},d=function(e,t){return e.clientIdToPlayerIdMap[t]},f=function(e,t){var n=void 0;return Object.keys(e.clientIdToPlayerIdMap).forEach(function(r){e.clientIdToPlayerIdMap[r]===t&&(n=r)}),n},h=function(e){return e.gameEndDate},y=function(e){return e.actions},g=function(e){return e.gameStatus},m=function(e){return{gameEndDate:e.gameEndDate,gameStatus:e.gameStatus,roomId:e.roomId,publicSettings:e.publicSettings}},b=function(e,t){return i({},e,{gameEndDate:t.gameEndDate,gameStatus:t.gameStatus,roomId:t.roomId,publicSettings:i({},e.publicSettings,t.publicSettings)})}},1487:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l});var r=n(209),a=n(187),o=n(22),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s={lastToast:void 0,lastError:null},c=function(e,t){return void 0===e&&(e=s),t.type===a.a.addTextToast?e=i({},e,{lastToast:{id:Object(r.a)(),text:t.payload.text,autoClose:t.payload.autoClose,variant:"info"}}):t.type===a.a.addToast?e=i({},e,{lastToast:i({},t.payload.toast),lastError:"error"===t.payload.toast.variant?t.payload.toast.text:e.lastError}):t.type===a.a.removeLastToast?e=i({},e,{lastToast:void 0}):t.type===o.a.cleanUpGameData?e=i({},e,{lastToast:void 0}):t.type===a.a.removeLastError?e=i({},e,{lastError:null}):t.type===a.a.addError&&(e=i({},e,{lastError:t.payload.error})),e},u=function(e){return e.lastToast},l=function(e){return e.lastError}},1488:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var r=n(702),a=n(22),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i={messages:[]},s=function(e,t){if(void 0===e&&(e=i),t.type===a.a.setGameState)e=l(e,t.payload.gameState.chat);else if(t.type===r.a.sendMessage){var n=e.messages.concat([t.payload.message]);n.length>512&&(n=n.slice(-512)),e=o({},e,{messages:n})}return e},c=function(e){return e.messages},u=function(e){return{messages:e.messages}},l=function(e,t){return o({},e,{messages:t.messages})}},1489:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c});var r=n(22),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o={showComets:!1,resolution:1,mapBoundingBox:{top:-2500,right:2500,bottom:2500,left:-2500}},i=function(e,t){return void 0===e&&(e=o),t.type===r.a.setAverageFps&&t.payload.averageFps<55&&(e=s(e)),e},s=function(e){return e.showComets&&(e=a({},e,{showComets:!1})),e},c=function(e){return e}},1490:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var r=n(111),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o={accountsById:{}},i=function(e,t){return void 0===e&&(e=o),t.type===r.a.addCurrentUserAndAccounts&&(e=s(e,t.payload.accounts)),e},s=function(e,t){var n=a({},e.accountsById);return t.forEach(function(e){n[e.id]=e}),a({},e,{accountsById:n})},c=function(e,t){return e.accountsById[t]},u=function(e){return{accountsById:e.accountsById}}},1491:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(111),a={accountsToUsers:[]},o=function(e,t){if(void 0===e&&(e=a),t.type===r.a.addCurrentUserAndAccounts){var n=t.payload.accountsToUsers;e={accountsToUsers:e.accountsToUsers.concat(n)}}return e}},1492:function(e,t,n){"use strict";n.d(t,"n",function(){return p}),n.d(t,"e",function(){return d}),n.d(t,"g",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"k",function(){return y}),n.d(t,"d",function(){return g}),n.d(t,"b",function(){return m}),n.d(t,"l",function(){return b}),n.d(t,"j",function(){return v}),n.d(t,"f",function(){return w}),n.d(t,"h",function(){return O}),n.d(t,"i",function(){return I}),n.d(t,"m",function(){return P}),n.d(t,"a",function(){return x});var r=n(186),a=n(122),o=n(22),i=n(71),s=n(1493),c=n(111),u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l={clientDateOffsetInMs:0,playerRoomLoginLoadingStatus:i.d.none,connectionStatus:i.b.disconnected,averageFps:60,requestEmailDialogIsOpen:!1,playerRequestStartGameLoadingStatus:i.d.none,currentUserLoadingStatus:i.d.loading,upgradesPanelState:{isVisible:!1,planetId:null},addMoreMoneyPanelState:{isVisible:!1}},p=function(e,t){if(void 0===e&&(e=l),t.type===c.a.addCurrentUserAndAccounts){var n=Object(s.a)(t.payload.accounts,"fakeMoney");e=u({},e,{currentUserId:t.payload.user.id,currentAccountId:n,currentUserLoadingStatus:i.d.loaded})}else t.type===o.a.requestStartGameWith?e=u({},e,{playerRequestStartGameLoadingStatus:i.d.loading}):t.type===o.a.currentPlayerStartGameWith?e=u({},e,{playerRequestStartGameLoadingStatus:i.d.loaded}):t.type===a.a.currentPlayerExitRoom?e=u({},e,{currentPlayerId:void 0}):t.type===a.a.onCurrentPlayerRoomLogin?e=u({},e,{currentPlayerId:t.payload.partialPlayer.playerId,playerRoomLoginLoadingStatus:i.d.loaded}):t.type===a.a.setCurrentPlayerId?e=u({},e,{currentPlayerId:t.payload.playerId}):t.type===o.a.cleanUpGameData?e=u({},e,{clientDateOffsetInMs:0}):t.type===o.a.disconnect?e=u({},e,{clientDateOffsetInMs:0,playerRoomLoginLoadingStatus:i.d.none,connectionStatus:i.b.disconnected,averageFps:60,playerRequestStartGameLoadingStatus:i.d.none}):t.type===o.a.setServerDateOffset?e=u({},e,{clientDateOffsetInMs:t.payload.offsetInMs}):t.type===a.a.requestRoomLogin?e=u({},e,{playerRoomLoginLoadingStatus:i.d.loading}):t.type===a.a.requestRoomLoginError?e=u({},e,{playerRoomLoginLoadingStatus:i.d.none}):t.type===o.a.clientSideSocketChange&&"reconnect_attempt"===t.payload.newState?e=u({},e):t.type===o.a.clientSideSocketChange&&"reconnect"===t.payload.newState?e=u({},e,{connectionStatus:i.b.connected}):t.type===o.a.clientSideSocketChange&&"reconnect_attempt"===t.payload.newState?e=u({},e,{connectionStatus:i.b.reconnecting}):t.type===o.a.setGameState?e=u({},e,{connectionStatus:i.b.connected}):t.type===o.a.setAverageFps?e=u({},e,{averageFps:t.payload.averageFps}):t.type===o.a.setRequestEmailDialogVisibility?e=u({},e,{requestEmailDialogIsOpen:t.payload.isVisible}):t.type===r.a.addCurrentUser?e=u({},e,{currentUserId:t.payload.user.id,currentUserLoadingStatus:i.d.loaded}):t.type===r.a.setNoCurrentUser?e=u({},e,{currentUserLoadingStatus:i.d.none}):t.type===o.a.appStart?e=u({},e,{currentClientId:t.payload.clientId}):t.type===c.a.setVisibilityForUpgradesPanel?e=u({},e,{upgradesPanelState:{isVisible:t.payload.isVisible,planetId:t.payload.planetId}}):t.type===c.a.setVisibilityForAddMoreMoneyPanel&&(e=u({},e,{addMoreMoneyPanelState:{isVisible:t.payload.isVisible}}));return e},d=function(e){return e.currentAccountId},f=function(e){return e.currentPlayerId},h=function(e){return e.clientDateOffsetInMs},y=function(e){return e.playerRoomLoginLoadingStatus},g=function(e){return e.connectionStatus},m=function(e){return e.averageFps},b=function(e){return e.requestEmailDialogIsOpen},v=function(e){return e.playerRequestStartGameLoadingStatus},w=function(e){return e.currentClientId},O=function(e){return e.currentUserId},I=function(e){return e.currentUserLoadingStatus},P=function(e){return e.upgradesPanelState},x=function(e){return e.addMoreMoneyPanelState}},1493:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){return e.filter(function(e){return e.accountType===t}).map(function(e){return e.id})[0]}},1494:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var r=n(267),a=n(465),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i={tutorialList:[a.a.welcome,a.a.sendFirstShip],currentTutorialIndex:0},s=function(e,t){return void 0===e&&(e=i),t.type===r.a.next?e=o({},e,{currentTutorialIndex:e.currentTutorialIndex+1}):t.type===r.a.close&&(e=o({},e,{currentTutorialIndex:e.tutorialList.length})),e},c=function(e){return e.tutorialList},u=function(e){return e.tutorialList[e.currentTutorialIndex]||null}},1495:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l});var r=n(255),a=(n.n(r),n(22)),o=n(1496),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s={roomDepositsById:{}},c=function(e,t){return void 0===e&&(e=s),t.type===a.a.setGameState?e=p(e,t.payload.gameState.roomDeposits):t.type===o.a.updateRoomDeposits?t.payload.roomDeposits.forEach(function(t){var n;e=i({},e,{roomDepositsById:i({},e.roomDepositsById,(n={},n[t.id]=t,n))})}):t.type===a.a.newGame&&(e=i({},e,{roomDepositsById:{}})),e},u=function(e,t,n){return r.find(e.roomDepositsById,{accountId:t,roomId:n})},l=function(e){return{roomDepositsById:e.roomDepositsById}},p=function(e,t){return i({},e,{roomDepositsById:t.roomDepositsById})}},1496:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.releasedAllDepositsFromRoomId="roomDeposit.releasedAllDepositsFromRoomId",e.errorReleasingAllDepositsFromRoomId="roomDeposit.errorReleasingAllDepositsFromRoomId",e.updateRoomDeposits="roomDeposit.updateRoomDeposits"}(r||(r={}))},1497:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(334),a=n(211),o=n(10),i=n(123),s=function(e,t){var n=t.fromPlanetId,s=t.toPlanetId,c=t.authenticatedPlayerId;if(void 0===c)return{err:"Authenticated player id is undefined",ok:!1};var u=o.c.planets.getPlanetsById(e),l=o.c.players.getPlayersById(e),p=o.c.ships.getShipStreams(e,{includeTemporary:!1}),d=u[n],f=u[s],h=c,y=l[h];if(c!==h)return{err:"Authenticated player does't match the ship stream owner id",ok:!1};if(n===s)return{err:'"From planet" is the same as "to planet"',ok:!1};if(!d)return{err:"No from planet",ok:!1};if(!f)return{err:"No to planet",ok:!1};if(d.ownerId!==c)return{err:"From planet owner is not the same as the logged in player",ok:!1};if(null===d.ownerId)return{err:"No ownerId on the from planet",ok:!1};if(!y)return{err:"No owner player found",ok:!1};if(y.resources<a.a)return{err:"You don't have enough resources. To create a ship stream you need "+Object(i.a)(a.a)+". Try again when you have more resources.",ok:!1};if(o.c.planets.isPlanetProtectedByPlayerId(e,f.id,h))return{err:"This planet can't be attacked because is necessary to allow the survival of new players. Try attacking another planet.",ok:!1};if(!!Object.values(p).find(function(e){return!!e&&(e.fromPlanetId===n&&e.toPlanetId===s)}))return{err:"Another ship stream already existing between these 2 planets. Having another one won't send more units, so don't worry about it.",ok:!1};if(!r.a.isPlanetInRange(d,f))return{err:"The destination planet is out of the planet's range. Click on your planet to see the range. Upgrade your planet's range and try again.",ok:!1};var g=Object.values(p).filter(function(e){return!!e&&e.fromPlanetId===n}).length,m=o.c.system.getPublicSettings(e).maxOutboundStreamsFromPlanet;return g>=m?{err:"You reached the maximum amount of outgoing ship streams for this planet. Max "+m+" ship streams.",ok:!1}:{ok:!0}}},1498:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(10),a=function(e){var t=r.c.ui.planetMap.getUI(e).selectedPlanetId;if(t)return r.c.planets.getPlanetById(e,t)}},1499:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(334),a=n(10),o=n(88),i=function(e,t){var n=t.fromPlanetId,i=t.toPlanetId,s=t.ownerId,c=t.authenticatedPlayerId,u=t.units,l=a.c.planets.getPlanetsById(e),p=a.c.players.getPlayersById(e),d=l[n],f=l[i],h=p[s];return void 0===c?{err:"Authenticated player id is undefined",ok:!1}:c!==s?{err:"Owner id is not the same as the authenticated player id",ok:!1}:n===i?{err:'"From planet" is the same as "to planet"',ok:!1}:d?f?d.ownerId!==s?{err:'Current player is not the owner of the "from planet"',ok:!1}:null===d.ownerId?{err:'No ownerId on the "from planet"',ok:!1}:h?u<o.e?{err:"A ship should have at least "+o.e+" units. You are trying to send "+u+" units. Try again when you have more units on your planet.",ok:!1}:r.a.isPlanetInRange(d,f)?a.c.planets.isPlanetProtectedByPlayerId(e,f.id,s)?{err:"This planet can't be attacked because is necessary to allow the survival of new players. Try attacking another planet.",ok:!1}:{ok:!0}:{err:"The destination planet is out of the planet's range. Click on your planet to see the range. Upgrade your planet's range and try again.",ok:!1}:{err:"No owner player found",ok:!1}:{err:'No "to planet" found',ok:!1}:{err:'No "from planet" found',ok:!1}}},1500:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(10),a=function(e,t){var n=t.shipStreamId,a=t.authenticatedPlayerId,o=r.c.ships.getShipStreams(e,{includeTemporary:!1})[n];if(!o)return{ok:!1,err:"No shipStream found"};var i=r.c.planets.getPlanetById(e,o.fromPlanetId);return i?i.ownerId!==a?{ok:!1,err:"Only the planet owner can delete an outgoing stream. Conquer this planet and then try again."}:{ok:!0}:{ok:!1,err:"No fromPlanet found"}}},1501:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(10),a=function(e,t){var n=t.planetId,a=t.authenticatedPlayerId,o=t.playerId;if(void 0===a)return{ok:!1,err:"Player id is undefined"};if(a!==o)return{err:"Authenticated player id doesn't match the player id",ok:!1};if(!r.c.players.getPlayerById(e,a))return{ok:!1,err:"Can't find player with id \""+a+'"'};var i=r.c.planets.getPlanetsOwnedByPlayerId(e,a),s=r.c.planets.getPlanetById(e,n);return s?null!==s.ownerId?{ok:!1,err:"Planet is owned by somebody else"}:i.length>0?{ok:!1,err:"Player owns more than 0 planets"}:{ok:!0}:{ok:!1,err:"Planet not found"}}},1502:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(448),o=n(1503),i=n(335),s=function(e,t){var n=t.planet,s=Object.values(r.c.planets.getPlanetsById(e)),c=r.c.ui.gameSettings.getGameSettings(e);return Object(o.a)(Object(i.a)(n),c.mapBoundingBox)?Object(a.a)(s,n)?s.length>220?{ok:!1,err:"Maximum planets in game reached (220). No more planets can be created."}:{ok:!0}:{ok:!1,err:"Not enough distance between planets"}:{err:"Planet is our of bounds. Please place a planet near the center of the game. Current bounding box is "+JSON.stringify(c.mapBoundingBox)+".",ok:!1}}},1503:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){var n=e.y>=t.top,r=e.y<=t.bottom,a=e.x>=t.left,o=e.x<=t.right;return n&&r&&a&&o}},1504:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(10),a=function(e,t){var n=r.c.ui.global.getCurrentPlayerId(e);return void 0===n?{ok:!1,err:"No current player id."}:r.c.planets.getPlanetsOwnedByPlayerId(e,n).length>0?{ok:!1,err:"Player has more than one planet in the game."}:{ok:!0}}},1505:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(10),a=n(255),o=(n.n(a),function(e){var t=r.c.players.getPlayersById(e),n=r.c.planets.getPlanetsById(e),o=Object.values(t),i={},s=Object.values(n);s.forEach(function(e){null!==e.ownerId&&(void 0===i[e.ownerId]&&(i[e.ownerId]=0),i[e.ownerId]++)});var c=o.map(function(e){return{playerId:e.id,name:e.name,color:e.color,resources:e.resources,availableMoneyAmountInCents:e.availableMoneyAmountInCents,depositAmountInCents:e.depositAmountInCents,kills:e.kills,countryCode:e.countryCode,planetsOwned:i[e.id]||0,totalPlanets:s.length,online:e.online,hasEmail:e.hasEmail,percentDominated:i[e.id]?i[e.id]/s.length:0}});return a.sortBy(c,"percentDominated").reverse()})},1506:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(10),a=n(71),o=n(448),i=function(e,t){var n=t.authenticatedPlayerId,i=t.planetId,s=t.upgradeDefinitionId;if(!n)return{ok:!1,err:"No authenticatedPlayerId provided."};if(!i)return{ok:!1,err:"No planetId provided."};if(!s)return{ok:!1,err:"No upgradeDefinitionId provided."};var c=r.c.planets.getPlanetById(e,i);if(!c)return{ok:!1,err:"No planet found."};if(c.ownerId!==n)return{ok:!1,err:"You can't upgrade planets you don't own. Conquer this planet and try again."};var u=r.c.players.getPlayerById(e,n);if(!u)return{ok:!1,err:"No player found."};var l=r.c.upgrades.getUpgradeDefinitionById(e,s);if(!l)return{ok:!1,err:"No upgradeDefinition found."};if(u.resources<l.resourcesCost)return{ok:!1,err:"Player has not enough resources to upgrade."};if(c.appliedUpgradeDefinitionIds.filter(function(e){return e===s}).length>=15)return{ok:!1,err:"You can upgrade only 15 times."};if(l.property===a.e.radius){var p=Object.values(r.c.planets.getPlanetsById(e));if(!Object(o.a)(p,c))return{ok:!1,err:"Not enough space around the planet to increase the radius."}}return{ok:!0}}},1507:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(10),a=n(334),o=n(447),i=function(e){var t=r.c.planets.getPlanetsById(e),n=Object.values(t).filter(a.a.onlyFreePlanet).filter(function(e){return e&&e.playerCanSpawn});return Object(o.a)(n)}},1508:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(10),a=(n(266).a,10),o=function(e,t){var n=r.c.planets.getPlanetById(e,t);return n?n.unitsPerCycle:a}},1509:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var r=n(268),a=n(71),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i={attackMode:a.a.ship,createPlanetMode:!1,gameAssetsLoadingStatus:a.d.none,isGamePaused:!1,phaserGameLoadingStatus:a.d.none},s=function(e,t){return void 0===e&&(e=i),t.type===r.a.onBackgroundClick?e=o({},e,{selectedPlanetId:void 0,attackMode:a.a.ship}):t.type===r.a.onPlanetIdSelected?e=o({},e,{selectedPlanetId:t.payload.planetId}):t.type===r.a.focusOnPlanet?e=o({},e,{focusOnPlanetId:t.payload.planetId}):t.type===r.a.removePlanetFocus?e=o({},e,{focusOnPlanetId:void 0}):t.type===r.a.setAttackMode?e=o({},e,{attackMode:t.payload.attackMode}):t.type===r.a.setCreatePlanetMode?e=o({},e,{createPlanetMode:t.payload.createPlanetMode}):t.type===r.a.setIsGamePaused?e=o({},e,{isGamePaused:t.payload.isPaused}):t.type===r.a.onPhaserGameCreated?e=o({},e,{phaserGameLoadingStatus:a.d.loaded,getGame:t.payload.getGame,getCanvasElement:t.payload.getCanvasElement}):t.type===r.a.onMount?e=o({},e,{createGame:t.payload.createGame,destroyGame:t.payload.destroyGame}):t.type===r.a.requestCreatePhaserGame?e=o({},e,{phaserGameLoadingStatus:a.d.loading}):t.type===r.a.destroyPhaserGame&&(e=o({},e,{phaserGameLoadingStatus:a.d.none,createGame:void 0,getGame:void 0,getCanvasElement:void 0})),e},c=function(e){return e},u=function(e){return e.phaserGameLoadingStatus}},1510:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(88),a=function(e,t){var n=t.message;return void 0===t.authenticatedPlayerId?{ok:!1,err:"authenticatedPlayerId is undefined"}:n.length>r.a?{ok:!1,err:"Message text too long "+n.length+". Max is "+r.a+" characters."}:""===n?{ok:!1,err:"You can't send an empty message"}:{ok:!0}}},1511:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(184),a=n(210),o=n(88),i=n(10),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c=function(e,t){return t.type===r.a.disownMany&&t.payload.planetIds.forEach(function(t){var n=i.c.planets.getPlanetById(e,t);n&&n.ownerId&&(e=s({},e,{players:a.j(e.players,n.ownerId,-o.g,o.g)}))}),e}},1512:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(22),a=n(100),o=n(333),i=n(88),s=n(210),c=n(10),u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l=function(e,t){return t.type===r.a.batchPerformance&&t.payload.type===a.a.arrive&&t.payload.actions.forEach(function(t){var n=c.c.ships.getShipById(e,t.payload.shipId);if(n){var r=c.c.players.getPlayerById(e,n.ownerId);if(!r)throw new Error("No to ship player owner found");var a=c.c.planets.getPlanetById(e,n.toPlanetId);if(!a)throw new Error("No to planet found");if(a.ownerId===n.ownerId)e=u({},e,{planets:o.m(e.planets,a.id,{units:a.units+n.units})});else{var l=r.availableMoneyAmountInCents>=i.g,p=a.units-n.units*n.attack/a.defense;if(p<0&&l){var d=a.ownerId;e=u({},e,{planets:o.m(e.planets,a.id,{units:-p,color:n.color,ownerId:n.ownerId})}),null!==d?(e=u({},e,{players:s.j(e.players,d,-i.g,0)}),e=u({},e,{players:s.j(e.players,n.ownerId,i.g,0)})):e=u({},e,{players:s.j(e.players,n.ownerId,i.g,-i.g)})}else e=u({},e,{planets:o.m(e.planets,a.id,{units:p})})}}else console.error("No ship found")}),e}},1513:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(466),a=n(333),o=n(210),i=n(703),s=n(10),c=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u=function(e,t){var n;if(t.type===r.a.upgrade){var u=a.d(e.planets,t.payload.planetId);if(u){var l=i.b(e.upgrades,t.payload.upgradeDefinitionId);s.c.advanced.canUpgrade(e,{authenticatedPlayerId:t.payload.playerId,planetId:t.payload.planetId,upgradeDefinitionId:t.payload.upgradeDefinitionId}).ok&&(e=c({},e,{planets:a.m(e.planets,t.payload.planetId,(n={appliedUpgradeDefinitionIds:u.appliedUpgradeDefinitionIds.concat([t.payload.upgradeDefinitionId])},n[l.property]=u[l.property]+l.addend,n)),players:o.b(e.players,t.payload.playerId,-l.resourcesCost)}))}}return e}},1514:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(184),a=n(333),o=n(10),i=n(22),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c=function(e,t){return t.type===r.a.createOne?e=u(e,[t.payload.planet]):t.type===i.a.newGame?e=u(e,t.payload.planets):t.type===r.a.addMany&&(e=u(e,t.payload.planets)),e},u=function(e,t){return t.forEach(function(t){o.c.advanced.canCreatePlanet(e,{planet:t}).ok&&(e=s({},e,{planets:a.a(e.planets,t)}))}),e}},1515:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(10),a=function(e){var t=r.c.players.getPlayersById(e),n=0,a=0;return Object.values(t).forEach(function(e){e&&e.online&&e.resources+e.resourcesUsed!==0&&(a++,n+=e.resources+e.resourcesUsed)}),0===a?0:Math.round(n/a)}},1578:function(e,t,n){"use strict";var r,a,o=n(1),i=(n.n(o),n(188)),s=n.n(i),c=n(53),u=n(159),l=n.n(u),p=n(479),d=n.n(p),f=n(220),h=n.n(f),y=n(161),g=n.n(y),m=n(736),b=n.n(m),v=n(737),w=n.n(v),O=n(23),I=n(186),P=n(278),x=n(40),j=n(516),S=n.n(j),C=n(517),k=n(111),E=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},_=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),T=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},B=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},A=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},M=Object(x.b)(S.a)(a||(a=E(["\n  margin-left: 10px;\n"],["\n  margin-left: 10px;\n"]))),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={name:"",email:"",password:"",selectedTabId:"register",loading:!1},t.onTabChange=function(e,n){t.setState({selectedTabId:n})},t.onInputChange=function(e){return function(n){var r;t.setState(T({},t.state,((r={})[e]=n.target.value,r)))}},t.onRegisterSubmit=function(e){return B(t,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.preventDefault(),[4,this.onRegister()];case 1:return t.sent(),[2]}})})},t.onLoginSubmit=function(e){return B(t,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.preventDefault(),[4,this.onLogin()];case 1:return t.sent(),[2]}})})},t.onRegister=function(){return B(t,void 0,void 0,function(){var e,t,n;return A(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.setState({loading:!0}),(e=localStorage.getItem("sessionId"))?[4,Object(P.a)("updateUser",{sessionId:e,updateUser:{email:this.state.email,password:this.state.password}})]:[2];case 1:return t=r.sent(),this.setState({loading:!1}),t.ok?(this.props.updateUser(t.payload.user),this.props.onClose(),[3,3]):[2];case 2:return n=r.sent(),alert("Error registering"),console.error(n),[3,3];case 3:return[2]}})})},t.onLogin=function(){return B(t,void 0,void 0,function(){var e,t;return A(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.setState({loading:!0}),[4,Object(P.a)("login",{email:this.state.email,password:this.state.password})];case 1:return e=n.sent(),this.setState({loading:!1}),e.ok&&(localStorage.setItem("sessionId",e.payload.session.id),this.props.addCurrentUserAndAccounts(e.payload),document&&document.location&&document.location.reload()),[3,3];case 2:return t=n.sent(),alert("Error login"),console.error(t),[3,3];case 3:return[2]}})})},t}return _(t,e),t.prototype.render=function(){var e=this.state.loading;return o.createElement(s.a,{onClose:this.props.onClose,open:this.props.open,maxWidth:"xs"},o.createElement(b.a,{value:this.state.selectedTabId,onChange:this.onTabChange,indicatorColor:"primary",textColor:"primary",fullWidth:!0,disabled:e},o.createElement(w.a,{label:"Register",value:"register"}),o.createElement(w.a,{label:"Login",value:"login"})),"register"===this.state.selectedTabId&&this.renderRegister(),"login"===this.state.selectedTabId&&this.renderLogin())},t.prototype.renderRegister=function(){var e=this.state.loading;return o.createElement("form",{onSubmit:this.onRegisterSubmit},o.createElement(l.a,null,o.createElement(d.a,{autoFocus:!0,margin:"dense",id:"email",label:"Email Address",type:"email",fullWidth:!0,onChange:this.onInputChange("email"),value:this.state.email,tabIndex:1,disabled:e}),o.createElement(d.a,{autoFocus:!0,margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,onChange:this.onInputChange("password"),value:this.state.password,tabIndex:2,disabled:e})),o.createElement(h.a,null,o.createElement(g.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),o.createElement(g.a,{type:"submit",variant:"contained",onClick:this.onRegister,color:"primary",disabled:e},e?"Registering...":"Register",e&&o.createElement(M,{size:15}))),e&&o.createElement(C.a,{variant:"info"},"Please wait until we create your user. It might take a few seconds."))},t.prototype.renderLogin=function(){var e=this.state.loading;return o.createElement("form",{onSubmit:this.onLoginSubmit},o.createElement(l.a,null,o.createElement(d.a,{autoFocus:!0,margin:"dense",id:"email",label:"Email Address",type:"email",fullWidth:!0,onChange:this.onInputChange("email"),value:this.state.email,tabIndex:0,disabled:e}),o.createElement(d.a,{autoFocus:!0,margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,onChange:this.onInputChange("password"),value:this.state.password,tabIndex:1,disabled:e})),o.createElement(h.a,null,o.createElement(g.a,{onClick:this.props.onClose,color:"primary",disabled:e},"Cancel"),o.createElement(g.a,{type:"submit",variant:"contained",onClick:this.onLogin,color:"primary",disabled:e},e?"Logging in...":"Login",e&&o.createElement(M,{size:15}))),e&&o.createElement(C.a,{variant:"info"},"Please wait until we log you into your user. It might take a few seconds."))},t}(o.Component),R=Object(c.b)(void 0,function(e){return{addCurrentUserAndAccounts:function(t){var n=Object(O.a)(k.a.addCurrentUserAndAccounts,t);e(n)},updateUser:function(t){var n=Object(O.a)(I.a.addCurrentUser,{user:t});e(n)}}})(D);t.a=R},1696:function(e,t){},1698:function(e,t){},1730:function(e,t){},1731:function(e,t){},1797:function(e,t){},184:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.addMany="planet.addMany",e.createOne="planet.createOne",e.createOneError="planet.createOneError",e.requestCreateOne="planet.requestCreateOne",e.addUnits="planet.addUnits",e.addUnitsToMany="planet.addUnitsToMany",e.addPlanetsUpdatesById="planet.addPlanetsUpdatesById",e.debugSetThreatLevelsForBot="planet.debugSetThreatLevelsForBot",e.disownMany="planet.disownMany",e.unitCycleTick="planet.unitCycleTick"}(r||(r={}))},186:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.addCurrentUser="user.addCurrentUser",e.setNoCurrentUser="user.setNoCurrentUser"}(r||(r={}))},187:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.addTextToast="toasts.addTextToast",e.removeLastToast="toasts.removeLastToast",e.addToast="toasts.addToast",e.removeLastError="toasts.removeLastError",e.addError="toasts.addError"}(r||(r={}))},1891:function(e,t,n){"use strict";var r,a=n(1),o=(n.n(a),n(53)),i=n(188),s=n.n(i),c=n(159),u=n.n(c),l=n(365),p=n.n(l),d=n(811),f=n.n(d),h=n(161),y=n.n(h),g=n(220),m=n.n(g),b=n(23),v=n(122),w=n(10),O=n(22),I=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return I(t,e),t.prototype.render=function(){var e=this;return a.createElement(s.a,{onClose:this.props.onClose,open:this.props.open,maxWidth:"xs"},a.createElement(p.a,{id:"alert-dialog-title"},"Play a game!"),a.createElement(u.a,null,a.createElement(f.a,null,"Click on a room below to join a game.")),a.createElement(m.a,null,a.createElement(y.a,{variant:"contained",onClick:function(){return e.onRoomSelected()},color:"primary"},"Room s01")))},t.prototype.onRoomSelected=function(){var e=this.props,t=e.currentUser,n=e.currentAccountId,r=e.clientId;if(!t)return alert("You need to have an user to continue.");if(!t.name)return alert("You need to have a name to the user to continue.");if(!n)return alert("You need to have a selected account to continue.");if(!r)return alert("You need to have a clientId to continue.");var a=localStorage.getItem("sessionId");if(!a)return alert("You need to have a sessionId to continue.");this.props.loginRoom(r,a,n),this.props.onClose()},t}(a.Component),x=Object(o.b)(function(e){return{currentUser:w.c.ui.global.getCurrentUser(e),currentAccountId:w.c.ui.global.getCurrentAccountId(e),clientId:w.c.ui.global.getCurrentClientId(e)}},function(e){return{loginRoom:function(t,n,r){var a=Object(b.b)(v.a.requestRoomLogin,{clientId:t,sessionId:n,accountId:r}),o=Object(b.a)(O.a.requestConnectToRoom,null);e([o,a])}}})(P);t.a=x},1908:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n(1),a=(n.n(r),n(188)),o=n.n(a),i=n(159),s=n.n(i),c=n(365),u=n.n(c),l=n(811),p=n.n(l),d=n(161),f=n.n(d),h=n(220),y=n.n(h),g=n(1909),m=n.n(g),b=n(210),v=n(256),w=n(211),O=function(e){return r.createElement(o.a,{open:e.open,onClose:e.onClose,maxWidth:"xs"},r.createElement(u.a,{id:"alert-dialog-title"},"How to play?"),r.createElement(s.a,null,r.createElement(m.a,{url:"https://www.youtube.com/watch?v=HeOmYdYUgeQ",playing:!0,loop:!0,controls:!0,volume:0,muted:!0,width:"100%",height:"auto"}),r.createElement(p.a,null,"Start the game by selecting a empty planet (grey planets). You can create new planets by clicking on the black background, they will cost you $",v.a,"."),r.createElement(p.a,null,"While you have your planet selected click on a close planet to start streaming units to that planet. After a while you will own that new planet and earn $",b.a,". Click on the circle near your source planet to destroy the stream. Each stream costs $",w.a,"."),r.createElement(p.a,null,"Every few seconds all planets receive new units (recharging), the more planets you have, the less units you received. Also you receive resources every few seconds. Game restarts every few minutes.")),r.createElement(y.a,null,r.createElement(f.a,{onClick:e.onClose,color:"primary"},"Got it")))}},1921:function(e,t,n){"use strict";n.d(t,"a",function(){return G});var r,a,o=n(1),i=(n.n(o),n(188)),s=n.n(i),c=n(53),u=n(159),l=n.n(u),p=n(479),d=n.n(p),f=n(220),h=n.n(f),y=n(161),g=n.n(y),m=n(365),b=n.n(m),v=n(23),w=n(186),O=n(278),I=n(10),P=n(516),x=n.n(P),j=n(40),S=n(517),C=n(111),k=n(473),E=n.n(k),_=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},T=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),B=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},A=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},M=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},D=Object(j.b)(x.a)(a||(a=_(["\n  margin-left: 10px;\n"],["\n  margin-left: 10px;\n"]))),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={name:"",loading:!1,error:null},t.onInputChange=function(e){return function(n){var r;t.setState(B({},t.state,((r={})[e]=n.target.value,r)))}},t.onSubmit=function(e){return A(t,void 0,void 0,function(){return M(this,function(t){switch(t.label){case 0:return e.preventDefault(),[4,this.saveName()];case 1:return t.sent(),[2]}})})},t.saveName=function(){return A(t,void 0,void 0,function(){var e,t,n,r,a;return M(this,function(o){switch(o.label){case 0:if(!this.state.name)return[2,alert("Please add a name")];o.label=1;case 1:return o.trys.push([1,6,,7]),this.setState({loading:!0}),e=this.props.currentUser,t=void 0,e?(t=localStorage.getItem("sessionId"),[3,4]):[3,2];case 2:return[4,Object(O.a)("createUser",{userAgent:navigator.userAgent})];case 3:if(!(n=o.sent()).ok)return this.setState({loading:!1}),[2,alert("Error creating user: "+n.err)];this.props.addCurrentUserAndAccounts(n.payload),t=n.payload.session.id,localStorage.setItem("sessionId",t),o.label=4;case 4:return[4,Object(O.a)("updateUser",{sessionId:t,updateUser:{name:this.state.name}})];case 5:return r=o.sent(),this.setState({loading:!1}),r.ok?(this.props.updateUser(r.payload.user),[3,7]):[2,alert("Error updating user: "+r.reason)];case 6:return a=o.sent(),this.setState({loading:!1,error:"Error creating user, please try again. Server might be down. Error: "+a}),console.error(a),[3,7];case 7:return[2]}})})},t}return T(t,e),t.prototype.render=function(){var e=this.state.loading;return o.createElement(s.a,{onClose:this.props.onClose,open:this.props.open,maxWidth:"xs"},o.createElement("form",{onSubmit:this.onSubmit},o.createElement(b.a,null,e?"Adding your name...":"Add your full name"),o.createElement(l.a,null,o.createElement(d.a,{autoFocus:!0,margin:"dense",id:"name",label:"Full name",type:"text",fullWidth:!0,onChange:this.onInputChange("name"),value:this.state.name,tabIndex:0,disabled:e}),o.createElement(E.a,{variant:"body1",color:"error",align:"left"},this.state.error)),o.createElement(h.a,null,o.createElement(g.a,{onClick:this.props.onClose,color:"primary",disabled:e},"Cancel"),o.createElement(g.a,{type:"submit",variant:"contained",onClick:this.saveName,color:"primary",disabled:e},e?"Saving name...":"Play as guest",e&&o.createElement(D,{size:15}))),e&&o.createElement(S.a,{variant:"info"},"Please wait until we save your name. It might take a few seconds.")))},t}(o.Component),G=Object(c.b)(function(e){return{currentUser:I.c.ui.global.getCurrentUser(e)}},function(e){return{addCurrentUserAndAccounts:function(t){var n=Object(v.a)(C.a.addCurrentUserAndAccounts,t);e(n)},updateUser:function(t){var n=Object(v.a)(w.a.addCurrentUser,{user:t});e(n)}}})(R)},1922:function(e,t,n){"use strict";var r,a,o,i,s,c,u=n(1),l=(n.n(u),n(188)),p=n.n(l),d=n(53),f=n(736),h=n.n(f),y=n(737),g=n.n(y),m=n(10),b=n(1923),v=n.n(b),w=n(1925),O=n.n(w),I=n(1927),P=n.n(I),x=n(1929),j=n.n(x),S=n(1931),C=n.n(S),k=n(40),E=n(1933),_=n(820),T=n.n(_),B=n(159),A=n.n(B),M=n(220),D=n.n(M),R=n(161),G=n.n(R),L=n(521),U=n(123),F=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},z=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),q=Object(k.b)("div")(a||(a=F(["\n  overflow-x: auto;\n"],["\n  overflow-x: auto;\n"]))),N=Object(k.b)("div")(o||(o=F(["\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  display: inline-block;\n  margin-right: 10px;\n"],["\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  display: inline-block;\n  margin-right: 10px;\n"]))),W=Object(k.b)(N)(i||(i=F(["\n  background-color: green;\n"],["\n  background-color: green;\n"]))),V=Object(k.b)(N)(s||(s=F(["\n  background-color: red;\n"],["\n  background-color: red;\n"]))),Y=Object(k.b)("div")(c||(c=F(["\n  display: inline-block;\n  word-wrap: break-word;\n"],["\n  display: inline-block;\n  word-wrap: break-word;\n"]))),H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedTabId:"players"},t.onTabChange=function(e,n){t.setState({selectedTabId:n})},t}return z(t,e),t.prototype.render=function(){return u.createElement(u.Fragment,null,u.createElement(h.a,{value:this.state.selectedTabId,onChange:this.onTabChange,indicatorColor:"primary",textColor:"primary",fullWidth:!0},u.createElement(g.a,{label:"Players",value:"players"})),"players"===this.state.selectedTabId&&this.renderPlayersTab())},t.prototype.renderPlayersTab=function(){return u.createElement(q,null,u.createElement(v.a,null,u.createElement(j.a,null,u.createElement(C.a,null,u.createElement(P.a,null,"Name"),u.createElement(P.a,{numeric:!0},"Percent dominated"),u.createElement(P.a,{numeric:!0},"Planets owned"),u.createElement(P.a,{numeric:!0},"Money + Deposit"),u.createElement(P.a,{numeric:!0},"Deposit"),u.createElement(P.a,{numeric:!0},"Resources"))),u.createElement(O.a,null,this.props.scoreBoardData.map(function(e){return u.createElement(C.a,{key:e.playerId},u.createElement(P.a,{component:"th",scope:"row"},e.online?u.createElement(W,null):u.createElement(V,null),u.createElement(Y,null,e.name?e.name.slice(0,20):"Unnamed")),u.createElement(P.a,{numeric:!0},Object(E.a)(e.percentDominated)),u.createElement(P.a,{numeric:!0},e.planetsOwned),u.createElement(P.a,{numeric:!0},Object(L.a)(e.availableMoneyAmountInCents+e.depositAmountInCents,!0)),u.createElement(P.a,{numeric:!0},Object(L.a)(e.depositAmountInCents,!0)),u.createElement(P.a,{numeric:!0},Object(U.a)(e.resources)))}))))},t}(u.Component),X=Object(d.b)(function(e){return{scoreBoardData:m.c.advanced.getScoreBoardData(e)}},function(e){return{}})(H);t.a=T()({breakpoint:"xs"})(function(e){return u.createElement(p.a,{onClose:e.onClose,open:e.open,fullScreen:!!e.fullScreen},u.createElement(A.a,null,u.createElement(X,null)),u.createElement(D.a,null,u.createElement(G.a,{variant:"contained",onClick:e.onClose,color:"primary"},"Close")))})},1933:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return Math.round(1e4*e)/100+"%"}},1936:function(e,t,n){"use strict";var r,a,o,i,s,c,u,l,p,d,f=n(1),h=(n.n(f),n(188)),y=n.n(h),g=n(53),m=n(10),b=n(71),v=n(40),w=n(159),O=n.n(w),I=n(820),P=n.n(I),x=n(1937),j=n.n(x),S=n(810),C=n.n(S),k=n(518),E=n.n(k),_=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},T=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),B=(Object(v.b)("div")(a||(a=_(["\n  overflow-x: auto;\n"],["\n  overflow-x: auto;\n"]))),Object(v.b)("div")(o||(o=_(["\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  display: inline-block;\n  margin-right: 10px;\n"],["\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  display: inline-block;\n  margin-right: 10px;\n"])))),A=(Object(v.b)(B)(i||(i=_(["\n  background-color: green;\n"],["\n  background-color: green;\n"]))),Object(v.b)(B)(s||(s=_(["\n  background-color: red;\n"],["\n  background-color: red;\n"]))),Object(v.b)("div")(c||(c=_(["\n  display: inline-block;\n"],["\n  display: inline-block;\n"]))),Object(v.b)("section")(u||(u=_(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"])))),M=Object(v.b)("span")(l||(l=_(["    \n  font-size: 28px;\n  font-weight: bold;\n  padding: 10px;\n"],["    \n  font-size: 28px;\n  font-weight: bold;\n  padding: 10px;\n"]))),D=Object(v.b)("p")(p||(p=_(["    \n  font-size: 12px;\n  padding: 5px;\n"],["    \n  font-size: 12px;\n  padding: 5px;\n"]))),R=Object(v.b)("img")(d||(d=_(["\n  width: 100%;\n  max-width: 256px;\n  padding-top: 10px;\n"],["\n  width: 100%;\n  max-width: 256px;\n  padding-top: 10px;\n"]))),G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.scoreBoardData,n=e.fullScreen,r=t[0],a=t.slice(1);return f.createElement(y.a,{open:this.props.isOpen,fullScreen:!!n},f.createElement(C.a,null,"Match end score board"),f.createElement(O.a,null,f.createElement(E.a,null,"Below are the winners of the previous match."),f.createElement(E.a,null,"A new match will start soon."),f.createElement(A,null,f.createElement(R,{src:j.a}),f.createElement(M,null,"#1. ",r?r.name:"Nobody",": ",r?r.planetsOwned:0," planets of ",r?r.totalPlanets:0)),a.map(function(e,t){return f.createElement(D,{key:e.playerId},"#",t+2,". ",e.name,": ",e.planetsOwned," planets of ",e.totalPlanets)})))},t}(f.Component),L=[],U=Object(g.b)(function(e){var t=m.c.system.getGameStatus(e)===b.c.ended;return{scoreBoardData:t?m.c.advanced.getScoreBoardData(e):L,isOpen:t}},function(e){return{}})(G);t.a=P()({breakpoint:"xs"})(U)},1937:function(e,t,n){e.exports=n.p+"static/media/cup.37328c78.png"},1938:function(e,t,n){e.exports=n.p+"static/media/Planets_logoFull.8d89233b.png"},1939:function(e,t,n){e.exports=n.p+"static/media/Planets_logoSquareWhite_64.f2c338fd.png"},1955:function(e,t,n){"use strict";var r,a,o=n(1),i=(n.n(o),n(53)),s=n(40),c=n(23),u=n(10),l=n(1956),p=n.n(l),d=n(1957),f=n.n(d),h=n(1958),y=n.n(h),g=n(211),m=n(256),b=n(71),v=n(268),w=n(1959),O=n.n(w),I=n(1960),P=n(111),x=n(123),j=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},S=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),C=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},k=Object(s.b)("section")(A||(A=j(["\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  pointer-events: none;\n"],["\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  pointer-events: none;\n"]))),E=Object(s.b)("div")(M||(M=j(["\n  display: inline-block;\n  border: 1px solid white;\n"],["\n  display: inline-block;\n  border: 1px solid white;\n"]))),_=Object(s.b)("button")(D||(D=j(["\n  background: ",";\n  width: 62px;\n  height: 62px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: 1px solid white;\n  outline: none;\n  cursor: ",";\n  transition: 0.3s background-color;\n  pointer-events: all;\n  position: relative;\n  \n  &:hover {\n    ","\n  }\n"],["\n  background: ",";\n  width: 62px;\n  height: 62px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: 1px solid white;\n  outline: none;\n  cursor: ",";\n  transition: 0.3s background-color;\n  pointer-events: all;\n  position: relative;\n  \n  &:hover {\n    ","\n  }\n"])),function(e){return e.toggled?"#389d58":"#181a27"},function(e){return e.toggled&&e.buttonType===a.radio?"not-allowed":"pointer"},function(e){return e.toggled&&e.buttonType===a.radio?"background: #389d58;":e.toggled&&e.buttonType===a.checkbox?"background: #71b47f;":"background: #484e76;"}),T=Object(s.b)("span")(R||(R=j(["\n  font-size: 12px;\n  color: white;\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  user-select: none;\n"],["\n  font-size: 12px;\n  color: white;\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  user-select: none;\n"]))),B=Object(s.b)("span")(G||(G=j(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 12px;\n  font-weight: bold;\n  background: #ffffff;\n  color: #181a27;\n  border-radius: 0 0 0 3px;\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 12px;\n  font-weight: bold;\n  background: #ffffff;\n  color: #181a27;\n  border-radius: 0 0 0 3px;\n"])));!function(e){e.radio="radio",e.checkbox="checkbox",e.button="button"}(a||(a={}));var A,M,D,R,G,L,U=function(e){var t=e.svg,n=e.svgComponent,r=e.title,a=e.tooltip,i=e.price,s=e.toggled,c=e.onClick,u=e.buttonType;return o.createElement(_,{toggled:s,onClick:c,title:a,buttonType:u},t&&o.createElement(I.a,null,t),n?o.createElement("div",null,n):null,o.createElement(T,null,r),void 0!==i&&o.createElement(B,null,i))},F=Object(s.a)(L||(L=j(["\n  width: 32px;\n  height: 32px;\n  fill: white;\n"],["\n  width: 32px;\n  height: 32px;\n  fill: white;\n"]))),z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.render=function(){var e=this.props,t=e.selectedPlanet,n=e.attackMode,r=e.setAttackMode,i=e.setCreatePlanetMode,s=e.createPlanetMode,c=e.requestFocusOnMyPlanets,u=e.openUpgradesPanel,l=[t?{key:"stream",svg:p.a,title:"Stream",tooltip:"Creates a stream of ships that continuously sends units to another planet. To delete, press the big circle near the ship stream.",price:""+Object(x.a)(g.a),toggled:n===b.a.shipStream,buttonType:a.checkbox,onClick:function(){n===b.a.shipStream?r(b.a.ship):r(b.a.shipStream)}}:null,t?{key:"upgrades",svg:y.a,title:"Upgrades",tooltip:"Click here to open the upgrade panel for this planet",toggled:!1,buttonType:a.button,onClick:function(){return u(t.id)}}:null,t?null:{key:"planet",svg:f.a,title:"+ Planet",tooltip:"Click here, then click in the black area to create a planet.",price:""+Object(x.a)(m.a),toggled:s,buttonType:a.checkbox,onClick:function(){return i(!s)}},{key:"centerOnMyPlanets",svgComponent:o.createElement(O.a,{className:F}),title:"Center",tooltip:"Click here to center on your planets.",toggled:!1,buttonType:a.radio,onClick:function(){return c()}}];return o.createElement(k,null,o.createElement(E,null,l.map(function(e){return null===e?null:o.createElement(U,C({},e))})))},t}(o.PureComponent),q=Object(i.b)(function(e){var t=u.c.ui.planetMap.getUI(e).selectedPlanetId;return{selectedPlanet:t?u.c.planets.getPlanetById(e,t):void 0,attackMode:u.c.ui.planetMap.getUI(e).attackMode,createPlanetMode:u.c.ui.planetMap.getUI(e).createPlanetMode}},function(e){return{setAttackMode:function(t){var n=Object(c.a)(v.a.setAttackMode,{attackMode:t});e(n)},setCreatePlanetMode:function(t){var n=Object(c.a)(v.a.setCreatePlanetMode,{createPlanetMode:t});e(n)},requestFocusOnMyPlanets:function(){var t=Object(c.a)(v.a.requestFocusOnMyPlanets,null);e(t)},openUpgradesPanel:function(t){var n=Object(c.a)(P.a.setVisibilityForUpgradesPanel,{planetId:t,isVisible:!0});e(n)}}})(z);t.a=q},1956:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" style="height: 32px; width: 32px;"><style type="text/css"> .st0{fill:#FFFFFF;} </style><g style="touch-action: none;"><circle id="XMLID_3_" class="st0" cx="4.6" cy="4.7" r="4.5"></circle><circle id="XMLID_2_" class="st0" cx="16" cy="16" r="4.5"></circle><circle id="XMLID_4_" class="st0" cx="27.5" cy="27.5" r="4.5"></circle></g></svg>'},1957:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" style="height: 32px; width: 32px;"><style type="text/css"> .st0{fill:#FFFFFF;} </style><g style="touch-action: none;"><path id="XMLID_35_" class="st0" d="M15.9,0.1C7.1,0.1,0,7.3,0,16.1S7.1,32,15.9,32s15.9-7.1,15.9-15.9S24.7,0.1,15.9,0.1z M28.5,21.3c-1.6,3.7-4.8,6.6-8.7,7.8c0.1-0.1,0.1-0.3,0.2-0.4c0.3-0.7,0.7-1.2,1.3-1.6c0.5-0.4,1.3-0.9,1.2-1.7 c-0.1-0.5-0.7-0.7-1.1-0.9c-0.7-0.2-1.5-0.3-2.2-0.3c-0.6,0-1.3,0-1.9-0.2c-0.9-0.2-1.1-1-1.2-1.9c-0.1-0.8,0-1.5-0.4-2.2 c-0.5-0.9-1.6-1.1-2.5-1.2c-0.8-0.1-1.5,0-2.3-0.2c-0.7-0.1-1.4-0.4-2.2-0.4c-1,0-1.4,0.7-1.8,1.5c-0.2,0.4-1.5,3.3-2.3,3.9 c-1.3-1.9-2.1-4.2-2.3-6.7c0.1,0,0.2-0.1,0.3-0.1c0.4-0.2,0.7-0.6,1.2-0.7c0.4-0.1,1,0,1.5,0c0.4,0,0.9,0.1,1.4,0 C7.5,16,8,15.4,8.1,14.6c0.1-0.5,0-1,0-1.6c0-0.8,0.6-1.1,1.3-1.2c1.4-0.1,4.6,0.2,4.7-1.9c0-0.9-1.1-1.4-1.8-1.6 C11,7.9,9.5,8,8.1,7.7C7.4,7.5,6.7,7.1,6.2,6.5c2.5-2.5,5.9-4.1,9.7-4.1c0.8,0,1.6,0.1,2.4,0.2c-0.4,0.1-0.8,0.2-1.2,0.3 c-2,0.8-2.1,3.1-1.2,4.8c0.5,1.1,1.4,2,2.3,2.7c0.9,0.7,1.9,1.1,2.9,1.7c1.3,0.7,1.2,2.6,1.5,3.9c0.3,1.1,1,2,2,2.3 c0.6,0.2,1.4,0,2,0.5c0.5,0.4,0.6,1.2,0.9,1.7C27.8,21.1,28.1,21.3,28.5,21.3z"></path></g></svg>'},1958:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-289 381 32 32" style="height: 32px; width: 32px;"><style type="text/css"> .st0{fill:#FFFFFF;} </style><g style="touch-action: none;"><path class="st0" d="M-263.6,413v-16.8h6.6l-16-15.2l-16,15.2h6.6V413h3v-20.6c0-0.2,0-0.4,0-0.6c0-3.3,3-6,6.6-6 c3.5,0,6.4,2.5,6.6,5.6h0V413L-263.6,413z M-273.1,412.4l2.1-15.9l1.3,8.8c0.3-4.3,1.9-9.2,1.9-13.5c0-2.5-2.3-4.6-5.1-4.6 c-2.8,0-5.1,2.1-5.1,4.6c0,0.1,0,0.3,0,0.4c0.5,3.4,1,6.9,1.5,10.3l1-6.7c0,0,0.1,0,0.1,0.1L-273.1,412.4z M-272.9,395.2 c-2,0-3.7-1.5-3.7-3.3c0-1.8,1.6-3.3,3.7-3.3c2,0,3.7,1.5,3.7,3.3C-269.2,393.7-270.9,395.2-272.9,395.2L-272.9,395.2z"></path></g></svg>'},1960:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),a=(n.n(r),function(e){var t=e.children;return r.createElement("span",{dangerouslySetInnerHTML:{__html:t}})})},1961:function(e,t,n){"use strict";var r,a,o,i,s,c,u,l,p,d=n(1),f=(n.n(d),n(53)),h=n(40),y=n(10),g=n(1962),m=(n.n(g),n(255)),b=(n.n(m),n(1970)),v=n.n(b),w=n(1971),O=n.n(w),I=n(1972),P=n.n(I),x=n(1973),j=n(521),S=n(123),C=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},k=m.throttle(y.c.advanced.getScoreBoardData,1e3),E=m.memoize(function(e){return g(e).darken(0).hex()}),_=Object(h.b)("div")(r||(r=C(["\n  width: 300px;\n  height: 200px;\n  overflow: auto;\n  background: #181a27a8;\n  background: linear-gradient(to top, rgba(9,19,38,0) 0%,rgba(9,19,38,1) 100%);\n  border-left: 0.5px solid #ffffff;\n"],["\n  width: 300px;\n  height: 200px;\n  overflow: auto;\n  background: #181a27a8;\n  background: linear-gradient(to top, rgba(9,19,38,0) 0%,rgba(9,19,38,1) 100%);\n  border-left: 0.5px solid #ffffff;\n"]))),T=Object(h.b)("table")(a||(a=C(["\n  width: 100%;\n  padding: 5px;\n  font-size: 12px;\n"],["\n  width: 100%;\n  padding: 5px;\n  font-size: 12px;\n"]))),B=Object(h.b)("tr")(o||(o=C(["\n  color: ",";\n  height: 16px;\n"],["\n  color: ",";\n  height: 16px;\n"])),function(e){return e.color}),A=Object(h.b)("th")(i||(i=C(["\n  text-align: left;\n  font-weight: normal;\n  white-space: nowrap;\n"],["\n  text-align: left;\n  font-weight: normal;\n  white-space: nowrap;\n"]))),M=Object(h.b)(A)(s||(s=C(["\n  text-align: right;\n"],["\n  text-align: right;\n"]))),D=Object(h.b)("td")(c||(c=C(["\n  text-align: left;\n  word-wrap: break-word;\n  height: 16px;\n  vertical-align: middle;\n"],["\n  text-align: left;\n  word-wrap: break-word;\n  height: 16px;\n  vertical-align: middle;\n"]))),R=Object(h.b)("td")(u||(u=C(["\n  text-align: right;\n  height: 16px;\n  vertical-align: middle;\n"],["\n  text-align: right;\n  height: 16px;\n  vertical-align: middle;\n"]))),G=Object(h.b)("span")(l||(l=C(["\n  font-size: 67%;\n"],["\n  font-size: 67%;\n"]))),L=Object(h.a)(p||(p=C(["\n  height: 14px;\n  width: 14px;\n  vertical-align: middle;\n"],["\n  height: 14px;\n  width: 14px;\n  vertical-align: middle;\n"]))),U=function(e,t){return e+t.depositAmountInCents},F=function(e,t){return e+t.availableMoneyAmountInCents+t.depositAmountInCents},z=function(e,t){return e+t.planetsOwned},q=Object(f.b)(function(e){return{scoreBoardData:k(e)}},function(e){return{}})(function(e){var t=e.scoreBoardData,n=t.length,r=t.filter(function(e){return e.online}).length,a=t.reduce(F,0),o=t.reduce(U,0),i=d.createElement("span",null,d.createElement("span",{title:"Total money including deposits"},Object(j.a)(a,!0)),0!==o?d.createElement(G,{title:"In game deposits"},"-",Object(j.a)(o,!1)):""),s=d.createElement("span",{title:"Online players/total players"},"Online ",r,"/",n),c=t.reduce(z,0);return d.createElement(_,null,d.createElement(T,null,d.createElement("tbody",null,d.createElement(B,{color:"#7d7d7d"},d.createElement(A,null,"Players (",i,", ",s,")"),d.createElement(M,null,"Planets (",d.createElement("span",{title:"Planets owned"},c),")")),t.map(function(e,t){var n=e.color||"white",r=d.createElement(x.a,{countryCode:e.countryCode||"?"}),a=e.online?d.createElement("span",{title:"Online"},d.createElement(v.a,{className:L})):d.createElement("span",{title:"Offline"},d.createElement(P.a,{className:L})),o=e.hasEmail?d.createElement("span",{title:"User with email"},d.createElement(O.a,{className:L})):null,i=d.createElement("span",null,d.createElement("span",{title:"Total money including deposits"},Object(j.a)(e.availableMoneyAmountInCents+e.depositAmountInCents,!0)),0!==e.depositAmountInCents?d.createElement(G,{title:"In game deposits"},"-",Object(j.a)(e.depositAmountInCents,!1)):""),s=d.createElement("span",{title:"Rank in game"},"#",(t+1+"").padStart(2,"0")),c=d.createElement("span",{title:"Name"},e.name),u=d.createElement("span",{title:"Resources"},Object(S.a)(e.resources));return d.createElement(B,{key:e.playerId,color:E(n)},d.createElement(D,null,s," ",a," ",r," ",c," ",o," (",i,", ",u,")"),d.createElement(R,null,e.planetsOwned,"/",e.totalPlanets))}))))});t.a=q},1973:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r,a=n(1),o=(n.n(a),n(40)),i=n(1974),s=n.n(i),c=n(1975),u=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},l=Object(o.b)("span")(r||(r=u(['\n  display: inline-block;\n  height: 16px;\n  width: 16px;\n  vertical-align: text-top;\n  line-height: 16px;\n  background: url("','") no-repeat;\n  background-position-y: ',"px;\n"],['\n  display: inline-block;\n  height: 16px;\n  width: 16px;\n  vertical-align: text-top;\n  line-height: 16px;\n  background: url("','") no-repeat;\n  background-position-y: ',"px;\n"])),s.a,function(e){return e.y}),p=function(e){var t=e.countryCode,n=c.a[t.toLowerCase()]||0;return a.createElement(l,{title:t,y:-n})}},1974:function(e,t,n){e.exports=n.p+"static/media/flags16.109d8321.png"},1975:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={"?":0,ad:352,ae:368,af:384,ag:400,ai:416,al:432,am:448,ao:464,aq:480,ar:496,as:512,at:528,au:544,aw:560,ax:576,az:592,ba:608,bb:624,bd:640,be:656,bf:672,bg:688,bh:704,bi:720,bj:736,bm:752,bn:768,bo:784,br:800,bs:816,bt:832,bw:848,by:864,bz:880,ca:896,cg:912,cf:928,cd:944,ch:960,ci:976,ck:992,cl:1008,cm:1024,cn:1040,co:1056,cr:1072,cu:1088,cv:1104,cy:1120,cz:1136,de:1152,dj:1168,dk:1184,dm:1200,do:1216,dz:1232,ec:1248,ee:1264,eg:1280,eh:1296,er:1312,es:1328,et:1344,fi:1360,fj:1376,fm:1392,fo:1408,fr:1424,ga:1440,gb:1456,gd:1472,ge:1488,gg:1504,gh:1520,gi:1536,gl:1552,gm:1568,gn:1584,gp:1600,gq:1616,gr:1632,gt:1648,gu:1664,gw:1680,gy:1696,hk:1712,hn:1728,hr:1744,ht:1760,hu:1776,id:1792,mc:1792,ie:1808,il:1824,im:1840,in:1856,iq:1872,ir:1888,is:1904,it:1920,je:1936,jm:1952,jo:1968,jp:1984,ke:2e3,kg:2016,kh:2032,ki:2048,km:2064,kn:2080,kp:2096,kr:2112,kw:2128,ky:2144,kz:2160,la:2176,lb:2192,lc:2208,li:2224,lk:2240,lr:2256,ls:2272,lt:2288,lu:2304,lv:2320,ly:2336,ma:2352,md:2368,me:2384,mg:2400,mh:2416,mk:2432,ml:2448,mm:2464,mn:2480,mo:2496,mq:2512,mr:2528,ms:2544,mt:2560,mu:2576,mv:2592,mw:2608,mx:2624,my:2640,mz:2656,na:2672,nc:2688,ne:2704,ng:2720,ni:2736,nl:2752,no:2768,np:2784,nr:2800,nz:2816,om:2832,pa:2848,pe:2864,pf:2880,pg:2896,ph:2912,pk:2928,pl:2944,pr:2960,ps:2976,pt:2992,pw:3008,py:3024,qa:3040,re:3056,ro:3072,rs:3088,ru:3104,rw:3120,sa:3136,sb:3152,sc:3168,sd:3184,se:3200,sg:3216,si:3232,sk:3248,sl:3264,sm:3280,sn:3296,so:3312,sr:3328,st:3344,sv:3360,sy:3376,sz:3392,tc:3408,td:3424,tg:3440,th:3456,tj:3472,tl:3488,tm:3504,tn:3520,to:3536,tr:3552,tt:3568,tv:3584,tw:3600,tz:3616,ua:3632,ug:3648,us:3664,uy:3680,uz:3696,va:3712,vc:3728,ve:3744,vg:3760,vi:3776,vn:3792,vu:3808,ws:3824,ye:3840,za:3856,zm:3872,zw:3888,sx:3904,cw:3920,ss:3936,nu:3952}},1976:function(e,t,n){"use strict";var r,a,o,i,s,c=n(1),u=(n.n(c),n(53)),l=n(10),p=n(23),d=n(40),f=n(702),h=n(158),y=n.n(h),g=n(1977),m=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},b=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},w=Object(d.b)("section")(a||(a=m(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: #09132685;\n  background: linear-gradient(to bottom, rgba(9,19,38,0) 0%,rgba(9,19,38,1) 100%);\n  border-left: 0.5px solid #ffffff;\n"],["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: #09132685;\n  background: linear-gradient(to bottom, rgba(9,19,38,0) 0%,rgba(9,19,38,1) 100%);\n  border-left: 0.5px solid #ffffff;\n"]))),O=Object(d.b)(y.a)(o||(o=m(["\n  text-align: left;\n  word-wrap: break-word;\n"],["\n  text-align: left;\n  word-wrap: break-word;\n"]))),I=Object(d.b)("input")(i||(i=m(["\n  background: transparent;\n  border: none;\n  border-bottom: 1px solid white;\n  color: white;\n  outline-width: 0;\n  width: 100%;\n  padding: 5px;\n  box-sizing: border-box;\n  \n  &::placeholder, &:-ms-input-placeholder, &::-ms-input-placeholder {\n    color: #ffffffb0;\n  }\n"],["\n  background: transparent;\n  border: none;\n  border-bottom: 1px solid white;\n  color: white;\n  outline-width: 0;\n  width: 100%;\n  padding: 5px;\n  box-sizing: border-box;\n  \n  &::placeholder, &:-ms-input-placeholder, &::-ms-input-placeholder {\n    color: #ffffffb0;\n  }\n"]))),P=Object(d.b)("div")(s||(s=m(["\n  overflow-x: auto;\n  overflow-y: auto;\n  flex-grow: 1;\n  padding: 5px;\n  margin-bottom: 0;\n"],["\n  overflow-x: auto;\n  overflow-y: auto;\n  flex-grow: 1;\n  padding: 5px;\n  margin-bottom: 0;\n"]))),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentMessageText:""},t.onMessageList=function(e){t.messageListElement=e},t.onKeyPress=function(e){"Enter"===e.key&&(t.props.sendMessage(t.state.currentMessageText),t.setState(v({},t.state,{currentMessageText:""})))},t.onInputChange=function(e){t.setState(v({},t.state,{currentMessageText:e.target.value}))},t}return b(t,e),t.prototype.render=function(){return c.createElement(w,null,c.createElement(P,{innerRef:this.onMessageList},this.props.messages.reduce(function(e,t){return e.push(c.createElement(O,{key:t.id,variant:"body1",style:{color:t.color},title:t.date.toString()},c.createElement("strong",null,t.ownerName),": ",t.text)),e},[])),c.createElement(I,{id:"name",type:"text",onChange:this.onInputChange,value:this.state.currentMessageText,tabIndex:0,autoComplete:"off",onKeyPress:this.onKeyPress,placeholder:"Type your message here"}))},t.prototype.componentDidUpdate=function(e){var t=Object(g.a)(this.props.messages),n=Object(g.a)(e.messages),r=t&&n&&n.id!==t.id;!this.messageListElement||n&&!r||(this.messageListElement.scrollTop=this.messageListElement.scrollHeight)},t.prototype.componentDidMount=function(){this.messageListElement&&(this.messageListElement.scrollTop=this.messageListElement.scrollHeight)},t}(c.PureComponent),j=Object(u.b)(function(e){return{messages:l.c.chat.getMessages(e)}},function(e){return{sendMessage:function(t){var n=Object(p.b)(f.a.requestSendMessage,{message:t});e(n)}}})(x);t.a=j},1977:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return e[e.length-1]}},1978:function(e,t,n){"use strict";var r,a,o,i=n(1),s=(n.n(i),n(53)),c=n(23),u=n(10),l=n(71),p=n(215),d=n(368),f=n.n(d),h=n(2616),y=n.n(h),g=n(2617),m=n.n(g),b=n(2618),v=n.n(b),w=n(2619),O=n.n(w),I=n(2620),P=n.n(I),x=n(2621),j=n.n(x),S=n(2622),C=n.n(S),k=n(2623),E=n.n(k),_=n(2624),T=n.n(_),B=n(2625),A=n(2626),M=n(268),D=n(2628),R=n(2629),G=(n.n(R),n(335)),L=n(1056),U=n(100),F=n(2630),z=n(2631),q=n(2632),N=n(604),W=(n.n(N),n(211)),V=n(2633),Y=(n.n(V),n(1055)),H=n(605),X=n(22),Z=n(40),$=n(2634),K=n(2635),J=n(1059),Q=n(266),ee=n(2637),te=n(447),ne=n(2638),re=n(2639),ae=n(209),oe=n(123),ie=n(187),se=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ce=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ue=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},le=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},pe=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},de=f.a.Math.DegToRad(90),fe=Object(Z.b)("div")(a||(a=se(["\n  width: 100%;\n  height: 100%;\n"],["\n  width: 100%;\n  height: 100%;\n"]))),he=Object(p.css)(o||(o=se(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  transform-origin: top left;\n  background: black;\n"],["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  transform-origin: top left;\n  background: black;\n"]))),ye=!1,ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.planetsGO={},t.shipsGO={},t.shipStreamsGO={},t.loaded=!1,t.backgroundZonePointerDown=!1,t.FPSCounter=new $.a,t.previousSelectedPlanet=null,t.pointerDownPlanetId=null,t.sendingShipToPlanetId=null,t.onRoot=function(e){t.rootElement=e},t.onCanvas=function(e){t.canvasElement=e},t.preload=function(){var e=t.getScene();e&&(e.load.image("planetSelection",y.a),e.load.image("ship",m.a),e.load.image("shipMaskColor1",v.a),e.load.image("pipe",O.a),e.load.image("planetType1Color",P.a),e.load.image("planetType1Mask1",j.a),e.load.image("planetType2Color",C.a),e.load.image("planetType2Mask1",E.a),e.load.image("particle1",T.a))},t.create=function(){return le(t,void 0,void 0,function(){var e,t,n,r,a,o,i=this;return pe(this,function(s){switch(s.label){case 0:return this.canvasElement&&(e=this.getScene())?(this.containers={backgroundZone:e.add.container(0,0),planetSelection:e.add.container(0,0),shipStreams:e.add.container(0,0),planets:e.add.container(0,0),ships:e.add.container(0,0),planetsHealth:e.add.container(0,0),planetNames:e.add.container(0,0),dynamicBackground:e.add.container(0,0),ui:e.add.container(0,0)},[this.containers.backgroundZone,this.containers.planetSelection,this.containers.shipStreams,this.containers.dynamicBackground,this.containers.planets,this.containers.planetsHealth,this.containers.planetNames,this.containers.ships,this.containers.ui].forEach(function(e,t){e.depth=t}),ye?(e.game.config.width=15e3,e.game.config.height=15e3,this.renderTextureBackground=e.add.renderTexture(0,0,15e3,15e3),this.renderTextureBackground.setOrigin(.5,.5),this.renderTextureBackground.draw("ship",0,0),this.renderTextureBackground.draw("ship",100,100),this.renderTextureBackground.draw("ship",0,14e3),this.renderTextureBackground.draw("ship",14e3,0),this.renderTextureBackground.draw("ship",14e3,14e3),this.containers.dynamicBackground.add(this.renderTextureBackground),[4,Object(ne.a)(e)]):[3,2]):[2];case 1:s.sent(),s.label=2;case 2:return this.hammer=new R.Manager(this.canvasElement),t=new R.Pinch,n=new R.Pan({threshold:5}),this.hammer.add([t,n]),r=1,this.hammer.on("pinchstart",function(e){r=a.zoom}),this.hammer.on("pinchmove",function(e){i.backgroundZonePointerDown=!1,a.zoom=r*e.scale}),this.hammer.on("pinchend",function(e){r=1}),this.hammer.on("panmove",function(e){if(null===i.pointerDownPlanetId){i.backgroundZonePointerDown=!1;var t=i.getGameSettings().resolution;i.pan={x:e.deltaX*t,y:e.deltaY*t},i.previousPan&&(a.scrollX+=(i.previousPan.x-i.pan.x)/a.zoom,a.scrollY+=(i.previousPan.y-i.pan.y)/a.zoom),i.previousPan=ue({},i.pan)}}),this.hammer.on("panend",function(){var e=u.c.ui.global.getCurrentPlayerId(i.getAppState());if(i.pointerDownPlanetId&&i.sendingShipToPlanetId&&e){var t={units:u.c.planets.getEstimatedUnitsToSendByShipFromPlanet(i.getAppState(),i.pointerDownPlanetId),fromPlanetId:i.pointerDownPlanetId,toPlanetId:i.sendingShipToPlanetId,ownerId:e},n=u.c.ui.planetMap.getUI(i.getAppState()).attackMode;if(n===l.a.ship){var r=u.c.advanced.canCreateShip(i.getAppState(),ue({},t,{authenticatedPlayerId:e}));r.ok?i.props.requestSendShip(t):i.props.addError(r.err)}else if(n===l.a.shipStream){var a=u.c.advanced.canCreateShipStream(i.getAppState(),{fromPlanetId:t.fromPlanetId,toPlanetId:t.toPlanetId,authenticatedPlayerId:e});a.ok?i.props.requestSendShipStream(t):i.props.addError(a.err)}}i.pointerDownPlanetId=null,i.backgroundZonePointerDown=!1,i.pan=void 0,i.previousPan=void 0}),(a=e.cameras.main).centerOn(0,0),a.zoom=.05,this.canvasElement.addEventListener("wheel",function(e){e.deltaY<0?a.zoomTo(1.2*a.zoom,10):a.zoomTo(.8*a.zoom,10),e.preventDefault()}),this.planetSelectionSprite=new J.a({scene:e,key:"planetSelection"}),e.add.existing(this.planetSelectionSprite),this.containers.planetSelection.add(this.planetSelectionSprite),this.planetSelectionSprite.setPerfAlpha(0),this.backgroundZone=e.add.zone(0,0,1e5,1e5),this.containers.backgroundZone.add(this.backgroundZone),this.backgroundZone.setInteractive(),this.backgroundZone.on("pointerdown",function(e){i.backgroundZonePointerDown=!0}),this.backgroundZone.on("pointerup",function(t){i.backgroundZonePointerDown&&(i.backgroundZonePointerDown=!1,i.props.onBackgroundClick({x:e.input.activePointer.worldX,y:e.input.activePointer.worldY}))}),this.countdown=e.add.text(0,-3500,"-"),this.countdown.setFontSize(72),this.countdown.setOrigin(.5,.5),this.cometEmitter=Object(F.a)(e),this.cometEmitter.stop(),this.cometEmitter.active=!1,[4,Object(z.a)(e)];case 3:return s.sent(),[4,Object(q.a)(e)];case 4:if(s.sent(),this.shipPools=new K.a(e),this.loaded=!0,!(o=this.canvasElement)||!this.game)throw new Error("this.canvasElement should not be undefined");return this.props.onPhaserInit(function(){return o},Object(re.a)(this.game)),[2]}})})},t.updatePlanets=function(e,n){var r=t.getScene();if(r){var a=t.planetsGO,o=t.getAppState(),i=u.c.planets.getPlanetsById(o),s=u.c.players.getPlayersById(o);Object.values(i).forEach(function(e){if(e&&(!a[e.id]||a[e.id].planet!==e)){var n=null===e.ownerId?null:s[e.ownerId],o=n&&n.color,i="planetType1Color";if(e.type===l.f.generic?i=o?"planetType1_"+o:"planetType1Color":e.type===l.f.resource&&(i=o?"planetType2_"+o:"planetType2Color"),!Q.a&&"__MISSING"===r.textures.get(i).key)throw new Error("Texture is missing "+i);if(!a[e.id]){var c=new J.a({scene:r,key:i});c.setData("planetId",e.id),r.add.existing(c),c.x=e.x,c.y=e.y,c.setInteractive({cursor:"pointer"});var u=!1;c.on("pointerdown",function(){u=!0,t.pointerDownPlanetId=e.id}),c.on("pointerup",function(){u&&(u=!1,t.props.onPlanetIdClick(e.id),t.pointerDownPlanetId=null)});var p=r.add.text(e.x,e.y+e.radius+20,"");p.setColor("white"),p.setOrigin(.5,.5),p.style.fontFamily="serif;";var d=new D.a(r,e);t.containers.planets.add(c),t.containers.planetsHealth.add(d),t.containers.planetNames.add(p),a[e.id]={planetImage:c,healthBar:d,name:p,planet:void 0}}if(a[e.id].planet!==e&&(a[e.id].planet=e,a[e.id].planetImage.setTexture(i),a[e.id].planetImage.displayWidth=2*e.radius,a[e.id].planetImage.displayHeight=2*e.radius,a[e.id].healthBar.setPlanet(e),a[e.id].healthBar.update(),a[e.id].name.setText(n&&n.name?n.name:"")),ye&&Math.random()>.99){var h=e.radius+e.range,y=Object(ee.a)(h),g=Object(te.a)([1,2,3,4,5,10,20,50,100,200,500,1e3,1500])||1,m=r.textures.get("dot_"+g).get(),b=4/g,v=f.a.Display.Color.HexStringToColor(N(e.color).hex()).color,w=e.x+y.x-g/2+7500,O=e.y+y.y-g/2+7500;t.renderTextureBackground.draw(m,w,O,b,v)}}}),Object.keys(a).forEach(function(e){if(!i[e]){var n=a[e];n.planetImage.destroy(),n.healthBar.destroy(),n.name.destroy(),t.containers.planets.remove(n.planetImage),t.containers.planetsHealth.remove(n.healthBar),t.containers.planetNames.remove(n.name),delete a[e]}});var c=u.c.ui.planetMap.getUI(t.getAppState()),p=void 0!==c.selectedPlanetId?u.c.planets.getPlanetById(o,c.selectedPlanetId):null;t.planetSelectionSprite&&p!==t.previousSelectedPlanet&&(t.previousSelectedPlanet=void 0!==c.selectedPlanetId&&u.c.planets.getPlanetById(o,c.selectedPlanetId)||null,p?(t.planetSelectionSprite.displayWidth=2*p.radius+2*p.range,t.planetSelectionSprite.displayHeight=2*p.radius+2*p.range,t.planetSelectionSprite.x=p.x,t.planetSelectionSprite.y=p.y,t.planetSelectionSprite.setPerfAlpha(.4),t.planetSelectionSprite.tint=f.a.Display.Color.HexStringToColor(N(p.color).hex()).color):t.planetSelectionSprite.setPerfAlpha(0))}},t.getShipPosition=function(e){var n=t.getAppState(),r=u.c.planets.getPlanetsById(n),a=u.c.ui.global.getClientDateOffsetInMs(n),o=Object(B.a)(a),i=r[e.fromPlanetId],s=r[e.toPlanetId];return!(!i||!s)&&Object(A.a)(e,i,s,o)},t.updateShips=function(e,n){var r=t.getScene();if(r){var a=t.shipsGO,o=t.getAppState(),i=u.c.ships.getShipsById(o),s=u.c.planets.getPlanetsById(o);Object.values(i).forEach(function(e){if(e){var n=e.units;if(!a[e.id]||a[e.id].ship!==e){a[e.id]&&Object(K.c)(r,a[e.id].image);var o=s[e.fromPlanetId],i=s[e.toPlanetId];if(!o||!i)return;var c=t.shipPools.getShipByColor(e.color),u=Object(L.a)(Object(G.a)(o),Object(G.a)(i));c.setRotation(u+de),c.displayWidth=n,c.displayHeight=n,e.temporary?c.setPerfAlpha(.5):c.setPerfAlpha(1),a[e.id]={image:c,ship:e},t.containers.ships.add(c),Object(K.b)(r,c)}var l=t.getShipPosition(e);if(l&&(a[e.id].image.x=l.x,a[e.id].image.y=l.y,ye&&Math.random()>.8)){var p=Object(ee.a)(Math.pow(e.units/10,1.5)),d=Object(te.a)([1,2,3,4,5,10])||1,h=r.textures.get("dot_"+d).get(),y=3/d,g=f.a.Display.Color.HexStringToColor(N(e.color).hex()).color,m=l.x+p.x-d/2+7500,b=l.y+p.y-d/2+7500;t.renderTextureBackground.draw(h,m,b,y,g)}}}),Object.keys(a).forEach(function(e){if(!i[e]){var n=a[e];Object(K.c)(r,n.image),t.containers.ships.remove(n.image),delete a[e]}})}},t.updateShipStreams=function(e,n){var r=t.getScene();if(r){var a=t.shipStreamsGO,o=t.getAppState(),i=u.c.ships.getShipStreams(o,{includeTemporary:!0}),s=u.c.planets.getPlanetsById(o);Object.values(i).forEach(function(e){if(e){var o=s[e.fromPlanetId],i=s[e.toPlanetId];if(o&&i){if(!a[e.id]){var c=Object(Y.a)(o,i),l=c.fromPoint,p=c.toPoint,d=Object(L.a)(l,p),f=r.add.tileSprite(l.x,l.y,o.radius+64,32,"pipe");f.setInteractive({cursor:"pointer"}),f.rotation=d;f.setDepth(t.containers.shipStreams.depth),f.on("pointerdown",function(){var n=u.c.planets.getPlanetById(t.getAppState(),e.fromPlanetId),r=u.c.ui.global.getCurrentPlayerId(t.getAppState());if(!n)throw new Error("No fromPlanet found");n.ownerId===r?confirm("Are you sure you want to delete this ship stream? (It costs "+Object(oe.a)(W.a)+")")&&t.props.deleteShipStream(e.id):alert("You don't won this ship stream.")}),a[e.id]={image:f}}a[e.id].image.tilePositionX-=.05*n}}}),Object.keys(a).forEach(function(e){i[e]||(t.containers.shipStreams.remove(a[e].image),a[e].image.destroy(),delete a[e])})}},t.updateCountDown=function(e,n){var r=t.getAppState(),a=u.c.ui.global.getClientDateOffsetInMs(r),o=u.c.system.getGameEndDate(r);if(void 0!==o){var i=Object(B.a)(a),s=o.getTime()-i.getTime(),c=V.duration(s,"milliseconds"),l="Game ends in: "+c.get("minutes")+"m:"+c.get("seconds")+"s";t.countdown.setText(l)}},t.updateUI=function(e,n){if(t.game&&(t.uiSendingShipLine&&t.uiSendingShipLine.clear(),null!==t.pointerDownPlanetId)){var r=t.getAppState(),a=u.c.planets.getPlanetById(r,t.pointerDownPlanetId);if(!a)throw new Error("No fromPlanet planet");var o=t.getScene();if(o){var i=t.game.input.activePointer;t.uiSendingShipLine||(t.uiSendingShipLine=o.add.graphics({x:0,y:0}),t.containers.ui.add(t.uiSendingShipLine));var s=16777215,c={x:i.worldX,y:i.worldY},l=t.containers.planets.list.filter(function(e){return e.getBounds().contains(c.x,c.y)}),p=l[0]?l[0].getData("planetId"):null,d=u.c.ui.global.getCurrentPlayerId(r);if(d===a.ownerId){t.sendingShipToPlanetId=p,s=u.c.advanced.canCreateShip(r,{units:10,ownerId:d||"",fromPlanetId:t.pointerDownPlanetId||"",toPlanetId:p||"",authenticatedPlayerId:d}).ok?65280:16711680;var f=u.c.planets.getPlanetById(t.getAppState(),p),h=f?Object(G.a)(f):{x:i.worldX,y:i.worldY};t.uiSendingShipLine.lineStyle(10,s,1),t.uiSendingShipLine.moveTo(a.x,a.y),t.uiSendingShipLine.lineTo(h.x,h.y),t.uiSendingShipLine.closePath(),t.uiSendingShipLine.strokePath()}}}},t.update=function(e,n){if(t.loaded){if(t.FPSCounter.tick(),Math.random()>.999){var r=t.FPSCounter.getAverageFps();t.props.setAverageFps(r)}var a=u.c.ui.planetMap.getUI(t.getAppState());if(a.isGamePaused)t.game&&t.game.scene.pause("default");else{var o=t.getScene();if(o){t.getGameSettings().showComets?t.cometEmitter.active||(t.cometEmitter.start(),t.cometEmitter.active=!0):t.cometEmitter.active&&(t.cometEmitter.active=!1,t.cometEmitter.stop(),t.cometEmitter.killAll()),t.updateUI(e,n),t.updatePlanets(e,n),t.updateShips(e,n),t.updateShipStreams(e,n),t.updateCountDown(e,n);var i=o.cameras.main;if(a.focusOnPlanetId){var s=u.c.planets.getPlanetById(t.getAppState(),a.focusOnPlanetId);s&&(t.props.removePlanetFocus(),i.pan(s.x,s.y,1500),i.zoomTo(.5,1500))}}}}},t.resizeGame=function(){if(t.canvasElement&&t.game){var e=t.getScene();if(e){var n=t.getCanvasSize();t.game.resize(n.width,n.height),e.cameras.main.setSize(n.width,n.height),t.canvasElement.style.width=n.width+"px",t.canvasElement.style.height=n.height+"px",t.canvasElement.width=n.width,t.canvasElement.height=n.height}}},t.getCanvasSize=function(){if(!t.rootElement)return{width:640,height:480};var e=t.rootElement.getBoundingClientRect(),n=t.getGameSettings().resolution;return{width:e.width*n,height:e.height*n}},t}return ce(t,e),t.prototype.render=function(){return i.createElement(fe,{innerRef:this.onRoot},i.createElement("canvas",{className:he,ref:this.onCanvas}))},t.prototype.componentDidMount=function(){var e=this;window.pm=this,this.props.onMount({createGame:function(){return e.createGame()},destroyGame:function(){return e.destroyGame()}})},t.prototype.componentWillUnmount=function(){this.props.onUnmount()},t.prototype.getScene=function(){return this.game&&this.game.scene.getAt(0)},t.prototype.getAppState=function(){return this.props.store.getState()},t.prototype.getGameSettings=function(){return u.c.ui.gameSettings.getGameSettings(this.getAppState())},t.prototype.focusOnSelectedPlanet=function(){var e=this.getScene();if(e){var t=e.cameras.main,n=u.c.ui.planetMap.getUI(this.getAppState());if(n.selectedPlanetId){var r=u.c.planets.getPlanetById(this.getAppState(),n.selectedPlanetId);r&&(t.pan(r.x,r.y,1500),t.zoomTo(.5,1500))}}},t.prototype.createGame=function(){if(this.game)throw new Error("Game should be undefined");if(this.canvasElement){window.addEventListener("resize",this.resizeGame);var e=this.getCanvasSize(),t=this.getGameSettings().resolution;this.canvasElement.style.transform="scale("+1/t+")";var n={width:e.width,height:e.height,type:f.a.AUTO,canvas:this.canvasElement,backgroundColor:"#091326",resolution:1,render:{antialias:!0,autoResize:!0},scene:{preload:this.preload,create:this.create,update:this.update}};this.game=new f.a.Game(n)}},t.prototype.destroyGame=function(){if(!this.game)throw new Error("Game should not be undefined");this.game&&this.game.destroy(!1),this.game=void 0,this.props.disconnect(),window.removeEventListener("resize",this.resizeGame)},t}(i.PureComponent),me=Object(s.b)(null,function(e){return{onMount:function(t){e({type:M.a.onMount,payload:t})},onUnmount:function(){e({type:M.a.onUnmount,payload:null})},onPlanetIdClick:function(t){e({type:M.a.onPlanetIdClick,payload:{planetId:t}})},onBackgroundClick:function(t){e({type:M.a.onBackgroundClick,payload:{point:t}})},removePlanetFocus:function(){e(Object(c.a)(M.a.removePlanetFocus,null))},deleteShipStream:function(t){e(Object(c.b)(U.a.requestDeleteStream,{shipStreamId:t}))},disconnect:function(){e(Object(c.a)(X.a.disconnect,null))},setAverageFps:function(t){e(Object(c.a)(X.a.setAverageFps,{averageFps:t}))},onPhaserInit:function(t,n){e(Object(c.a)(M.a.onPhaserGameCreated,{getCanvasElement:t,getGame:n}))},requestSendShip:function(t){e(Object(c.b)(U.a.requestSendShip,{units:t.units,fromPlanetId:t.fromPlanetId,toPlanetId:t.toPlanetId,id:Object(ae.a)(),ownerId:t.ownerId}))},requestSendShipStream:function(t){e(Object(c.b)(U.a.requestCreateStream,{shipStream:{fromPlanetId:t.fromPlanetId,toPlanetId:t.toPlanetId,id:Object(ae.a)(),temporary:!0}}))},addError:function(t){e(Object(c.a)(ie.a.addError,{error:t}))}}})(ge);t.a=function(){return i.createElement(H.a,null,function(e){return i.createElement(me,{store:e})})}},202:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(42),a=function(e){return Object(r.b)(function(t){return t.type===e})}},209:function(e,t,n){"use strict";t.a=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},210:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"m",function(){return g}),n.d(t,"b",function(){return b}),n.d(t,"j",function(){return O}),n.d(t,"h",function(){return I}),n.d(t,"i",function(){return P}),n.d(t,"e",function(){return x}),n.d(t,"d",function(){return j}),n.d(t,"l",function(){return S}),n.d(t,"k",function(){return C}),n.d(t,"c",function(){return k}),n.d(t,"f",function(){return _}),n.d(t,"g",function(){return T});var r=n(255),a=(n.n(r),n(122)),o=n(22),i=n(184),s=n(256),c=n(100),u=n(211),l=n(1484),p=n(88),d=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},f=1,h={playersById:{},inProgressLoginsByAccountId:{}},y=function(e){return e.online},g=function(e,t){var n,r,g,O,I;if(void 0===e&&(e=h),t.type===o.a.cleanUpGameData){var P={};Object.values(e.playersById).filter(l.a).filter(y).map(function(e){e=d({},e,{availableMoneyAmountInCents:0,depositAmountInCents:0,resources:15,resourcesUsed:0,kills:0}),P[e.id]=e}),e=d({},e,{playersById:P})}else if(t.type===o.a.disconnect)e=d({},e,{playersById:{}});else if(t.type===a.a.removeAllPlayers)e=d({},e,{playersById:{}});else if(t.type===o.a.setGameState)e=E(e,t.payload.gameState.players);else if(t.type===a.a.addMany)t.payload.players.forEach(function(t){var n;e=d({},e,{playersById:d({},e.playersById,(n={},n[t.id]=t,n))})});else if(t.type===a.a.exitRoom){var x=t.payload.playerId;(S=e.playersById[x])&&(e=d({},e,{playersById:d({},e.playersById,(n={},n[x]=d({},S,{online:!1,lastOfflineDate:t.date}),n))}))}else if(t.type===a.a.onRoomLogin){var j=t.payload.partialPlayer;e=m(e,j.accountId);x=j.playerId;var S=d({availableMoneyAmountInCents:0,depositAmountInCents:0,kills:0,resources:0,resourcesUsed:0},e.playersById[x],{id:x,name:j.name,hasEmail:j.hasEmail,countryCode:j.countryCode,accountId:j.accountId,userId:j.userId,online:!0});e=d({},e,{playersById:d({},e.playersById,(r={},r[x]=S,r))})}else if(t.type===o.a.startGameWith){x=t.payload.playerId;(S=e.playersById[x])?e=d({},e,{playersById:d({},e.playersById,(g={},g[x]=d({},S,{resources:S.resources+S.resourcesUsed===0?t.payload.initialResources:S.resources,color:t.payload.color,availableMoneyAmountInCents:S.availableMoneyAmountInCents+t.payload.totalMoneyAmountInCents-p.g,depositAmountInCents:S.depositAmountInCents+p.g}),g))}):console.error('ERROR: Player id "'+x+'" doesn\'t exist. Action id: "'+t.id+'"')}else if(t.type===a.a.setName){x=t.payload.playerId;(S=e.playersById[x])?e=d({},e,{playersById:d({},e.playersById,(O={},O[x]=d({},S,{name:t.payload.name}),O))}):console.error('ERROR: Player id "'+x+'" doesn\'t exist. Action id: "'+t.id+'"')}else if(t.type===a.a.addResources)e=b(e,t.payload.playerId,t.payload.quantity);else if(t.type===i.a.createOne)e=b(e,t.payload.playerId,-s.a);else if(t.type===a.a.addResourcesToMany){var C=t.payload.playerToResourceMap;Object.keys(C).forEach(function(t){var n=C[t];e=b(e,t,n)})}else t.type===a.a.planetKilled?(e=b(e,t.payload.playerId,f),e=v(e,t.payload.playerId,1)):t.type===c.a.createStream?e=b(e,t.payload.createdByPlayerId,-u.a):t.type===a.a.requestRoomLoginError?e=m(e,t.payload.accountId):t.type===a.a.depositsReleased?e=w(e,t.payload.playerId,{depositAmountInCents:0}):t.type===a.a.loggingInPlayer&&(e=d({},e,{inProgressLoginsByAccountId:d({},e.inProgressLoginsByAccountId,(I={},I[t.payload.accountId]=!0,I))}));return e},m=function(e,t){var n=d({},e.inProgressLoginsByAccountId);return delete n[t],e=d({},e,{inProgressLoginsByAccountId:n})},b=function(e,t,n){var r;if(void 0===t)return e;var a=e.playersById[t];return a?d({},e,{playersById:d({},e.playersById,(r={},r[t]=d({},a,{resources:a.resources+n,resourcesUsed:a.resourcesUsed+(n<0?-n:0)}),r))}):(console.error('ERROR: Player with id "'+t+'" not found.'),e)},v=function(e,t,n){if(void 0===t)return e;var r=e.playersById[t];return r?w(e,t,{kills:r.kills+n}):(console.error('ERROR: Player with id "'+t+'" not found.'),e)},w=function(e,t,n){var r;return d({},e,{playersById:d({},e.playersById,(r={},r[t]=d({},e.playersById[t],n,{id:t}),r))})},O=function(e,t,n,r){var a=_(e,t);return a?w(e,t,{depositAmountInCents:a.depositAmountInCents+n,availableMoneyAmountInCents:a.availableMoneyAmountInCents+r}):(console.error("No playerToChange found"),e)},I=function(e){return e.playersById},P=function(e){return Object.values(e.playersById).filter(function(e){return void 0!==e})},x=function(e){return P(e).filter(function(e){return e.online})},j=function(e){return P(e).filter(function(e){return!e.online})},S=function(e,t){var n=_(e,t);return!!n&&n.online},C=function(e,t){return!!e.inProgressLoginsByAccountId[t]},k=function(e){return{playersById:e.playersById}},E=function(e,t){return d({},e,{playersById:t.playersById})},_=function(e,t){return e.playersById[t]},T=function(e,t){return r.find(e.playersById,{accountId:t})}},211:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(42),n(45),n(23),n(100),n(10),n(1483);var r=n(266),a=(this&&this.__assign||Object.assign,r.a,2)},22:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.serverStart="system.serverStart",e.batchPerformance="system.batchPerformance",e.appStart="system.appStart",e.requestConnectToRoom="system.requestConnectToRoom",e.connectedToRoom="system.connectedToRoom",e.disconnect="system.disconnect",e.setAverageFps="system.setAverageFps",e.newGame="system.newGame",e.requestNewGame="system.requestNewGame",e.cleanUpGameData="system.cleanUpGameData",e.gameEnd="system.gameEnd",e.sendClientToServerAction="system.sendClientToServerAction",e.rawClientAction="system.rawClientAction",e.setServerDateOffset="system.setServerDateOffset",e.setServerDate="system.setServerDate",e.requestStartGameWith="system.requestStartGameWith",e.startGameWithError="system.startGameWithError",e.startGameWith="system.startGameWith",e.serverBroadcastAction="system.serverBroadcastAction",e.serverToSingleClientAction="system.serverToSingleClientAction",e.setGameState="system.setGameState",e.clientSideSocketChange="system.clientSideSocketChange",e.onNewSocketClientConnected="system.onNewSocketClientConnected",e.authorizedClientAction="system.authorizedClientAction",e.clientDisconnected="system.clientDisconnected",e.startDemoGame="system.startDemoGame",e.currentPlayerStartGameWith="system.currentPlayerStartGameWith",e.setRequestEmailDialogVisibility="system.setRequestEmailDialogVisibility",e.stopGameLifeCycle="system.stopGameLifeCycle",e.setPublicSetting="system.setPublicSetting"}(r||(r={}))},23:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return u});var r=n(209),a=n(22),o=function(e,t,n){return{type:e,payload:t,roomApiSecretKey:n}},i=function(e,t,n){return{id:Object(r.a)(),type:e,isGameAction:!0,date:new Date,payload:t,roomApiSecretKey:n}},s=function(e,t,n){var o=i(e,t,n);return{id:Object(r.a)(),type:a.a.sendClientToServerAction,payload:{serverAction:o},date:new Date,isGameAction:!0,roomApiSecretKey:n}},c=function(e,t,n){var r=i(e,t,n);return{type:a.a.serverBroadcastAction,payload:{serverAction:r},roomApiSecretKey:n}},u=function(e,t,n){var r=i(t,n);return{type:a.a.serverToSingleClientAction,payload:{serverAction:r},clientId:e}}},256:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=n(10),a=n(123),o=2,i=function(e,t){var n=t.authenticatedPlayerId,i=t.planet,s=t.playerId,c=r.c.players.getPlayersById(e);if(void 0===n)return{err:"No authenticatedPlayerId",ok:!1};if(n!==s)return{err:"Authenticated player id doesn't match the player id",ok:!1};var u=c[n];if(!u)return{err:"No owner",ok:!1};if(u.resources<o)return{err:"You don't have enough resources. To create a planet you need "+Object(a.a)(o)+". Try again when you have more resources.",ok:!1};var l=r.c.advanced.canCreatePlanet(e,{planet:i});return l.ok?{ok:!0}:l}},2616:function(e,t,n){e.exports=n.p+"static/media/Planets_planetSelection.5cba8d78.png"},2617:function(e,t,n){e.exports=n.p+"static/media/Planets_ship.de61aab6.png"},2618:function(e,t,n){e.exports=n.p+"static/media/Planets_shipMaskColor1.bffa8282.png"},2619:function(e,t,n){e.exports=n.p+"static/media/Planets_pipe.f0179d68.png"},2620:function(e,t,n){e.exports=n.p+"static/media/Planets_type1Color.d904506b.png"},2621:function(e,t,n){e.exports=n.p+"static/media/Planets_type1Mask1.1d6efe9d.png"},2622:function(e,t,n){e.exports=n.p+"static/media/Planets_type2Color.881d0ae7.png"},2623:function(e,t,n){e.exports=n.p+"static/media/Planets_type2Mask1.56d298cd.png"},2624:function(e,t,n){e.exports=n.p+"static/media/Planets_particle1.b28e91a8.png"},2625:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=new Date;return new Date(+t-e)}},2626:function(e,t,n){"use strict";var r=n(446),a=n(1055);t.a=function(e,t,n,o){var i=e.temporary?0:Math.max(+o-+e.dateSent,0)/1e3,s=Object(a.a)(t,n),c=s.fromPoint,u=s.toPoint,l=Object(r.a)(c,u),p=Math.min(75*i,l)/l,d=u.x-c.x,f=u.y-c.y;return{x:c.x+p*d,y:c.y+p*f,percentDistanceTraveled:p}}},2627:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t,n){return{x:e.x+t*Math.cos(n),y:e.y+t*Math.sin(n)}}},2628:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r,a=n(368),o=n.n(a),i=n(604),s=(n.n(i),this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})),c=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u=o.a.GameObjects.Graphics,l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.isDirty=!0,r.setPlanet(n),r.graphics=new u(t),r.add(r.graphics),r}return s(t,e),t.prototype.destroy=function(){this.graphics.destroy(),e.prototype.destroy.call(this)},t.prototype.setPlanet=function(e){this.isDirty||(this.isDirty=this.planet!==e),this.planet=e},t.prototype.update=function(){if(this.isDirty&&this.planet){this.isDirty=!1,this.graphics.clear();var e=this.planet,t=e.radius,n=e.x,r=e.y,a=e.color,s=e.units,u=e.capacity,l=o.a.Display.Color.HexStringToColor(i(a).darken(1.6).hex()).color,p=o.a.Display.Color.HexStringToColor(i(a).hex()).color;this.graphics.fillStyle(l);var d=2*t*.6,f={x:-d/2,y:t+5,width:d,height:5},h=new o.a.Geom.Rectangle(f.x,f.y,f.width,f.height);this.graphics.fillRectShape(h),this.graphics.fillStyle(p);var y=c({},f,{width:s/u*f.width}),g=new o.a.Geom.Rectangle(y.x,y.y,y.width,y.height);this.graphics.fillRectShape(g),this.graphics.x=n,this.graphics.y=r}},t}(o.a.GameObjects.Container)},2630:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(368),a=n.n(r),o=a.a.GameObjects.Particles.Zones.RandomZone,i=a.a.Geom.Point,s=a.a.GameObjects.Particles.Zones.DeathZone,c=function(e){var t=new a.a.Geom.Rectangle(-5e3,-5e3,1e4,1e4),n=e.add.particles("particle1").createEmitter({name:"particle1",x:0,y:0,lifespan:3e4,gravityX:0,gravityY:0,angle:150,frequency:500,maxParticles:500,collideBottom:!1,collideLeft:!1,collideRight:!1,collideTop:!1,speed:{min:50,max:550},scaleY:{min:.2,max:1},scaleX:{min:.8,max:1},alpha:{min:.2,max:1,start:1,end:0},blendMode:a.a.BlendModes.NORMAL,rotate:150,emitZone:new o(t)}),r=new a.a.Geom.Polygon([new i(t.right+1e3,t.bottom+1e3),new i(t.left-1e3,t.bottom+1e3),new i(t.left-1e3,t.top-1e3),new i(t.left,t.top-1e3),new i(t.left,t.bottom),new i(t.left+t.width,t.bottom),new i(t.left+t.width,t.top-1e3),new i(t.right+1e3,t.top-1e3)]);n.deathZone=new s(r,!0);return n}},2631:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1057),a=n(404),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this,c=function(e){return o(s,void 0,void 0,function(){var t=this;return i(this,function(n){switch(n.label){case 0:return[4,Promise.all(a.b.map(function(n){return o(t,void 0,void 0,function(){var t,a,o;return i(this,function(i){switch(i.label){case 0:return t=e.textures.get("ship").getSourceImage(),a=e.textures.get("shipMaskColor1").getSourceImage(),[4,Object(r.a)(t,a,n)];case 1:return(o=i.sent())&&e.textures.addImage("ship_"+n,o),[2]}})})}))];case 1:return n.sent(),[2]}})})}},2632:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1057),a=n(404),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this,c=function(e){return o(s,void 0,void 0,function(){var t,n=this;return i(this,function(s){switch(s.label){case 0:return t=a.a,console.time("Generate textures"),[4,Promise.all(t.map(function(t){return o(n,void 0,void 0,function(){var n,a,o;return i(this,function(i){switch(i.label){case 0:return n=e.textures.get("planetType1Color").getSourceImage(),a=e.textures.get("planetType1Mask1").getSourceImage(),[4,Object(r.a)(n,a,t)];case 1:return(o=i.sent())&&e.textures.addImage("planetType1_"+t,o),[2]}})})}))];case 1:return s.sent(),[4,Promise.all(t.map(function(t){return o(n,void 0,void 0,function(){var n,a,o;return i(this,function(i){switch(i.label){case 0:return n=e.textures.get("planetType2Color").getSourceImage(),a=e.textures.get("planetType2Mask1").getSourceImage(),[4,Object(r.a)(n,a,t)];case 1:return(o=i.sent())&&e.textures.addImage("planetType2_"+t,o),[2]}})})}))];case 2:return s.sent(),console.timeEnd("Generate textures"),[2]}})})}},2634:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){this.frameTimes=[]}return e.prototype.tick=function(){var e=new Date;if(void 0!==this.lastTickDate&&Math.random()>.99){var t=+e-+this.lastTickDate;this.frameTimes.push(t),this.frameTimes=this.frameTimes.slice(-5)}this.lastTickDate=e},e.prototype.getAverageFps=function(){var e=0;return this.frameTimes.forEach(function(t){return e+=t}),1e3/(e/this.frameTimes.length)},e}()},2635:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});var r=n(404),a=n(2636),o=function(e,t){e.sys.displayList.remove(t),e.sys.updateList.remove(t),t.active=!1,t.visible=!1},i=function(e,t){e.sys.displayList.add(t),t.active=!0,t.visible=!0},s=function(){function e(e){var t=this;this.pools={},this.scene=e,r.b.forEach(function(e){t.pools[e]=new a.a(t.scene,e)})}return e.prototype.getShipByColor=function(e){return this.pools[e].getShip()},e}()},2636:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1059),a=function(){function e(e,t){this.pool=[],this.scene=e,this.color=t,this.createNewBatch(100)}return e.prototype.getShip=function(){var e=this.getShipImageFromPoolWithoutScene();return e||(this.createNewBatch(50),e=this.createShipImage()),e.visible=!0,e},e.prototype.createNewBatch=function(e){for(;e--;)this.createShipImage()},e.prototype.createShipImage=function(){var e=new r.a({scene:this.scene,key:"ship_"+this.color});return e.active=!1,this.pool.push(e),e},e.prototype.getShipImageFromPoolWithoutScene=function(){return this.pool.filter(function(e){return!e.active})[0]},e}()},2637:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=e*Math.sqrt(Math.random()),n=2*Math.random()*Math.PI;return{x:t*Math.cos(n),y:t*Math.sin(n)}}},2638:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(404),a=n(1058),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this,c=function(e){return o(s,void 0,Promise,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return(t=document.createElement("canvas")).width=e,t.height=e,(n=t.getContext("2d"))?(n.fillStyle="#ffffff",n.beginPath(),n.arc(e/2,e/2,e/2,0,2*Math.PI,!1),n.fill(),[4,Object(a.a)(t)]):[2];case 1:return[2,r.sent()]}})})},u=function(e){return o(s,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,function(e,t){return o(s,void 0,void 0,function(){var t=this;return i(this,function(n){switch(n.label){case 0:return r.a,[4,Promise.all([1,2,3,4,5,10,20,50,100,200,500,1e3,1500].map(function(n){return o(t,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:return[4,c(n)];case 1:return void 0===(t=r.sent())?[2]:(e.textures.addImage("dot_"+n,t),[2])}})})}))];case 1:return n.sent(),[2]}})})}(e)];case 1:return t.sent(),[2]}})})}},2639:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return function(){return e}}},2640:function(e,t,n){"use strict";n.d(t,"a",function(){return M});var r,a,o=n(1),i=(n.n(o),n(188)),s=n.n(i),c=n(53),u=n(159),l=n.n(u),p=n(479),d=n.n(p),f=n(220),h=n.n(f),y=n(161),g=n.n(y),m=n(365),b=n.n(m),v=n(23),w=n(186),O=n(278),I=n(10),P=n(516),x=n.n(P),j=n(40),S=n(517),C=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},k=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),E=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},_=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},T=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},B=Object(j.b)(x.a)(a||(a=C(["\n  margin-left: 10px;\n"],["\n  margin-left: 10px;\n"]))),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={email:"",loading:!1},t.onInputChange=function(e){return function(n){var r;t.setState(E({},t.state,((r={})[e]=n.target.value,r)))}},t.onSubmit=function(e){return _(t,void 0,void 0,function(){return T(this,function(t){switch(t.label){case 0:return e.preventDefault(),[4,this.saveEmail()];case 1:return t.sent(),[2]}})})},t.saveEmail=function(){return _(t,void 0,void 0,function(){var e,t,n,r,a;return T(this,function(o){switch(o.label){case 0:if(!this.state.email)return[2,alert("Please add a email")];o.label=1;case 1:return o.trys.push([1,6,,7]),this.setState({loading:!0}),e=this.props.currentUser,t=void 0,e?(t=localStorage.getItem("sessionId"),[3,4]):[3,2];case 2:return[4,Object(O.a)("createUser",{userAgent:navigator.userAgent})];case 3:if(!(n=o.sent()).ok)return this.setState({loading:!1}),[2,alert("Error creating user")];t=n.payload.session.id,localStorage.setItem("sessionId",t),o.label=4;case 4:return[4,Object(O.a)("updateUser",{sessionId:t,updateUser:{email:this.state.email}})];case 5:return r=o.sent(),this.setState({loading:!1}),r.ok?(this.props.addCurrentUser(r.payload.user),this.props.onClose(),[3,7]):[2,alert(r.reason)];case 6:return a=o.sent(),alert("Error creating user"),console.error(a),[3,7];case 7:return[2]}})})},t}return k(t,e),t.prototype.render=function(){var e=this.state.loading;return o.createElement(s.a,{onClose:this.props.onClose,open:this.props.open,maxWidth:"xs"},o.createElement("form",{onSubmit:this.onSubmit},o.createElement(b.a,null,e?"Adding your email...":"Add your full email"),o.createElement(l.a,null,o.createElement(d.a,{autoFocus:!0,margin:"dense",id:"email",label:"Email",type:"text",fullWidth:!0,onChange:this.onInputChange("email"),value:this.state.email,tabIndex:0,disabled:e})),o.createElement(h.a,null,o.createElement(g.a,{onClick:this.props.onClose,color:"primary",disabled:e},"Cancel"),o.createElement(g.a,{type:"submit",variant:"contained",onClick:this.saveEmail,color:"primary",disabled:e},e?"Saving email...":"Save my email",e&&o.createElement(B,{size:15}))),e&&o.createElement(S.a,{variant:"info"},"Please wait until we save your email. It might take a few seconds.")))},t}(o.Component),M=Object(c.b)(function(e){return{currentUser:I.c.ui.global.getCurrentUser(e)}},function(e){return{addCurrentUser:function(t){var n=Object(v.a)(w.a.addCurrentUser,{user:t});e(n)}}})(A)},2641:function(e,t,n){"use strict";var r,a,o=n(1),i=(n.n(o),n(53)),s=n(10),c=n(23),u=n(40),l=n(520),p=n.n(l),d=n(475),f=n.n(d),h=n(478),y=n.n(h),g=n(487),m=n.n(g),b=n(355),v=n.n(b),w=n(111),O=n(2642),I=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},P=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),x=(Object(u.b)("section")(a||(a=I(["\n"],["\n"]))),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return P(t,e),t.prototype.render=function(){var e=this,t=this.props,n=function(){return e.props.onClose(t.upgradesPanelState.planetId||"")};return o.createElement(f.a,{open:t.upgradesPanelState.isVisible,onClose:n,fullScreen:!!t.fullScreen,maxWidth:"sm",fullWidth:!0},o.createElement(y.a,null,o.createElement(O.a,{planetId:t.upgradesPanelState.planetId})),o.createElement(m.a,null,o.createElement(v.a,{onClick:n,color:"primary"},"Done")))},t}(o.PureComponent)),j=Object(i.b)(function(e){return{upgradesPanelState:s.c.ui.global.getUpgradesPanelState(e)}},function(e){return{onClose:function(t){var n=Object(c.a)(w.a.setVisibilityForUpgradesPanel,{planetId:t,isVisible:!1});e(n)}}})(x);t.a=p()({breakpoint:"xs"})(j)},2642:function(e,t,n){"use strict";var r,a,o,i,s=n(1),c=(n.n(s),n(53)),u=n(10),l=n(23),p=n(40),d=n(2643),f=n(466),h=n(158),y=n.n(h),g=n(123),m=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},b=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},w=Object(p.b)("div")(a||(a=m(["\n"],["\n"]))),O=Object(p.b)("div")(o||(o=m(["\n  height: 10px;\n  width: 100%;\n"],["\n  height: 10px;\n  width: 100%;\n"]))),I=Object(p.b)("div")(i||(i=m(["\n"],["\n"]))),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.planet,r=t.currentPlayer;if(!n||!r)return null;var a=this.props.upgradeDefinitions.filter(function(e){return e.forPlanetTypes.includes(n.type)});return s.createElement(w,null,s.createElement(y.a,{variant:"headline",color:"inherit",align:"left"},"Planet upgrades x: ",n.x," y: ",n.y),s.createElement(y.a,{variant:"subheading",color:"inherit",align:"left"},"Current resources: ",Object(g.a)(r.resources)),s.createElement(O,null),s.createElement(I,null,a.map(function(t,r){var a={upgradeDefinition:t,planet:n,onUpgrade:function(){return e.props.onUpgrade(e.props.planetId,t.id)}},o=r===e.props.upgradeDefinitions.length-1;return s.createElement(s.Fragment,{key:t.id},s.createElement(d.a,v({},a)),o?null:s.createElement(O,null))})))},t}(s.PureComponent),x=Object(c.b)(function(e,t){return{upgradeDefinitions:u.c.upgrades.getUpgradeDefinitions(e),planet:u.c.planets.getPlanetById(e,t.planetId),currentPlayer:u.c.ui.global.getCurrentPlayer(e)}},function(e){return{onUpgrade:function(t,n){var r=Object(l.b)(f.a.requestUpgrade,{planetId:t,upgradeDefinitionId:n});e(r)}}})(P);t.a=x},2643:function(e,t,n){"use strict";var r,a,o,i,s,c,u=n(1),l=(n.n(u),n(40)),p=n(71),d=n(2644),f=n(123),h=n(1060),y=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},g=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=Object(l.b)("div")(a||(a=y(["\n  display: flex;\n  box-shadow: 0 0 17px 0px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n  overflow: hidden;\n"],["\n  display: flex;\n  box-shadow: 0 0 17px 0px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n  overflow: hidden;\n"]))),b=Object(l.b)("div")(o||(o=y(["\n font-weight: bold;\n"],["\n font-weight: bold;\n"]))),v=Object(l.b)("div")(i||(i=y(["\n  opacity: 0.8;\n"],["\n  opacity: 0.8;\n"]))),w=Object(l.b)("div")(s||(s=y(["\n  width: 50%;\n  height: 100%;\n  padding: 5px;\n"],["\n  width: 50%;\n  height: 100%;\n  padding: 5px;\n"]))),O=Object(l.b)("div")(c||(c=y(["\n  width: 50%;\n  height: 100%;\n  background: #3f51b5;\n  padding: 5px;\n  color: white;\n  cursor: pointer;\n  user-select: none;\n  & * {\n    user-select: none;\n  }\n  &:hover{\n    background: #303f9f;\n  }\n"],["\n  width: 50%;\n  height: 100%;\n  background: #3f51b5;\n  padding: 5px;\n  color: white;\n  cursor: pointer;\n  user-select: none;\n  & * {\n    user-select: none;\n  }\n  &:hover{\n    background: #303f9f;\n  }\n"]))),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.render=function(){return u.createElement(m,null,u.createElement(w,null,u.createElement(b,null,this.props.upgradeDefinition.title),u.createElement(v,null,"Current: ",this.renderCurrentValue())),u.createElement(O,{onClick:this.props.onUpgrade},u.createElement(b,null,"Upgrade"),u.createElement(v,null,this.renderUpgradeInfo()),u.createElement(v,null,"Cost: ",Object(f.a)(this.props.upgradeDefinition.resourcesCost))))},t.prototype.renderCurrentValue=function(){var e=this.props.upgradeDefinition.property;return e===p.e.range?Object(d.a)(this.props.planet[e]):e===p.e.defense?Object(h.a)(this.props.planet[e],2):e===p.e.attack?Object(h.a)(this.props.planet[e],2):e===p.e.capacity?Object(h.a)(this.props.planet[e],0):e===p.e.radius?Object(h.a)(this.props.planet[e],0):e===p.e.resourcesPerCycle?Object(h.a)(this.props.planet[e],0):e===p.e.unitsPerCycle?Object(h.a)(this.props.planet[e],0):"[Error]"},t.prototype.renderUpgradeInfo=function(){var e=this.props.upgradeDefinition.property;return e===p.e.range?"Range: +"+Object(d.a)(this.props.upgradeDefinition.addend):e===p.e.defense?"Defense: +"+Object(h.a)(this.props.upgradeDefinition.addend,2):e===p.e.attack?"Attack: +"+Object(h.a)(this.props.upgradeDefinition.addend,2):e===p.e.capacity?"Capacity: +"+Object(h.a)(this.props.upgradeDefinition.addend,0):e===p.e.radius?"Radius: +"+Object(h.a)(this.props.upgradeDefinition.addend,0):e===p.e.resourcesPerCycle?"Resources per cycle: +"+Object(h.a)(this.props.upgradeDefinition.addend,0):e===p.e.unitsPerCycle?"Units per cycle: +"+Object(h.a)(this.props.upgradeDefinition.addend,0):"[Error]"},t}(u.PureComponent);t.a=I},2644:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1060),a=function(e){return Object(r.a)(e,0)}},2645:function(e,t,n){"use strict";var r,a,o=n(1),i=(n.n(o),n(53)),s=n(10),c=n(23),u=n(40),l=n(520),p=n.n(l),d=n(475),f=n.n(d),h=n(478),y=n.n(h),g=n(487),m=n.n(g),b=n(355),v=n.n(b),w=n(111),O=n(473),I=n.n(O),P=n(278),x=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},j=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),S=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},C=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},k=(Object(u.b)("section")(a||(a=x(["\n"],["\n"]))),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return j(t,e),t.prototype.render=function(){var e=this,t=this.props,n=function(){return e.props.onClose()};return o.createElement(f.a,{open:t.addMoreMoneyPanelState.isVisible,onClose:n,fullScreen:!!t.fullScreen,maxWidth:"sm",fullWidth:!0},o.createElement(y.a,null,o.createElement(I.a,{variant:"headline",color:"inherit",align:"left"},"You need more money"),o.createElement(I.a,{variant:"body1",color:"inherit",align:"left"},"Click to increase the money on your account. Is free money, you will not need to pay anything."),o.createElement("br",null),o.createElement(v.a,{onClick:function(){return S(e,void 0,void 0,function(){var e,t,n;return C(this,function(r){switch(r.label){case 0:return null===(e=localStorage.getItem("sessionId"))?[2,alert("No sessionId found, login.")]:void 0===(t=this.props.currentAccountId)?[2,alert("No currentAccountId found, login.")]:[4,Object(P.a)("increasePlayMoney",{sessionId:e,accountId:t})];case 1:return(n=r.sent()).ok?(alert("Play money increased. Play again."),window.location.reload()):console.log(n.err),[2]}})})},color:"primary",fullWidth:!0,variant:"contained"},"Increase money")),o.createElement(m.a,null,o.createElement(v.a,{onClick:n,color:"primary"},"Done")))},t}(o.PureComponent)),E=Object(i.b)(function(e){return{addMoreMoneyPanelState:s.c.ui.global.getAddMoreMoneyPanelState(e),currentAccountId:s.c.ui.global.getCurrentAccountId(e)}},function(e){return{onClose:function(){var t=Object(c.a)(w.a.setVisibilityForAddMoreMoneyPanel,{isVisible:!1});e(t)}}})(k);t.a=p()({breakpoint:"xs"})(E)},2646:function(e,t,n){"use strict";var r,a,o=n(1),i=(n.n(o),n(53)),s=n(704),c=n(40),u=n(2647),l=n(2651),p=n(2665),d=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},f=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=Object(c.b)("section")(a||(a=d(["\n  background-color: #091326;\n"],["\n  background-color: #091326;\n"]))),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){return o.createElement(h,null,o.createElement(s.a,{inGame:!1}),o.createElement(u.a,null),o.createElement(l.a,null),o.createElement(p.a,null))},t}(o.PureComponent),g=Object(i.b)(function(e){return{}},function(e){return{}})(y);t.a=g},2647:function(e,t,n){"use strict";n.d(t,"a",function(){return D});var r,a,o,i,s,c,u,l=n(522),p=n.n(l),d=n(2648),f=n.n(d),h=n(2649),y=n.n(h),g=n(1061),m=n.n(g),b=n(40),v=n(1),w=(n.n(v),n(158)),O=n.n(w),I=n(355),P=n.n(I),x=n(330),j=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},S=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},C=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},k=Object(b.b)("section")(r||(r=j(["\n  position: relative;\n  overflow: hidden;\n"],["\n  position: relative;\n  overflow: hidden;\n"]))),E=Object(b.a)(a||(a=j(["\n  height: ","px;\n  position: absolute;\n  width: 100%;\n"],["\n  height: ","px;\n  position: absolute;\n  width: 100%;\n"])),400),_=Object(b.b)("div")(o||(o=j(["\n  background: linear-gradient(to bottom, rgba(9, 19, 38, 0) 0%,rgba(9, 19, 38, 1) 99%,rgba(9, 19, 38, 1) 100%);  height: 100px;\n  width: 100%;\n  position: absolute;\n  top: ","px;\n"],["\n  background: linear-gradient(to bottom, rgba(9, 19, 38, 0) 0%,rgba(9, 19, 38, 1) 99%,rgba(9, 19, 38, 1) 100%);  height: 100px;\n  width: 100%;\n  position: absolute;\n  top: ","px;\n"])),300),T=Object(b.b)("div")(i||(i=j(["\n  margin-top: ","px;\n  background: rgba(9, 19, 38, 1);\n  position: relative;\n  color: white;\n  padding: 0 20px 20px 20px;\n"],["\n  margin-top: ","px;\n  background: rgba(9, 19, 38, 1);\n  position: relative;\n  color: white;\n  padding: 0 20px 20px 20px;\n"])),400),B=Object(b.b)("div")(s||(s=j(["\n  position: relative;\n  top: -","px;\n"],["\n  position: relative;\n  top: -","px;\n"])),50),A=Object(b.b)(P.a)(c||(c=j(["\n  color: rgba(255, 255, 255, 1);\n  background: linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%);\n  font-size: 27px;\n  width: 100%;\n  max-width: 239px;\n  margin: 0 auto;\n  text-align: center;\n  display: block;\n  \n  &:hover {\n    background: linear-gradient(45deg,#ff2957 30%,#f45c0d 90%);\n  }\n"],["\n  color: rgba(255, 255, 255, 1);\n  background: linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%);\n  font-size: 27px;\n  width: 100%;\n  max-width: 239px;\n  margin: 0 auto;\n  text-align: center;\n  display: block;\n  \n  &:hover {\n    background: linear-gradient(45deg,#ff2957 30%,#f45c0d 90%);\n  }\n"]))),M=Object(b.a)(u||(u=j(["\n  opacity: 0.8;\n  font-size: 12px;\n"],["\n  opacity: 0.8;\n  font-size: 12px;\n"]))),D=p()(function(e){return{size:e.width<500?"narrow":"wide"}})(function(e){var t="narrow"===e.size?f.a:y.a;return v.createElement(k,null,v.createElement(m.a,{className:E,image:t}),v.createElement(_,null),v.createElement(T,null,v.createElement(B,null,v.createElement(O.a,{variant:"display1",color:"inherit",align:"center"},"Conquer the universe."),v.createElement(O.a,{variant:"subheading",color:"inherit",align:"center"},"Build and attack planets. Play with your friends online.")),v.createElement(A,{component:function(e){e.innerRef;var t=C(e,["innerRef"]);return v.createElement(x.b,S({to:"/game"},t))}},"Play now!"),v.createElement(O.a,{variant:"body1",color:"inherit",align:"center",className:M},"No need to install, download or register."),v.createElement(O.a,{variant:"body1",color:"inherit",align:"center",className:M},"Free and works from any device.")))})},2648:function(e,t,n){e.exports=n.p+"static/media/backgroundNarrow.008c4692.jpg"},2649:function(e,t,n){e.exports=n.p+"static/media/backgroundWide.58587a6e.jpg"},2651:function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r,a,o,i=n(1),s=(n.n(i),n(2652)),c=n.n(s),u=n(40),l=n(2655),p=n(2660),d=n.n(p),f=n(2661),h=n.n(f),y=n(2662),g=n.n(y),m=n(2663),b=n.n(m),v=n(2664),w=n.n(v),O=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},I=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},P=Object(u.b)("section")(r||(r=O(["\n  position: relative;\n  background-color: #c3c3c3;\n"],["\n  position: relative;\n  background-color: #c3c3c3;\n"]))),x=Object(u.b)("div")(a||(a=O(["\n  width: auto;\n  padding: ","px 0;\n  margin-left: ","px;\n  margin-right: ","px;\n  \n  "," {\n    width: 1100px;\n    margin-left: auto;\n    marginRight: auto;\n  }\n"],["\n  width: auto;\n  padding: ","px 0;\n  margin-left: ","px;\n  margin-right: ","px;\n  \n  "," {\n    width: 1100px;\n    margin-left: auto;\n    marginRight: auto;\n  }\n"])),function(e){return 8*e.theme.spacing.unit},function(e){return 3*e.theme.spacing.unit},function(e){return 3*e.theme.spacing.unit},function(e){return e.theme.breakpoints.up(1100+3*e.theme.spacing.unit*2)}),j=Object(u.a)(o||(o=O(["\n  padding: 5px;\n"],["\n  padding: 5px;\n"]))),S=[{id:"gameObjective",title:"Objective of the game",overview:"Conquer as many planets as you can before the time runs out.",howTo:"Send ships to other planets to own them",imageUrl:d.a},{id:"sendShips",title:"Sending ships",overview:"Time to own more planets? To conquer new planets you need to send ships and kill the units in the destination planet. Once you do that you will own the new planet.",howTo:"To send a ship, select your planet and then click on the destination planet. A ship will be prepared and send as soon as possible.",imageUrl:h.a},{id:"shipStreams",title:"Ship streams",overview:"Tired of manually sending ships one by one? Now you can create a ship stream and it will send ships automatically. It will only send a new ship if the destination planet is not full and the origin planet has at least ~50% units.",howTo:'To create a ship stream, click on the icon labelled "Stream", select the origin planet and then click on the destination planet. To delete the ship stream, just press on the platform with arrows.',imageUrl:g.a},{id:"createPlanets",title:"Create planets",overview:"Time to expand your colony ... or just stuck? No problem, save some resources and create a new planet.",howTo:'To create a new planet, click on the icon labelled "Planet" and click on an empty space. Make sure there is enough space around, if it doesn\'t work, try again in another place, you will only be charged when a planet is created. Look for notification in the bottom right area for more info.',imageUrl:b.a},{id:"overlayRanking",title:"Overlay ranking",overview:"Want to be the best? Better keep an eye on the ranking. ",howTo:"Is located in the top right area. The number is the rank of that player, the cloud icon indicates whenever the player is online or not. Last is the number of planets owned out of total planets in the game (1/160 = 1 planet owned out of 160 total planets).",imageUrl:w.a}],C=function(){return i.createElement(P,null,i.createElement(x,null,i.createElement(c.a,{container:!0,spacing:40},S.map(function(e){return i.createElement(c.a,{item:!0,key:e.id,xs:12,sm:6,md:4,lg:3,className:j},i.createElement(l.a,I({},e)))}))))}},2655:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r,a=n(1),o=(n.n(a),n(40)),i=n(2656),s=n.n(i),c=n(2658),u=n.n(c),l=n(1061),p=n.n(l),d=n(158),f=n.n(d),h=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},y=Object(o.a)(r||(r=h(["\n  height: 140px;\n"],["\n  height: 140px;\n"]))),g=function(e){return a.createElement(s.a,null,a.createElement(p.a,{className:y,image:e.imageUrl,title:""}),a.createElement(u.a,null,a.createElement(f.a,{gutterBottom:!0,variant:"headline",component:"h2"},e.title),a.createElement(f.a,{component:"p"},e.overview),a.createElement(f.a,{component:"p"},a.createElement(f.a,{component:"span",variant:"body2"},"How to:"),e.howTo)))}},266:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=!0},2660:function(e,t,n){e.exports=n.p+"static/media/win.b5ddc4fa.png"},2661:function(e,t,n){e.exports=n.p+"static/media/sendShip.ec3ee91a.png"},2662:function(e,t,n){e.exports=n.p+"static/media/shipStream.46afdc18.png"},2663:function(e,t,n){e.exports=n.p+"static/media/createPlanet.56859f63.png"},2664:function(e,t,n){e.exports=n.p+"static/media/overlayRanking.bde7c129.png"},2665:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r,a,o,i,s=n(1),c=(n.n(s),n(40)),u=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},l=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=Object(c.b)("div")(a||(a=u(["\n  @media (max-width: 720px) {\n    display: none;\n  }\n"],["\n  @media (max-width: 720px) {\n    display: none;\n  }\n"]))),d=Object(c.b)("a")(o||(o=u(["\n  color: white;\n  padding: 5px;\n  position: fixed;\n  right: 0;\n  bottom: 119px;\n  background: black;\n  border-radius: 5px 0 0 0;\n  font-size: 16px;\n  z-index: 999;\n"],["\n  color: white;\n  padding: 5px;\n  position: fixed;\n  right: 0;\n  bottom: 119px;\n  background: black;\n  border-radius: 5px 0 0 0;\n  font-size: 16px;\n  z-index: 999;\n"]))),f=Object(c.b)("iframe")(i||(i=u(["\n  position: fixed;\n  right: -5px;\n  bottom: -2px;\n  transform: scale(0.95);\n"],["\n  position: fixed;\n  right: -5px;\n  bottom: -2px;\n  transform: scale(0.95);\n"]))),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.render=function(){return s.createElement(p,null,s.createElement(d,{href:"https://iogames.space",target:"_blank"},"More .io Games"),s.createElement(f,{id:"IOG_CP",scrolling:"no",frameBorder:"0",width:"220",height:"125",src:"http://viral.iogames.space"}))},t}(s.PureComponent)},2666:function(e,t,n){"use strict";var r,a=n(1),o=(n.n(a),n(330)),i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.componentDidMount=function(){this.trackPageView(this.props)},t.prototype.componentWillUpdate=function(e){e.location.pathname!==this.props.location.pathname&&this.trackPageView(e)},t.prototype.trackPageView=function(e){var t=e.location;window.gtag&&window.GA_TRACKING_ID&&window.gtag("config",window.GA_TRACKING_ID,{page_title:document.title,page_location:window.location.href.replace("/#",""),page_path:t.pathname})},t.prototype.render=function(){return null},t}(a.Component);t.a=Object(o.d)(s)},2667:function(e,t,n){"use strict";var r,a,o,i,s,c,u=n(1),l=(n.n(u),n(53)),p=n(23),d=n(10),f=n(2668),h=n.n(f),y=n(187),g=n(1062),m=n.n(g),b=n(215),v=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},w=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),O={info:Object(b.css)(a||(a=v(["\n    background: #404040;\n  "],["\n    background: #404040;\n  "]))),error:Object(b.css)(o||(o=v(["\n    background: #983535;\n  "],["\n    background: #983535;\n  "])))},I={root:Object(b.css)(i||(i=v(["\n   padding: 1px 5px;\n   cursor: pointer;\n  "],["\n   padding: 1px 5px;\n   cursor: pointer;\n  "]))),message:Object(b.css)(s||(s=v(["\n    padding: 0;\n   pointer-events: none;\n  "],["\n    padding: 0;\n   pointer-events: none;\n  "])))},P=Object(b.css)(c||(c=v(["\n  font-size: 12px;\n"],["\n  font-size: 12px;\n"]))),x=function(e){var t=e.toast,n=e.handleClose;return u.createElement(m.a,{onClick:n,className:O[t.variant],classes:I,"aria-describedby":"message-id",message:u.createElement("span",{id:"message-id",className:P},t?t.text:"")})},j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.handleClose=function(){t.props.removeLastToast()},t}return w(t,e),t.prototype.render=function(){var e=this.props.toast;return u.createElement(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:!!e,autoHideDuration:this.getAutoHideDuration(),onClose:this.handleClose},e&&u.createElement(x,{toast:e,handleClose:this.handleClose}))},t.prototype.getAutoHideDuration=function(){var e=this.props.toast;if(e)return e.autoClose?3e3:void 0},t}(u.Component),S=Object(l.b)(function(e){return{toast:d.c.toasts.getLastToast(e)}},function(e){return{removeLastToast:function(){e(Object(p.a)(y.a.removeLastToast,null))}}})(j);t.a=S},267:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.completed="tutorial.completed",e.next="tutorial.next",e.start="tutorial.start",e.close="tutorial.close"}(r||(r={}))},2675:function(e,t,n){"use strict";var r,a=n(1),o=(n.n(a),n(53)),i=n(10),s=n(23),c=n(2676),u=n(605),l=n(1063),p=n(267),d=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tick=function(){t.forceUpdate()},t}return d(t,e),t.prototype.render=function(){var e=this.getAppState(),t=i.c.ui.tutorial.getCurrentTutorialName(e);if(null===t)return null;var n=l.a[t];if(!n)return null;var r=n.getInfo(e);if(null===r)return null;var o=f({},r,{closeTutorial:this.props.closeTutorial});return a.createElement(c.a,f({},o))},t.prototype.getAppState=function(){return this.props.store.getState()},t.prototype.componentDidMount=function(){setInterval(this.tick,1e3)},t}(a.PureComponent),y=Object(o.b)(null,function(e){return{closeTutorial:function(){var t=Object(s.a)(p.a.close,null);e(t)}}})(h);t.a=function(){return a.createElement(u.a,null,function(e){return a.createElement(y,{store:e})})}},2676:function(e,t,n){"use strict";var r,a,o=n(1),i=(n.n(o),n(40)),s=n(2677),c=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},u=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},p=Object(i.b)("div")(a||(a=c(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n  z-index: 1200;\n  overflow: hidden;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n  z-index: 1200;\n  overflow: hidden;\n"]))),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={width:0,height:0},t.tick=function(){t.updateRootElementSize()},t.onRoot=function(e){t.rootElement=e},t}return u(t,e),t.prototype.render=function(){var e,t=this.props,n=t.targetX,r=t.targetY,a=t.text,i=this.state,c=i.width,u=i.height,d={width:c,height:u,textX:(e=r>u/2?this.getTopLocation():this.getBottomLocation()).x,textY:e.y,targetX:n,targetY:r,text:a,closeTutorial:this.props.closeTutorial};return o.createElement(p,{innerRef:this.onRoot},o.createElement(s.a,l({},d)))},t.prototype.componentDidMount=function(){this.interval=setInterval(this.tick,1e3/3)},t.prototype.componentWillUnmount=function(){void 0!==this.interval&&clearInterval(this.interval)},t.prototype.updateRootElementSize=function(){if(this.rootElement){var e=this.rootElement.getBoundingClientRect();this.setState({width:e.width,height:e.height})}},t.prototype.getTopLocation=function(){var e=this.state;return{x:e.width/2,y:e.height/6}},t.prototype.getBottomLocation=function(){var e=this.state,t=e.width,n=e.height;return{x:t/2,y:n/2+n/6}},t}(o.PureComponent);t.a=d},2677:function(e,t,n){"use strict";var r,a,o,i,s,c,u,l,p,d=n(1),f=(n.n(d),n(40)),h=n(215),y=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},g=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=Object(h.keyframes)(a||(a=y(["\n  0% { background-position: 0% 100%; }\n  50% { background-position: 100% 200%; }\n  100% {background-position: 0% 100%; }\n"],["\n  0% { background-position: 0% 100%; }\n  50% { background-position: 100% 200%; }\n  100% {background-position: 0% 100%; }\n"]))),b=Object(h.keyframes)(o||(o=y(["\n  0% {\n    box-shadow: 0 0 0 0 rgba(255,255,255, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 30px rgba(255,255,255, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(255,255,255, 0);\n  }\n"],["\n  0% {\n    box-shadow: 0 0 0 0 rgba(255,255,255, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 30px rgba(255,255,255, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(255,255,255, 0);\n  }\n"]))),v=Object(f.b)("div")(i||(i=y(["\n  color: white;\n  text-align: center;\n  padding: 5px;\n  background: #000000c2;\n  box-shadow: 0 0 0 rgba(255,255,255, 0.4);\n  animation: "," 2s infinite;\n  line-height: 1.5;\n  font-size: 12px;\n"],["\n  color: white;\n  text-align: center;\n  padding: 5px;\n  background: #000000c2;\n  box-shadow: 0 0 0 rgba(255,255,255, 0.4);\n  animation: "," 2s infinite;\n  line-height: 1.5;\n  font-size: 12px;\n"])),b),w=Object(f.b)("div")(s||(s=y(["\n  max-width: 240px;\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  background: linear-gradient(124deg, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8, #dd00f3, #dd00f3);\n  background-size: 900% 900%;\n  animation: "," 9s ease infinite;\n  padding: 3px;\n"],["\n  max-width: 240px;\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  background: linear-gradient(124deg, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8, #dd00f3, #dd00f3);\n  background-size: 900% 900%;\n  animation: "," 9s ease infinite;\n  padding: 3px;\n"])),function(e){return e.y},function(e){return e.x},m),O=Object(f.b)("div")(c||(c=y(["\n  pointer-events: all;\n  cursor: pointer;\n"],["\n  pointer-events: all;\n  cursor: pointer;\n"]))),I=Object(f.b)("line")(u||(u=y(["\n  stroke-width: 5px;\n  stroke: black;\n"],["\n  stroke-width: 5px;\n  stroke: black;\n"]))),P=Object(f.b)("line")(l||(l=y(["\n  stroke-width: 3px;\n  stroke: white;\n"],["\n  stroke-width: 3px;\n  stroke: white;\n"]))),x=Object(f.b)("circle")(p||(p=y(["\n  box-shadow: 0 0 0 rgba(255,255,255, 0.4);\n  fill: white;\n  stroke: black;\n  stroke-width: 1px;\n  r: 10;\n"],["\n  box-shadow: 0 0 0 rgba(255,255,255, 0.4);\n  fill: white;\n  stroke: black;\n  stroke-width: 1px;\n  r: 10;\n"]))),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={textWidth:0,textHeight:0},t.onText=function(e){t.textElement=e},t}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.text,n=e.textX,r=e.textY,a=e.targetX,o=e.targetY,i=e.width,s=e.height,c=this.state,u=c.textWidth,l=c.textHeight;return d.createElement(d.Fragment,null,d.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:i,height:s},d.createElement(I,{x1:n,y1:r,x2:a,y2:o}),d.createElement(P,{x1:n,y1:r,x2:a,y2:o}),d.createElement(x,{cx:a,cy:o})),d.createElement(O,{onClick:this.props.closeTutorial},d.createElement(w,{innerRef:this.onText,x:n-u/2,y:r-l/2},d.createElement(v,null,t),d.createElement(v,null,"Click to close tutorial."))))},t.prototype.componentDidMount=function(){var e=this;this.interval=setInterval(function(){return e.updateTextSize()},1e3/60)},t.prototype.componentWillUnmount=function(){void 0!==this.interval&&clearInterval(this.interval)},t.prototype.updateTextSize=function(){if(this.textElement){var e=this.textElement.getBoundingClientRect();this.setState({textWidth:e.width,textHeight:e.height})}},t}(d.PureComponent);t.a=j},2678:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(10),a=n(1064),o=n(45),i=n(23),s=n(267),c=n(42),u=n(465),l=n(606),p={name:u.a.welcome,getInfo:function(e){var t=r.c.ui.global.getCurrentPlayerId(e);if(!t)return null;var n=r.c.planets.getPlanetsOwnedByPlayerId(e,t)[0];if(!n)return null;var o={x:n.x,y:n.y},i=Object(a.a)(e,o);return i?{text:"Welcome to BitPlanets! You start with this planet, is yours! Click or tap on it to select it.",targetX:i.x,targetY:i.y}:null},checkCompletionEpic:function(e,t){var n=t.pipe(Object(c.b)(function(e){return p.name!==r.c.ui.tutorial.getCurrentTutorialName(e)}));return e.pipe(Object(l.a)(s.a.start,s.a.next),Object(c.b)(function(){return e=t.value,p.name===r.c.ui.tutorial.getCurrentTutorialName(e);var e}),Object(c.d)(function(){return new o.a(function(e){var n=setInterval(function(){if(r.c.ui.planetMap.getUI(t.value).selectedPlanetId){var n=Object(i.a)(s.a.completed,{tutorialName:p.name});e.next(n)}},200);return function(){clearInterval(n)}}).pipe(Object(c.h)(n))}))}}},2679:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(10),a=n(1064),o=n(45),i=n(23),s=n(267),c=n(42),u=n(465),l=n(606),p=function(e){var t=r.c.ui.global.getCurrentPlayerId(e);if(!t)return null;var n=r.c.planets.getPlanetsOwnedByPlayerId(e,t)[0];return n?r.c.planets.getPlanetsInRangeOfPlanetId(e,n.id)[0]:null},d={name:u.a.sendFirstShip,getInfo:function(e){var t=p(e);if(!t)return null;var n={x:t.x,y:t.y},r=Object(a.a)(e,n);return r?{text:"The bigger circle is the planet's range. Drag from your selected planet to this planet to send a ship. Send ships until you own this planet.",targetX:r.x,targetY:r.y}:null},checkCompletionEpic:function(e,t){var n=t.pipe(Object(c.b)(function(e){return d.name!==r.c.ui.tutorial.getCurrentTutorialName(e)}));return e.pipe(Object(l.a)(s.a.start,s.a.next),Object(c.b)(function(){return e=t.value,d.name===r.c.ui.tutorial.getCurrentTutorialName(e);var e}),Object(c.d)(function(){return new o.a(function(e){var n=setInterval(function(){var n=p(t.value);if(n){var a=r.c.ui.global.getCurrentPlayerId(t.value);if(n.ownerId===a){var o=Object(i.a)(s.a.completed,{tutorialName:d.name});e.next(o)}}},200);return function(){clearInterval(n)}}).pipe(Object(c.h)(n))}))}}},268:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.focusOnPlanet="ui.planetMap.focusOnPlanet",e.requestFocusOnMyPlanets="ui.planetMap.requestFocusOnMyPlanets",e.removePlanetFocus="ui.planetMap.removePlanetFocus",e.setAttackMode="ui.planetMap.setAttackMode",e.setCreatePlanetMode="ui.planetMap.setCreatePlanetMode",e.onPlanetIdClick="ui.planetMap.onPlanetIdClick",e.onPlanetIdSelected="ui.planetMap.onPlanetIdSelected",e.onBackgroundClick="ui.planetMap.onBackgroundClick",e.requestCreatePhaserGame="ui.planetMap.requestCreatePhaserGame",e.destroyPhaserGame="ui.planetMap.destroyPhaserGame",e.onMount="ui.planetMap.onMount",e.onUnmount="ui.planetMap.onUnmount",e.setIsGamePaused="ui.planetMap.setIsGamePaused",e.onPhaserGameCreated="ui.planetMap.onPhaserGameCreated"}(r||(r={}))},2680:function(e,t,n){"use strict";var r,a,o,i=n(1),s=(n.n(i),n(53)),c=n(10),u=n(23),l=n(40),p=n(187),d=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},f=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=Object(l.b)("div")(a||(a=d(["\n  background: #983535;\n  color: white;\n  position: fixed;\n  top: 10px;\n  @media (max-width: 600px){\n    left: 10px;\n    right: 10px;\n  }\n  @media (min-width: 600px){\n    left: 20%;\n    right: 20%;\n  }\n  padding: 10px;\n  z-index: 10000;\n  border-radius: 4px;\n  cursor: pointer;\n"],["\n  background: #983535;\n  color: white;\n  position: fixed;\n  top: 10px;\n  @media (max-width: 600px){\n    left: 10px;\n    right: 10px;\n  }\n  @media (min-width: 600px){\n    left: 20%;\n    right: 20%;\n  }\n  padding: 10px;\n  z-index: 10000;\n  border-radius: 4px;\n  cursor: pointer;\n"]))),y=Object(l.b)("span")(o||(o=d(["\n  font-size: 12px;\n  opacity: 0.75;\n"],["\n  font-size: 12px;\n  opacity: 0.75;\n"]))),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){return this.props.lastError?i.createElement(h,{onClick:this.props.removeLastError},this.props.lastError,i.createElement(y,null," Click or tap to close.")):null},t}(i.PureComponent),m=Object(s.b)(function(e){return{lastError:c.c.toasts.getLastError(e)}},function(e){return{removeLastError:function(){var t=Object(u.a)(p.a.removeLastError,null);e(t)}}})(g);t.a=m},2681:function(e,t){},2683:function(e,t,n){"use strict";t.a=function(){if("serviceWorker"in navigator){var e=new URL("",window.location.toString());if(e.origin!==window.location.origin)return;window.addEventListener("load",function(){var e="/service-worker.js";r?(!function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):a(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):a(e)})}};var r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function a(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}},2686:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),a=(n.n(r),n(2687)),o=n.n(a),i=n(348),s=(n.n(i),n(484)),c=(n.n(s),function(e){var t=e.children,n=Object(s.createGenerateClassName)(),a=Object(i.create)(Object(s.jssPreset)());return a.options.insertionPoint="jss-insertion-point",a.setup({insertionPoint:document.getElementById("jss-css-insertion-point")||void 0}),r.createElement(o.a,{jss:a,generateClassName:n},t)})},2697:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(1067),a=n(23),o=n(10),i=n(658),s=n(2700),c=(n.n(s),n(2703)),u=n(2704),l=n(22),p=n(209),d=function(e){var t=e.enableReduxDevTools,n=e.roomSCI,d=Object(r.b)(),f=Object(i.d)(o.a,o.b,Object(i.c)(s.reduxBatch,Object(i.a)(d),s.reduxBatch,t?Object(c.a)():function(e){return e})),h=Object(u.a)(n,f);return d.run(h),f.dispatch(Object(a.a)(l.a.appStart,{clientId:Object(p.a)()})),f}},2703:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(100),a=function(){var e={maxAge:200,actionsBlacklist:[r.a.arrive,r.a.send]},t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(e);return t||function(e){return e}}},2704:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(1067),a=n(2705),o=n(2706),i=n(2707),s=n(2708),c=n(2709),u=n(2710),l=n(2711),p=n(2712),d=n(2713),f=n(2714),h=n(2716),y=n(2717),g=n(2718),m=n(2719),b=n(2720),v=function(e,t){return Object(r.a)(Object(i.a)(e,t),Object(s.a)(e,t),Object(b.a)(e,t),Object(u.a)(e,t),Object(l.a)(e,t),Object(c.a)(e,t),Object(p.a)(e,t),Object(a.a)(),Object(d.a)(e,t),Object(f.a)(e,t),Object(m.a)(e,t),Object(y.a)(e,t),Object(h.a)(e,t),Object(g.a)(e,t),Object(o.a)(e,t))}},2705:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(42),a=n(45),o=n(23),i=n(22),s=n(202),c=n(100),u=function(){return function(e,t){var n=e.pipe(Object(s.a)(c.a.send),Object(r.a)(50,void 0,1e3),Object(r.b)(function(e){return 0!==e.length}),Object(r.c)(function(e){return Object(o.c)(i.a.batchPerformance,{type:c.a.send,actions:e})}));return Object(a.e)(n)}}},2706:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(42),a=n(45),o=n(23),i=n(71),s=n(268),c=n(10),u=(n(100),n(209)),l=(n(187),n(184)),p=n(202),d=n(22),f=n(1071),h=function(e,t){return function(e,t){var n=e.pipe(Object(p.a)(d.a.connectedToRoom),Object(r.c)(function(){return c.c.ui.planetMap.getUI(t.value).phaserGameLoadingStatus===i.d.none?Object(o.a)(s.a.requestCreatePhaserGame,null):null}),Object(r.b)(f.a)),h=e.pipe(Object(p.a)(s.a.requestCreatePhaserGame),Object(r.i)(function(){var e=c.c.ui.planetMap.getUI(t.value);e.createGame&&e.createGame()}),Object(r.b)(function(){return!1})),y=e.pipe(Object(p.a)(s.a.onUnmount),Object(r.c)(function(){return Object(o.a)(s.a.destroyPhaserGame,null)})),g=e.pipe(Object(p.a)(s.a.destroyPhaserGame),Object(r.i)(function(){var e=c.c.ui.planetMap.getUI(t.value);e.destroyGame&&e.destroyGame()}),Object(r.b)(function(){return!1})),m=e.pipe(Object(r.b)(function(e){return e.type===s.a.onBackgroundClick}),Object(r.c)(function(e){var n=t.value;if(c.c.ui.planetMap.getUI(n).createPlanetMode){var r=e.payload.point,a=r.x,i=r.y,s=c.c.ui.global.getCurrentPlayerId(n);return void 0===s?null:Object(o.b)(l.a.requestCreateOne,{id:Object(u.a)(),x:a,y:i,playerId:s})}return null}),Object(r.b)(function(e){return null!==e})),b=e.pipe(Object(r.b)(function(e){return e.type===s.a.onPlanetIdClick}),Object(r.c)(function(e){var n=t.value;if(!c.c.advanced.currentPlayerCanRespawn(n,{}).ok)return null;var r=c.c.ui.global.getCurrentPlayerId(t.value);return void 0===r?null:Object(o.b)(d.a.requestStartGameWith,{planetId:e.payload.planetId,playerId:r})}),Object(r.b)(function(e){return null!==e})),v=e.pipe(Object(r.b)(function(e){return e.type===s.a.onPlanetIdClick}),Object(r.c)(function(e){var n=t.value,r=c.c.ui.planetMap.getUI(n),a=r.selectedPlanetId,i=(r.attackMode,c.c.planets.getPlanetsById(n)),u=(a&&i[a],i[e.payload.planetId]);if(!u)return[null];Object(o.a)(s.a.onPlanetIdSelected,{planetId:u.id}),c.c.ui.global.getCurrentPlayer(n);return[Object(o.a)(s.a.onPlanetIdSelected,{planetId:u.id})]}),Object(r.d)(function(e){var t=e.filter(function(e){return null!==e});return Object(a.c)(t)}));return Object(a.e)(b,n,h,g,y,m,v)}}},2707:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(22),a=n(42),o=n(45),i=n(23),s=function(e,t){return function(e,t){var n=e.pipe(Object(a.b)(function(e){return e.type===r.a.setServerDate}),Object(a.c)(function(e){return+new Date-+e.payload.date}),Object(a.c)(function(e){return Object(i.a)(r.a.setServerDateOffset,{offsetInMs:e})}));return Object(o.e)(n)}}},2708:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(22),a=n(42),o=n(45),i=n(23),s=n(278),c=n(186),u=n(1071),l=n(111),p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},f=this,h=function(e,t){return function(e,t){var n=e.pipe(Object(a.b)(function(e){return e.type===r.a.appStart}),Object(a.d)(function(){return p(f,void 0,void 0,function(){var e,t,n;return d(this,function(r){switch(r.label){case 0:return"undefined"===typeof localStorage?[2,[]]:(e=localStorage.getItem("sessionId"),Object(u.a)(e)?[4,Object(s.a)("getUserFromSessionId",{sessionId:e})]:[3,2]);case 1:return(t=r.sent()).ok?(n=t.payload.user,[2,[Object(i.a)(l.a.addCurrentUserAndAccounts,t.payload),Object(i.a)(c.a.addCurrentUser,{user:n})]]):[2,Object(i.a)(c.a.setNoCurrentUser,{})];case 2:return[2,Object(i.a)(c.a.setNoCurrentUser,{})]}})})}));return Object(o.e)(n)}}},2709:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(42),a=n(45),o=n(22),i=n(100),s=n(122),c=n(184),u=function(e,t){return function(e,t){var n=e.pipe(Object(r.b)(function(e){return e.type===o.a.sendClientToServerAction}),Object(r.c)(function(e){return e.payload.serverAction}),Object(r.b)(function(e){return[i.a.requestCreateStream,i.a.requestSendShip,o.a.requestStartGameWith,c.a.requestCreateOne,s.a.requestRoomLogin].indexOf(e.type)>-1}));return Object(a.e)(n)}}},2710:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(22),a=n(42),o=n(45),i=n(23),s=n(10),c=n(202),u=function(e,t){return function(n,u){var l=n.pipe(Object(c.a)(r.a.disconnect)),p=n.pipe(Object(c.a)(r.a.requestConnectToRoom),Object(a.d)(function(){return new o.a(function(n){var a=s.c.ui.global.getCurrentClientId(u.value);if(!a)throw new Error("No client id found");e.getServerAction$().subscribe(function(e){t.dispatch(e)}),e.connect(a);var o=Object(i.a)(r.a.connectedToRoom,null);return n.next(o),function(){e.disconnect()}}).pipe(Object(a.h)(l))}));return Object(o.e)(p)}}},2711:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(22),a=n(42),o=n(45),i=function(e,t){return function(t,n){var i=t.pipe(Object(a.b)(function(e){return e.type===r.a.sendClientToServerAction}),Object(a.i)(function(t){e.sendActionToServer(t)}),Object(a.b)(function(){return!1}));return Object(o.e)(i)}}},2712:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(22),a=n(42),o=n(45),i=n(23),s=n(256),c=n(100),u=n(184),l=n(187),p=n(211),d=n(10),f=n(122),h=n(210),y=n(209),g=n(123),m=n(466),b=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},v=function(e,t){return function(e,t){var n=e.pipe(Object(a.c)(function(e){var n=t.value,a=d.c.ui.global.getCurrentPlayerId(n);if(e.type===u.a.requestCreateOne)return{text:"Creating planet...",autoClose:!1,variant:"info"};if(e.type===r.a.newGame)return{text:"A new game started",autoClose:!0,variant:"info"};if(e.type===r.a.gameEnd)return{text:"Game ended",autoClose:!0,variant:"info"};if(e.type===u.a.createOne&&e.payload.playerId===a)return{text:"Created one planet -"+Object(g.a)(s.a),autoClose:!0,variant:"info"};if(e.type===c.a.requestCreateStream)return{text:"Creating ship stream...",autoClose:!1,variant:"info"};if(e.type===c.a.createStream&&e.payload.createdByPlayerId===a)return{text:"Created one ship stream -"+Object(g.a)(p.a),autoClose:!0,variant:"info"};if(e.type===r.a.sendClientToServerAction){if((e=e.payload.serverAction).type===f.a.onRoomLogin)return{text:"Joining room...",autoClose:!1,variant:"info"}}else{if(e.type===f.a.onCurrentPlayerRoomLogin)return{text:"Successfully logged in the room",autoClose:!0,variant:"info"};if(e.type===f.a.onRoomLogin&&e.payload.partialPlayer.playerId!==a){if(o=d.c.players.getPlayerById(n,e.payload.partialPlayer.playerId))return{text:o.name+" joined the room",autoClose:!0,variant:"info"}}else if(e.type===f.a.exitRoom&&e.payload.playerId!==a){var o;if(o=d.c.players.getPlayerById(n,e.payload.playerId))return{text:o.name+" exit the room",autoClose:!0,variant:"info"}}else{if(e.type===r.a.requestStartGameWith&&e.payload.playerId===a)return{text:"Starting game...",autoClose:!1,variant:"info"};if(e.type===r.a.startGameWith&&e.payload.playerId===a)return{text:"Game started",autoClose:!0,variant:"info"};if(e.type===f.a.addResourcesToMany&&void 0!==a)return{text:"Giveaway resources +"+Object(g.a)(e.payload.playerToResourceMap[a]),autoClose:!0,variant:"info"};if(e.type===f.a.planetKilled&&e.payload.playerId===a)return{text:"Killed one planet +"+Object(g.a)(h.a),autoClose:!0,variant:"info"};if(e.type===u.a.createOneError&&e.payload.playerId===a)return{text:"Error creating planet "+e.payload.error,autoClose:!0,variant:"error"};if(e.type===c.a.createStreamError&&e.payload.createdByPlayerId===a)return{text:"Error creating ship stream "+e.payload.error,autoClose:!0,variant:"error"};if(e.type===f.a.requestRoomLogin)return{text:"Logging in room...",autoClose:!0,variant:"info"};if(e.type===m.a.upgradeError)return{text:"Error upgrading: "+e.payload.error,autoClose:!0,variant:"error"};if(e.type===r.a.startGameWithError)return{text:"Error starting game: "+e.payload.error,autoClose:!0,variant:"error"}}}return null}),Object(a.b)(function(e){return null!==e}),Object(a.c)(function(e){return b({},e,{id:Object(y.a)()})}),Object(a.c)(function(e){return Object(i.a)(l.a.addToast,{toast:e})}));return Object(o.e)(n)}}},2713:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(22),a=n(42),o=n(45),i=n(23),s=n(122),c=n(10),u=n(606),l=n(187),p=function(e,t){return function(e,t){var n=e.pipe(Object(u.a)(r.a.newGame,s.a.onCurrentPlayerRoomLogin),Object(a.b)(function(){return!!c.c.system.getPublicSetting(t.value,"autoSpawnAfterRoomLogin")}),Object(a.c)(function(){return c.c.advanced.currentPlayerCanRespawn(t.value,{}).ok?Object(i.a)(l.a.addError,{error:"You didn't join the game yet. Please zoom in the map and click on a planet to join the game."}):null}),Object(a.b)(function(e){return null!==e}));return Object(o.e)(n)}}},2714:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(22),a=n(42),o=n(45),i=n(23),s=n(10),c=n(268),u=n(2715),l=n(202),p=function(e,t){return function(e,t){var n=function(){var e=s.c.ui.global.getCurrentPlayerId(t.value);if(void 0===e)return null;var n=s.c.planets.getPlanetsOwnedByPlayerId(t.value,e)[0];return void 0===n?null:Object(i.a)(c.a.focusOnPlanet,{planetId:n.id})},p=Object(u.a)(e,t).pipe(Object(a.c)(n),Object(a.b)(function(e){return null!==e})),d=e.pipe(Object(l.a)(c.a.requestFocusOnMyPlanets),Object(a.c)(n),Object(a.b)(function(e){return null!==e})),f=e.pipe(Object(a.b)(function(e){return e.type===r.a.startGameWith}),Object(a.b)(function(e){var n=s.c.ui.global.getCurrentPlayerId(t.value);return e.payload.playerId===n}),Object(a.c)(function(e){return e.payload.playerId}),Object(a.c)(n),Object(a.b)(function(e){return null!==e}));return Object(o.e)(p,d,f)}}},2715:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(10),a=n(42),o=n(122),i=n(22),s=n(71),c=function(e,t){return e.pipe(Object(a.b)(function(e){return e.type===o.a.onCurrentPlayerRoomLogin||e.type===i.a.setGameState}),Object(a.d)(function(){return t.pipe(Object(a.b)(function(e){return r.c.ui.global.getPlayerRoomLoginLoadingStatus(e)===s.d.loaded}),Object(a.g)(1))}))}},2716:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(42),a=n(45),o=n(23),i=n(1063),s=n(267),c=n(202),u=n(22),l=function(e,t){return function(e,t){var n=Object.keys(i.a).map(function(n){return i.a[n].checkCompletionEpic(e,t)}),l=e.pipe(Object(c.a)(s.a.completed),Object(r.c)(function(){return Object(o.a)(s.a.next,null)})),p=e.pipe(Object(c.a)(u.a.appStart),Object(r.d)(function(){return[Object(o.a)(s.a.start,null)]}));return a.e.apply(void 0,[p,l].concat(n))}}},2717:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(22),a=n(42),o=n(45),i=n(23),s=n(10),c=n(122),u=function(e,t){return function(e,t){var n=e.pipe(Object(a.b)(function(e){return e.type===r.a.clientSideSocketChange&&"reconnect"===e.payload.newState}),Object(a.b)(function(){return"undefined"!==typeof localStorage}),Object(a.c)(function(){return Object(i.b)(c.a.requestRoomLogin,{clientId:s.c.ui.global.getCurrentClientId(t.value)||"",sessionId:localStorage.getItem("sessionId")||"",accountId:s.c.ui.global.getCurrentAccountId(t.value)||""})}));return Object(o.e)(n)}}},2718:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(42),a=n(45),o=n(23),i=n(122),s=n(10),c=n(22),u=n(202),l=function(e,t){return function(e,t){var n=e.pipe(Object(u.a)(i.a.onRoomLogin),Object(r.b)(function(e){return e.payload.partialPlayer.userId===s.c.ui.global.getCurrentUserId(t.value)}),Object(r.c)(function(e){return Object(o.a)(i.a.onCurrentPlayerRoomLogin,e.payload)})),l=e.pipe(Object(r.b)(function(e){return e.type===i.a.exitRoom}),Object(r.b)(function(e){return e.payload.playerId===s.c.ui.global.getCurrentPlayerId(t.value)}),Object(r.c)(function(e){return Object(o.a)(i.a.currentPlayerExitRoom,e.payload)})),p=e.pipe(Object(u.a)(c.a.startGameWith),Object(r.b)(function(e){return e.payload.playerId===s.c.ui.global.getCurrentPlayerId(t.value)}),Object(r.c)(function(e){return Object(o.a)(c.a.currentPlayerStartGameWith,e.payload)}));return Object(a.e)(n,l,p)}}},2719:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(22),a=n(42),o=n(45),i=n(23),s=n(10),c=n(88),u=n(202),l=n(186),p=function(e,t){return function(e,t){var n=e.pipe(Object(u.a)(l.a.addCurrentUser),Object(a.d)(function(){var e=c.i.map(function(e){return Object(o.i)(Math.round(60*e*1e3))});return o.e.apply(void 0,e).pipe(Object(a.b)(function(){var e=t.value,n=s.c.ui.global.getCurrentUser(e);return!(!n||n.email)}),Object(a.c)(function(){return Object(i.a)(r.a.setRequestEmailDialogVisibility,{isVisible:!0})}))}),Object(a.h)(e.pipe(Object(u.a)(l.a.setNoCurrentUser))));return Object(o.e)(n)}}},2720:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(22),a=n(42),o=n(45),i=n(23),s=n(10),c=n(111),u=n(88),l=function(e,t){return function(e,t){var n=e.pipe(Object(a.b)(function(e){return e.type===r.a.appStart}),Object(a.d)(function(){return Object(o.d)(1e3)}),Object(a.d)(function(){var e=s.c.ui.global.getCurrentAccount(t.value);if(e){var n=s.c.ui.global.getAddMoreMoneyPanelState(t.value);if(!(e.availableMoneyAmountInCents>=u.d)&&!n.isVisible)return[Object(i.a)(c.a.setVisibilityForAddMoreMoneyPanel,{isVisible:!0})]}return[]}));return Object(o.e)(n)}}},2721:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(2722),a=(n.n(r),n(23)),o=n(2773),i=(n.n(o),n(807)),s=(n.n(i),n(808)),c=n(809),u=n(22),l=function(){function e(){var e=this;this.sendActionToServer=function(t){e.socket?e.socket.emit("clientToServerAction",i.stringify(t)):e.clientToServerAction$.next(t)},this.getServerAction$=function(){return e.serverToClientAction$.asObservable()},this.reset()}return e.prototype.connect=function(e){this.clientId=e;var t=Object(s.a)()+":"+c.b+"/room";this.socket=o(t),this.start()},e.prototype.disconnect=function(){this.socket&&this.socket.disconnect()},e.prototype.reset=function(){this.serverToClientAction$&&this.serverToClientAction$.complete(),this.clientToServerAction$&&this.clientToServerAction$.complete(),this.serverToClientAction$=new r.Subject,this.clientToServerAction$=new r.ReplaySubject,this.clientId=void 0,this.socket&&(this.socket.disconnect(),this.socket=void 0)},e.prototype.start=function(){var e=this,t=this.socket;if(!t)throw new Error("No socket setup yet.");this.clientToServerAction$.subscribe(function(e){t.emit("clientToServerAction",i.stringify(e))}),new r.Observable(function(n){var r=-1;t.on("serverToClientAction",function(e){var t=i.parse(e),a=t.index,o=t.actions;a!==r+1&&(alert(r+1+"-"+a),window.location.reload()),r=a,o.length>0&&n.next(o)});var o=function(e){n.next([Object(a.a)(u.a.clientSideSocketChange,{newState:e})])};return t.on("connect",function(){o("connect")}),t.on("connect_error",function(){o("connect_error")}),t.on("connect_timeout",function(){o("connect_timeout")}),t.on("reconnect",function(){r=-1,t.emit("setClientId",e.clientId),o("reconnect")}),t.on("reconnect_attempt",function(){o("reconnect_attempt")}),t.on("reconnecting",function(){o("reconnecting")}),t.on("reconnect_error",function(){o("reconnect_error")}),t.on("reconnect_failed",function(){o("reconnect")}),function(){t.disconnect()}}).subscribe(this.serverToClientAction$),t.emit("setClientId",this.clientId)},e}()},278:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(1672),a=(n.n(r),n(807)),o=(n.n(a),n(808)),i=n(809),s=n(88),c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},l=this,p=function(e,t){return c(l,void 0,void 0,function(){var n;return u(this,function(c){switch(c.label){case 0:return s.c&&console.time("GSCI: "+e),[4,r.post(Object(o.a)()+":"+i.a+"/api/"+e).json({data:a.stringify({name:e,input:t})})];case 1:return n=c.sent(),s.c&&console.timeEnd("GSCI: "+e),[2,n]}})})}},2793:function(e,t){},333:function(e,t,n){"use strict";n.d(t,"l",function(){return y}),n.d(t,"a",function(){return g}),n.d(t,"m",function(){return b}),n.d(t,"f",function(){return v}),n.d(t,"d",function(){return O}),n.d(t,"b",function(){return I}),n.d(t,"i",function(){return P}),n.d(t,"e",function(){return x}),n.d(t,"h",function(){return j}),n.d(t,"g",function(){return S}),n.d(t,"j",function(){return C}),n.d(t,"k",function(){return k}),n.d(t,"c",function(){return E});var r=n(71),a=n(184),o=n(100),i=n(22),s=n(1367),c=n(88),u=n(334),l=n(447),p=n(1368),d=n(448),f=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},h={planetsById:{},planetIdsToThreatLevelByBotId:{}},y=function(e,t){var n,u,l,d;if(void 0===e&&(e=h),t.type===i.a.setGameState)e=_(e,t.payload.gameState.planets);else if(t.type===i.a.cleanUpGameData)e=f({},e,{planetsById:{},planetIdsToThreatLevelByBotId:{}});else if(t.type===a.a.requestCreateOne){var y=t.payload,g=y.x,v=y.y,w=y.id;e=f({},e,{planetsById:f({},e.planetsById,(n={},n[w]=Object(p.a)({id:w,x:g,y:v,color:c.h,range:10,playerCanSpawn:!1,radius:10,type:r.f.generic,temporary:!0}),n))})}else if(t.type===a.a.addPlanetsUpdatesById){var O={},I=t.payload.planetsUpdatesById;Object.keys(I).forEach(function(t){var n=e.planetsById[t],r=I[t];n&&r?O[t]=f({},n,r):console.error("Planet not found")}),e=f({},e,{planetsById:f({},e.planetsById,O)})}else if(t.type===i.a.disconnect)e=f({},e,{planetsById:{},planetIdsToThreatLevelByBotId:{}});else if(t.type===i.a.batchPerformance&&t.payload.type===o.a.send){var P=t.payload.actions,x=f({},e.planetsById);P.forEach(function(e){var t=e.payload.ship,n=x[t.fromPlanetId];n&&(x[t.fromPlanetId]=f({},n,{units:Object(s.a)(n.units-t.units,0,n.capacity)}))}),e=f({},e,{planetsById:x})}else if(t.type===a.a.addUnits){(k=e.planetsById[t.payload.planetId])&&(e=f({},e,{planetsById:f({},e.planetsById,(u={},u[t.payload.planetId]=f({},k,{units:Object(s.a)(k.units+t.payload.unitsToAdd,0,k.capacity)}),u))}))}else if(t.type===a.a.unitCycleTick){var j={};Object.values(e.planetsById).forEach(function(e){e&&null!==e.ownerId&&e.units!==e.capacity&&(e=m(f({},e,{units:e.units+e.unitsPerCycle})),j[e.id]=e)}),e=f({},e,{planetsById:f({},e.planetsById,j)})}else if(t.type===a.a.addUnitsToMany){var S={},C=t.payload.unitsToPlanetMap;Object.keys(C).forEach(function(t){var n=e.planetsById[t];if(n){var r=C[t];S[n.id]=f({},n,{units:Object(s.a)(n.units+r,0,n.capacity)})}}),e=f({},e,{planetsById:f({},e.planetsById,S)})}else if(t.type===i.a.startGameWith){var k;(k=e.planetsById[t.payload.planetId])&&(e=f({},e,{planetsById:f({},e.planetsById,(l={},l[t.payload.planetId]=f({},k,{ownerId:t.payload.playerId,color:t.payload.color}),l))}))}else if(t.type===a.a.disownMany)t.payload.planetIds.forEach(function(t){e=b(e,t,{ownerId:null,color:c.h})});else if(t.type===a.a.createOneError){var E=f({},e.planetsById);delete E[t.payload.id],e=f({},e,{planetsById:E})}else t.type===a.a.debugSetThreatLevelsForBot&&(e=f({},e,{planetIdsToThreatLevelByBotId:f({},e.planetIdsToThreatLevelByBotId,(d={},d[t.payload.botId]=t.payload.planetIdsToThreatLevel,d))}));return e},g=function(e,t){var n;return f({},e,{planetsById:f({},e.planetsById,(n={},n[t.id]=f({},t,{x:Math.round(t.x),y:Math.round(t.y),units:Object(s.a)(t.units,0,t.capacity)}),n))})},m=function(e){return f({},e,{units:Object(s.a)(e.units,0,e.capacity),radius:Object(s.a)(e.radius,25,500)})},b=function(e,t,n){var r,a=e.planetsById[t];if(!a)return console.error("Original planet not found"),e;var o=m(f({},a,n,{id:t}));return n.radius&&!Object(d.a)(Object.values(e.planetsById),o)?e:f({},e,{planetsById:f({},e.planetsById,(r={},r[t]=o,r))})},v=function(e){return e.planetsById},w=function(e){return e.planetsById},O=function(e,t){return e.planetsById[t]},I=function(e,t){var n=e.planetsById[t];if(!n)return 0;var r=n.units/2;return r<c.e?n.units:Math.floor(r)},P=function(e,t){return Object.values(e.planetsById).filter(function(e){return!!e}).filter(function(e){return e.ownerId===t})},x=function(e,t){return e.planetIdsToThreatLevelByBotId[t]},j=function(e,t){var n=w(e),r=n[t];if(!r)return[];var a=Object.values(n).filter(function(e){return void 0!==e});return u.a.getPlanetsInRange(r,a)},S=function(e,t){var n=w(e);return Object.values(n).filter(function(e){return e&&e.protectedGroupId===t})},C=function(e){var t=w(e),n=Object.values(t).filter(u.a.onlyFreePlanet).filter(u.a.isSpawnable);return Object(l.a)(n)},k=function(e,t,n){var r=O(e,t);if(r){if(void 0===r.protectedGroupId)return!1;var a=!0;return S(e,r.protectedGroupId).forEach(function(e){e.ownerId===n&&(a=!1)}),a}},E=function(e){return{planetsById:e.planetsById}},_=function(e,t){return f({},e,{planetsById:t.planetsById,planetIdsToThreatLevelByBotId:{}})}},334:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(335),a=n(446),o=function(e,t){if(e.id===t.id)return!1;var n=Object(a.a)(Object(r.a)(e),Object(r.a)(t))-e.radius-t.radius;return e.range>n},i={onlyFreePlanet:function(e){return null===e.ownerId},isSpawnable:function(e){return e.playerCanSpawn},isPlanetInRange:o,getPlanetsInRange:function(e,t){return t.filter(function(t){return o(e,t)})},isOwnedBy:function(e){return function(t){return t.ownerId===e}},isNotOwnedBy:function(e){return function(t){return t.ownerId!==e}},sortByUnitsMissing:function(e){return e.sort(function(e,t){var n=e.capacity-e.units;return t.capacity-t.units-n})},getPercentageFilled:function(e){return e.units/e.capacity}}},335:function(e,t,n){"use strict";t.a=function(e){return{x:e.x,y:e.y}}},404:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var r=n(71),a=[r.g.blue,r.g.red,r.g.yellow,r.g.limeGreen,r.g.green,r.g.orange,r.g.brown,r.g.pink,r.g.magenta,r.g.coral],o=a.concat(["white"])},446:function(e,t,n){"use strict";t.a=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},447:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(255),a=(n.n(r),function(e){return e[r.random(0,e.length-1,!1)]})},448:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(446),a=n(88),o=function(e,t){for(var n=e.length;n--;){var o=e[n];if(o)if(o.id!==t.id)if(Object(r.a)(o,t)-o.radius-t.radius<a.f)return!1}return!0}},465:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.welcome="welcome",e.sendFirstShip="sendFirstShip"}(r||(r={}))},466:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.requestUpgrade="upgrade.requestUpgrade",e.upgrade="upgrade.upgrade",e.upgradeError="upgrade.upgradeError"}(r||(r={}))},517:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r,a,o=n(518),i=n.n(o),s=n(159),c=n.n(s),u=n(1),l=(n.n(u),n(40)),p=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},d={info:Object(l.a)(r||(r=p(["\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.54);\n  "],["\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.54);\n  "]))),error:Object(l.a)(a||(a=p(["\n    font-size: 12px;\n    color: #983535;\n    font-weight: bold;\n  "],["\n    font-size: 12px;\n    color: #983535;\n    font-weight: bold;\n  "])))},f=function(e){var t=e.children,n=e.variant;return u.createElement(c.a,null,u.createElement(i.a,{className:d[n]},t))}},521:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(88),a=function(e,t){var n=""+(e/100).toFixed(2);return t?""+r.b+n:n}},605:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n(1),a=(n.n(r),r.createContext(void 0)),o=a.Provider,i=a.Consumer},606:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(42),a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(r.b)(function(t){return e.includes(t.type)})}},702:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.requestSendMessage="chat.requestSendMessage",e.sendMessage="chat.sendMessage",e.sendMessageError="chat.sendMessageError"}(r||(r={}))},703:function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n(71),a=(this&&this.__assign||Object.assign,{upgradeDefinitions:{UPC001:{id:"UPC001",title:"Build units per cycle",property:r.e.unitsPerCycle,addend:5,resourcesCost:5,forPlanetTypes:[r.f.generic,r.f.resource]},R001:{id:"R001",title:"Range",property:r.e.range,addend:30,resourcesCost:2,forPlanetTypes:[r.f.generic,r.f.resource]},D001:{id:"D001",title:"Defense",property:r.e.defense,addend:.1,resourcesCost:1,forPlanetTypes:[r.f.generic,r.f.resource]},A001:{id:"A001",title:"Attack",property:r.e.attack,addend:.1,resourcesCost:1,forPlanetTypes:[r.f.generic,r.f.resource]},C001:{id:"C001",title:"Capacity (max units)",property:r.e.capacity,addend:10,resourcesCost:1,forPlanetTypes:[r.f.generic,r.f.resource]},RD001:{id:"RD001",title:"Radius",property:r.e.radius,addend:10,resourcesCost:1,forPlanetTypes:[r.f.generic,r.f.resource]},RPC001:{id:"RPC001",title:"Resources per cycle",property:r.e.resourcesPerCycle,addend:1,resourcesCost:50,forPlanetTypes:[r.f.resource]}}}),o=function(e,t){return void 0===e&&(e=a),e},i=function(e){return Object.values(e.upgradeDefinitions)},s=function(e,t){return e.upgradeDefinitions[t]},c=function(e){return{upgradeDefinitions:e.upgradeDefinitions}}},704:function(e,t,n){"use strict";n.d(t,"a",function(){return re});var r,a,o,i,s,c,u,l=n(1),p=(n.n(l),n(40)),d=n(215),f=n(71),h=n(10),y=n(53),g=n(1523),m=n.n(g),b=n(1576),v=n.n(b),w=n(158),O=n.n(w),I=n(1578),P=n(1891),x=n(161),j=n.n(x),S=n(1892),C=n.n(S),k=n(1894),E=n.n(k),_=n(1895),T=n.n(_),B=n(1900),A=n.n(B),M=n(1908),D=n(1921),R=n(1922),G=n(1936),L=n(1938),U=n.n(L),F=n(1939),z=n.n(F),q=n(330),N=n(522),W=n.n(N),V=n(521),Y=n(123),H=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},X=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Z=Object(d.css)(a||(a=H(["\n  flex: 1;\n"],["\n  flex: 1;\n"]))),$=Object(p.b)(C.a)(o||(o=H(["\n  color: white;\n  margin-left: 10px;\n"],["\n  color: white;\n  margin-left: 10px;\n"]))),K=Object(p.b)("div")(i||(i=H(["\n  @media (max-width: 600px){\n    height: 56px;\n  }\n  @media (min-width: 600px){\n    height: 64px;\n  }\n  width: 100%;\n"],["\n  @media (max-width: 600px){\n    height: 56px;\n  }\n  @media (min-width: 600px){\n    height: 64px;\n  }\n  width: 100%;\n"]))),J=Object(p.b)("img")(s||(s=H(["\n  height: 16px;\n  margin-top: 3px;\n"],["\n  height: 16px;\n  margin-top: 3px;\n"]))),Q=Object(p.b)("div")(c||(c=H(["\n  flex: 1;\n"],["\n  flex: 1;\n"]))),ee=Object(p.b)("span")(u||(u=H(["\n  font-size: 67%;\n"],["\n  font-size: 67%;\n"]))),te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isLoginDialogOpen:!1,roomSelectionDialogOpen:void 0,anchorEl:void 0,howToPlayDialogOpen:!1,roomInfoDialogOpen:!1},t.onLoginClick=function(){t.setState({isLoginDialogOpen:!0})},t.onPlayClick=function(){t.setState({roomSelectionDialogOpen:!0})},t.renderToolbar=function(){var e=t.props,n=e.currentPlayer,r=(e.currentAccount,e.currentUser),a=e.inGame,o=e.size,i=t.state.anchorEl,s=Boolean(i),c="narrow"===o?z.a:U.a,u=l.createElement("span",null,l.createElement("span",{title:"Money in this match"},n?Object(V.a)(n.availableMoneyAmountInCents+n.depositAmountInCents,!0):0),n&&0!==n.depositAmountInCents?l.createElement(ee,{title:"Deposit in this match"},"-",Object(V.a)(n.depositAmountInCents,!1)):"");return l.createElement(v.a,null,l.createElement(Q,null,l.createElement(q.b,{to:"/"},l.createElement(J,{src:c}))),a&&!(n&&n.online)&&l.createElement(j.a,{variant:"contained",onClick:t.onPlayClick},"Play"),a&&r&&l.createElement(O.a,{variant:"subheading",color:"inherit",align:"right",className:Z},l.createElement("span",{title:"Name"},r.name)," ","(",u,", ",l.createElement("span",{title:"Resources"},Object(Y.a)(n?n.resources:0)),")"),l.createElement($,{"aria-label":"More","aria-owns":i?"long-menu":void 0,"aria-haspopup":"true",onClick:t.handleClick},l.createElement(A.a,null)),l.createElement(E.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:t.handleClose},(!r||!r.email)&&l.createElement(T.a,{onClick:t.onLoginClick},"Register or Login"),a&&l.createElement(T.a,{onClick:function(){return t.onMenuClick("roomInfo")}},"Room players"),l.createElement(T.a,{onClick:function(){return t.onMenuClick("howToPlay")}},"How to play?"),l.createElement(T.a,{onClick:function(){return t.onMenuClick("reddit")}},"Follow on Reddit"),r&&l.createElement(T.a,{onClick:function(){return t.onMenuClick("logout")}},"Logout")))},t.handleClick=function(e){t.setState({anchorEl:e.currentTarget})},t.handleClose=function(){t.setState({anchorEl:null})},t.onMenuClick=function(e){t.handleClose(),"howToPlay"===e?t.setState({howToPlayDialogOpen:!0}):"logout"===e?(localStorage.removeItem("sessionId"),window.location.reload()):"reddit"===e?window.open("https://www.reddit.com/r/bitplanets/"):"roomInfo"===e&&t.setState({roomInfoDialogOpen:!0})},t.onRoomInfoDialogClose=function(){t.setState({roomInfoDialogOpen:!1})},t.onHowToPlayDialogClose=function(){t.setState({howToPlayDialogOpen:!1})},t.handleLoginDialogClose=function(){t.setState({isLoginDialogOpen:!1})},t.handleRoomSelectionDialogClose=function(){t.setState({roomSelectionDialogOpen:!1})},t}return X(t,e),t.prototype.isLoaded=function(){return!0},t.prototype.render=function(){var e=this.props,t=e.currentUser,n=e.currentUserStatus,r=e.currentPlayer,a=e.connectionStatus,o=e.inGame,i=a===f.b.reconnecting,s=!this.isLoaded()||i,c=o&&!s&&!(r&&r.online)&&(void 0===this.state.roomSelectionDialogOpen||this.state.roomSelectionDialogOpen),u=o&&!s&&"none"===n&&(!t||void 0===t.name);return l.createElement(l.Fragment,null,l.createElement(m.a,null,this.renderToolbar(),l.createElement(I.a,{open:this.state.isLoginDialogOpen,onClose:this.handleLoginDialogClose}),l.createElement(P.a,{open:c,onClose:this.handleRoomSelectionDialogClose}),l.createElement(M.a,{open:this.state.howToPlayDialogOpen,onClose:this.onHowToPlayDialogClose}),l.createElement(D.a,{open:u,onLogin:this.onLoginClick}),l.createElement(R.a,{open:this.state.roomInfoDialogOpen,onClose:this.onRoomInfoDialogClose}),l.createElement(G.a,null)),l.createElement(K,null))},t}(l.Component),ne=Object(y.b)(function(e){return{playersById:h.c.players.getPlayersById(e),currentPlayer:h.c.ui.global.getCurrentPlayer(e),currentUserStatus:h.c.ui.global.getCurrentUserStatus(e),planetsById:h.c.planets.getPlanetsById(e),currentUser:h.c.ui.global.getCurrentUser(e),currentAccount:h.c.ui.global.getCurrentAccount(e),connectionStatus:h.c.ui.global.getConnectionStatus(e),depositAmountInCents:h.c.ui.global.getCurrentAccountDeposit(e)}})(te),re=W()(function(e){return{size:e.width<500?"narrow":"wide"}})(ne)},71:function(e,t,n){"use strict";var r,a,o,i,s,c,u;n.d(t,"f",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"g",function(){return u}),function(e){e.generic="generic",e.resource="resource"}(r||(r={})),function(e){e.range="range",e.defense="defense",e.attack="attack",e.capacity="capacity",e.radius="radius",e.resourcesPerCycle="resourcesPerCycle",e.unitsPerCycle="unitsPerCycle"}(a||(a={})),function(e){e.loading="loading",e.loaded="loaded",e.none="none"}(o||(o={})),function(e){e.loading="loading",e.playing="playing",e.ended="ended"}(i||(i={})),function(e){e.connected="connected",e.disconnected="disconnected",e.reconnecting="reconnecting"}(s||(s={})),function(e){e.ship="ship",e.shipStream="shipStream"}(c||(c={})),function(e){e.blue="#8397ff",e.red="#e9474a",e.yellow="#fee467",e.limeGreen="#8bc861",e.green="#088450",e.orange="#f15427",e.brown="#70401a",e.pink="#f493be",e.magenta="#ff00ff",e.coral="#ffd8ae"}(u||(u={}))},808:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(266),a=function(){return r.a?"http://server.bitplanets.com":"undefined"===typeof window?"http://localhost":"http://"+window.location.hostname}},809:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var r=80,a=81},88:function(e,t,n){"use strict";n.d(t,"h",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"j",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"i",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return d});var r="#515763",a=10,o=50,i=128,s="\u2756",c="\u269c",u=[1,3,6,10,15,30,60,180,360,500,750,1e3],l=1,p=100,d=!1}},[1104]);